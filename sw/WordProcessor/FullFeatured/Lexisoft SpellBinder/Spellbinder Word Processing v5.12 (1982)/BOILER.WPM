;  1/25/82  BOILER;:pr "#1/#13/#13/Boiler will extract stock text from a boiler":pr "#13/plate master file.  This text is inserted into the":pr "#13/document you wish to create.#13/#13/":pr "You will be asked for the filenames for the document":pr "#13/and for the boilerplate master file.  The files ":pr "#13/'BOILER.LET' and 'BOILER.A' can be used to demonstrate":pr "#13/the functions.#13/#13/:in "Hit any key to continue";:on -1 95;:pr "#1/":in "#0/#3/#6/     Filename of document                 "%Aro/%A/:on $0 /-3 /-3 /r:in "#0/#3/#3/#6/     Filename of boilerplate master file  "%Aro/%A/:on $0 /-3 /-3 /:on %6 / /+3 /:pr "#0/#3/#3/#3/#6/":in "     Write filename                       "%Bwo/%B/r;;;PREPROCESS BOILERPLATE SOURCE FILE:on ?-38 / /+4 /;  Has top and bottom been processed?s//&</        ;Put ampersand at start of boilerplate as targete/s/#a<</;;;;;ts/\*/*/:on ?-3 / 70    ;Exit if there are no more stars:%1 = !:%A = "%1"      ;get star number from target file;:pr "#1/Now processing document, item number %A":on %6 / /+8 /  ;Either write it to disk or form it in memory;:%3=$3-1t/h0/h%3/e/u:%3 = $3-1s/^//t/f%3w/t;;s/\#%A¦/:on ?-3 /+1 / /+1t/s/\*%A/`%A/:%4=$3         ;Process boiler item - code linef1/s/\#/?/b2/s/</^</      ;Put mark at endT/F%4h0/h/b1/d2    ;Write it in the hold buffert/s/\*%A¦/s/\*%A//U     ;find the target again and unhold there.:on ?-3 /-3 38 /-3;;;;;EXITt/s/&<//          ;boilerplate filed5000tsa/^//        ;Get rid of marks in target and get rid ofh0/tsa/`/*/;;;;;:on %6 / / /+3Y 1 90 110 0 0 1 0 65 2 2t/v/T:on -1 300gd:on -1 300;;;;;;;;OPTION TABLE:%6 = 0      ;0=form in memory, 1=write to disk:on -1 14