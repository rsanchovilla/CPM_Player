###    1/20/82     Requires 5.1 or greater              *** цуесорт мацрофеатуре ***                 Cuesort sorts a file by predefined categories.  The categories are designated A,B,C etc. up to S.  Each categorycan have a predefined value of 1 up to 999999.   To sort, you designate a value for each category on whichyou wish to sort.  The value '0' means that the category isirrelevent - all records will be selected regardless of thatparticular category.  Categories are 'anded';  for example, if you designate A=1 and B=1, only those records on which thevalue of both A and B are 1 will be selected.                  Records are taken from a master or source file.  Theselected records are written to a destination file.  The file'CUSLIST.DEM' is a sample source file that can be used fordemonstration.##A       "10"            "Number of lines in each RECORD          "B       " E"            "Final Sort Variable (S is maximum)      "C       " 0"            "Strip Sort Line (1=Yes, 0=No)           "#:pr "#1/#13/#13/Specify the unsorted file                 ":in %Aro/%A/;:pr "#0/#13/#13/#13/Specify a name for the sorted file        ":in %Awo/%A/:on -1 112;:pr "#1/#13/#13/                        CUE SORT#13/#13/":pr "Enter target number when asked about each sort category:pr "#13/If there is no target, enter a '0'.#13/#13/";;;DATA INPUTt/s//A B C D E F G H I J K L M N O P Q R S</T/S/%A?/?/D1/S//</t:%U = !:%0 = %0+1:pr "%U":in %Z:on ?-13 19 / 19t/d1:%4 = %0:%0 = -1;;;;;;;;;;;;GET NEW RECORD AND FORMAT IT:on $0 / 102 /r%6s//x^/t/b0/h0/h1/e/u       ;otherwise put new sort line at EOFe/s//A B C D E F G H I J K L M N O P Q R S</:%8 = %4+%4+3b1:mc %8d1/s//</d;;;;GET SELECTION CRITERIA:%0 = %0+1         ;Increment index variablee/b1:%U = !s//^/:%V = !b0/d;;;;;IS IT AUTOMATIC PASS:on %Z%T / 74 /       ;Pass over variable if 0 entered;;;;DOES IT MATCH CRITERIONt/f/s/%U%Z%V/?/:on ?-3 / 78          ;No match, goto miss handler;;;;IS IT LAST CRITERION:on %0-%4 52 85 52;;;MISS HANDLERt/d%6+4 ;miss handler:%0 = -1:ON -1  38;;;;HIT HANDLER & STRIPPERb0/d1/t/u/d:%0 = -1e/b1/d1:on %5 / 95 /t/S//.</ ;Get rid of sort fieldD1;Specify additional lines to be stripped here;;t/w%6:cpd%6+4:%2 = %2+1;           HIT COUNTER:on -1 38;;;EXITt/d100/h0/wd:pr "#1/#13/#7/JOB COMPLETED - %2 records written to file":pr "#13/Hit any key to regain control":in:on -1 200;;;;;INITIALIZATION:ss 7:%T = "0":%0 = -1;OPTION TABLE:%6 = $A        ;how many lines in each file:%A = $B        ;maximum number of sort variables:%5 = $C        ;strip line(s) 0=no, 1=yes:on -1 10;10/26/81