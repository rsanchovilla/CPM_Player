EXT Ustatus
CC1:
fwrite::
POP B
POP H
PUSH H
PUSH B
PUSH H
LXI H,10
DAD SP
CALL CCGINT##
PUSH H
LXI H,8
DAD SP
CALL CCGINT##
XCHG;;
LXI H,10
DAD SP
CALL CCGINT##
CALL CCMULT##
PUSH H
CALL write
POP B
POP B
POP B
XCHG;;
LXI H,-1
CALL CCEQ##
MOV A,H
ORA L
JZ CC3
LXI H,0
RET
CC3:
LXI H,4
DAD SP
CALL CCGINT##
RET
write::
PUSH B
LXI H,0
DAD SP
XCHG;;
LXI H,4
DAD SP
CALL CCGINT##
CALL CCPINT##
CC5:
LXI H,0
DAD SP
MOV D,H
MOV E,L
CALL CCGINT##
DCX H
CALL CCPINT##
INX H
MOV A,H
ORA L
JZ CC6
LXI H,6
DAD SP
MOV D,H
MOV E,L
CALL CCGINT##
INX H
CALL CCPINT##
DCX H
CALL CCGCHAR##
PUSH H
LXI H,10
DAD SP
CALL CCGINT##
PUSH H
CALL Uwrite
POP B
POP B
LXI H,Ustatus
XCHG;;
LXI H,08
DAD SP
CALL CCGINT##
DAD H
DAD D
CALL CCGINT##
XCHG;;
LXI H,8
CALL CCAND##
MOV A,H
ORA L
JZ CC7
LXI H,-1
POP B
RET
CC7:
JMP CC5
CC6:
LXI H,4
DAD SP
CALL CCGINT##
POP B
RET
EXT Uwrite
END
