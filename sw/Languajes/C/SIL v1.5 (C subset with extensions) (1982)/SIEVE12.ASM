	MACLIB SILZ80
main:
	LXI H,CC0H+0H
	PUSH H
	CALL putstr
	CALL getchar
	LXI H,0DH
	PUSH H
	CALL putchar
	LXI H,0AH
	PUSH H
	CALL putchar
	LXI H,1H
	SHLD iter
CC1H:
	LHLD iter
	PUSH H
	LXI H,0AH
	EXTRN CCULE
	CALL CCULE
	JZ CC2H
	LXI H,0H
	SHLD count
	LXI H,0H
	SHLD i1
CC3H:
	LHLD i1
	PUSH H
	LXI H,1FFEH
	CALL CCULE
	JZ CC4H
	LXI H,flags
	PUSH H
	LHLD i1
	POP D
	DAD D
	PUSH H
	LXI H,1H
	EXTRN CCPCHAR
	CALL CCPCHAR
	LXI H,i1
	CALL CCIIO
	BR CC3H
CC4H:
	LXI H,0H
	SHLD i1
CC5H:
	LHLD i1
	PUSH H
	LXI H,1FFEH
	CALL CCULE
	JZ CC6H
	LXI H,flags
	PUSH H
	LHLD i1
	POP D
	DAD D
	EXTRN CCGCHAR
	CALL CCGCHAR
	JZ CC7H
	LHLD i1
	PUSH H
	LHLD i1
	POP D
	DAD D
	PUSH H
	LXI H,3H
	POP D
	DAD D
	SHLD prime
	LHLD i1
	PUSH H
	LHLD prime
	POP D
	DAD D
	SHLD k
CC8H:
	LHLD k
	PUSH H
	LXI H,1FFEH
	CALL CCULE
	JZ CC9H
	LXI H,flags
	PUSH H
	LHLD k
	POP D
	DAD D
	PUSH H
	LXI H,0H
	CALL CCPCHAR
	LHLD k
	PUSH H
	LHLD prime
	POP D
	DAD D
	SHLD k
	BR CC8H
CC9H:
	LXI H,count
	CALL CCIIO
CC7H:
	LXI H,i1
	CALL CCIIO
	BR CC5H
CC6H:
	LXI H,iter
	EXTRN CCIIO
	CALL CCIIO
	BR CC1H
CC2H:
	LXI H,7H
	PUSH H
	CALL putchar
	LHLD count
	PUSH H
	CALL prtdec
	LXI H,CC0H+21H
	PUSH H
	CALL puts
	LXI H,0DH
	PUSH H
	CALL putchar
	LXI H,0AH
	PUSH H
	CALL putchar
	LXI H,CC0H+30H
	PUSH H
	CALL puts
	LXI H,0H
	PUSH H
	LXI H,0H
	PUSH H
	CALL bdos
	RET
prtdec:
	PUSH B
	PUSH B
	PUSH B
	LXI H,8H
	DAD SP
	EXTRN CCGINT
	CALL CCGINT
	PUSH H
	LXI H,2H
	DAD SP
	PUSH H
	CALL itoa
	PUSH H
	CALL putstr
	POP B
	POP B
	POP B
	EXTRN CCAHAK
	CALL CCAHAK
	DB 1H
CC0H:
	DB 48H,69H,74H,20H,72H,65H,74H,75H,72H,6EH
	DB 20H,74H,6FH,20H,64H,6FH,20H,31H,30H,20H
	DB 69H,74H,65H,72H,61H,74H,69H,6FH,6EH,73H
	DB 3AH,20H,0H,20H,70H,72H,69H,6DH,65H,73H
	DB 20H,66H,6FH,75H,6EH,64H,2EH,0H,44H,6FH
	DB 6EH,65H,0H
	EXTRN bdos
count:	DS 2H
flags:	DS 1FFFH
	EXTRN getchar
i1:	DS 2H
iter:	DS 2H
	EXTRN itoa
k:	DS 2H
prime:	DS 2H
	EXTRN putchar
	EXTRN puts
	EXTRN putstr

;0H ERROR(S) IN COMPILATION
	END
IIO
	BR CC5H
CC6H:
	LXI H,iter
	EXTRN CCIIO
	CALL CCIIO
	BR CC1H
CC2H:
	LXI H,7H
	PUSH H
	CALL putchar
	LHLD count
	PUSH H
	CALL prtdec
	LXI H,CC0H+21H
	PUSH H
	CALL puts
	LXI H,0DH
	PUSH H
	CALL putchar
	LXI H,0AH
	PUSH H
	CALL putchar
	LXI H,CC0H+30H
	PUSH H
	CALL puts
	LXI H,0H
	PUSH H
	LXI H,0H
	PUSH H
	CALL bdos
	RET
prtdec:
	PUSH B
	PUSH B
	PUSH B
	LXI H,8H
	DAD SP
	EXTRN CCGINT
	CALL CCGINT
	PUSH H
	LXI H,2H
	DAD SP
	PUSH H
	CALL itoa
	PUSH H
	CALL putstr
	POP B
	POP B
	POP B
	EXTRN CCAHAK
	CALL CCAHAK
	DB 1H
CC0H:
	DB 48H,69H,74H,20H,72H,65H,74H,75H,72H,6EH
	DB 20H,74H,6FH,20H,64H,6FH,20H,31H,30H,20H
	DB 69H,74H,65H,72H,61H,74H,69H,6FH,6EH,73H
	DB 3AH,20H,0H,20H,70H,72H,69H,6DH,65H,73H
	DB 20H,66H,6FH,75H,6EH,64H,2EH,0H,44H,6FH
	DB 6EH,65H,0H
	EXTRN bdos
count:	DS 2H
flags:	DS 1FFFH
	EXTRN getchar
i1:	DS 2H
iter:	DS 2H
	EXTRN itoa
k:	DS 2H
prime:	DS 2H
	EXTRN putch