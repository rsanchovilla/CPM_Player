; Mem Map 
;
; 0c80-0c81 	MTOP	hight RAM the system can access
; 0c82-0c83	EOFP	end address sourcetext
; 0c84-0c85	PEND	end address object code
; 0c92-0c93	WSP	work space stack pointer during program execution
; 0c94-0c95	PMTP	High RAM addr the executing program can read			
;
  0000-03ff   ROM (Nascom1 Monitor)
  0400-07ff   ROM (Nascom2 Monitor extension)
  
  0800-0bff   RAM (Screen)
  0c00-0c7f   RAM (NasCom vars)
  0c80-0cff   RAM (BLS Pascal compiler variables)
  0d00-0fff   RAM (Stack space)
; 
; 1000 --------
;      source text
; EOFP --------
:      object code
; PEND --------
;      program workspace
; MTOP --------
;
; D000 --------
;      runtime
; E180 --------
;      operating system
; E980 --------
;      compiler
; FFFF --------    

; Versions
;
; Integer Pascal 2.0		  1980
; BLS Pascal Version 1.0	  1981
; BLS Pascal Version 1.2          1981
; Nascom Pascal 2.0               1981 (same as BLS 1.2?)
; BLS Pascal Version 1.3	  1982
; COMPAS V1.0 (CP/M version)  (c) 1982
; COMPAS V2.10 (CP/M version) (c) 1983
; COMPAS V2.20 (CP/M version) (c) 1983
; COMPAS V3.02 (CP/M version) (c) 1983
; Turbo pascal 1.0                1983
; Turbo pascal 2.00               1984
; Turbo pascal 3.00               1985
; Turbo pascal 3.01A              1985
; PolyPascal-80 V3.10 (CP/M)  (c) 1985



D000 C380E1    JP      #E180	; Jump to Cold Start



D003 0E3F     ; LD      C,#3F       ; get keypressed in main menu
d005 21C00C   ; LD      HL,#0CC0
d008 0600     ; LD      B,#00
d00a E5       ; PUSH    HL
d00b DF7B     ; RST     #18; db #7B ;   SCAL #7B = SCAL BLINK Obtain an input character in A. Blink cursor while waiting. 
              ;
D00d E1       ; POP     HL
D00e 77       ; LD      (HL),A
D00f FE0D     ; CP      #0D		; check return key pressed
D011 C8       ; RET     Z
D012 FE08     ; CP      #08		; check BackSpace key pressed
D014 2007     ; JR      NZ,#D01D
D016 05       ; DEC     B
D017 FA05D0   ; JP      M,#D005
D01a 2B       ; DEC     HL
D01b 1818     ; JR      #D035
D01d FE1B     ; CP      #1B		; check ESC key pressed
D01f 2009     ; JR      NZ,#D02A
D021 05       ; DEC     B
D022 FA05D0   ; JP      M,#D005
D025 3E08     ; LD      A,#08
D027 F7       ; RST     #30     ; ROUT    Output the character in the A register.
D028 18F7     ; JR      #D021
D02a FE20     ; CP      #20
D02c 38DC     ; JR      C,#D00A
D02e 78       ; LD      A,B
D02f B9       ; CP      C
D030 28D8     ; JR      Z,#D00A
D032 7E       ; LD      A,(HL)
D033 04       ; INC     B
D034 23       ; INC     HL
D035 F7       ; RST     #30    ; ROUT    Output the character in the A register.
D036 18D2     ; JR      #D00A
              ;
; RUNTIME LIB ;
              ;
d038 D9       ; EXX     
d039 CB78     ; BIT     7,B
d03b D9       ; EXX     
d03c C2C6D0   ; JP      NZ,#D0C6
d03f D9       ; EXX     
d040 7D       ; LD      A,L
d041 B7       ; OR      A
d042 D9       ; EXX     
d043 C8       ; RET     Z
              ;
d044 D9       ; EXX     
d045 C5       ; PUSH    BC
d046 D5       ; PUSH    DE
d047 E5       ; PUSH    HL
d048 D9       ; EXX     
d049 7D       ; LD      A,L
d04a B7       ; OR      A
d04b 2005     ; JR      NZ,#D052
d04d D9       ; EXX     
d04e CBB8     ; RES     7,B
d050 1859     ; JR      #D0AB
d052 C5       ; PUSH    BC
d053 CBF8     ; SET     7,B
d055 AF       ; XOR     A
d056 08       ; EX      AF,AF'
d057 D9       ; EXX     
d058 CBF8     ; SET     7,B
d05a 7D       ; LD      A,L
d05b D9       ; EXX     
d05c 95       ; SUB     L
d05d 2813     ; JR      Z,#D072
d05f 3006     ; JR      NC,#D067
d061 ED44     ; NEG     
d063 08       ; EX      AF,AF'
d064 3D       ; DEC     A
d065 08       ; EX      AF,AF'
d066 D9       ; EXX     
d067 CDC0D1   ; CALL    #D1C0
d06a 2C       ; INC     L
d06b 3D       ; DEC     A
d06c 20F9     ; JR      NZ,#D067
d06e 08       ; EX      AF,AF'
d06f 2801     ; JR      Z,#D072
d071 D9       ; EXX     
d072 F1       ; POP     AF
d073 E680     ; AND     #80
d075 2014     ; JR      NZ,#D08B
d077 CDD8D1   ; CALL    #D1D8
d07a 302A     ; JR      NC,#D0A6
d07c CDC1D1   ; CALL    #D1C1
d07f B7       ; OR      A
d080 2C       ; INC     L
d081 2023     ; JR      NZ,#D0A6
d083 E1       ; POP     HL
d084 E1       ; POP     HL
d085 E1       ; POP     HL
d086 3E01     ; LD      A,#01
d088 C323E1   ; JP      #E123
d08b CD0CD2   ; CALL    #D20C
d08e 3F       ; CCF     
d08f F5       ; PUSH    AF
d090 2810     ; JR      Z,#D0A2
d092 3801     ; JR      C,#D095
d094 D9       ; EXX     
d095 CDF2D1   ; CALL    #D1F2
d098 CB78     ; BIT     7,B
d09a 2009     ; JR      NZ,#D0A5
d09c CDCCD1   ; CALL    #D1CC
d09f 2D       ; DEC     L
d0a0 20F6     ; JR      NZ,#D098
d0a2 CDB8D1   ; CALL    #D1B8
d0a5 F1       ; POP     AF
d0a6 3802     ; JR      C,#D0AA
d0a8 CBB8     ; RES     7,B
d0aa B7       ; OR      A
d0ab D9       ; EXX     
d0ac E1       ; POP     HL
d0ad D1       ; POP     DE
d0ae C1       ; POP     BC
d0af D9       ; EXX     
d0b0 C9       ; RET     
              ;
d0b1 CDE5D5   ; CALL    #D5E5
d0b4 CD35D1   ; CALL    #D135
d0b7 D0       ; RET     NC
              ;
d0b8 18CC     ; JR      #D086
d0ba CDD4D0   ; CALL    #D0D4
d0bd 18F8     ; JR      #D0B7
d0bf D9       ; EXX     
d0c0 CB78     ; BIT     7,B
d0c2 D9       ; EXX     
d0c3 C23FD0   ; JP      NZ,#D03F
d0c6 CDCCD0   ; CALL    #D0CC
d0c9 CD3FD0   ; CALL    #D03F
d0cc 2C       ; INC     L
d0cd 2D       ; DEC     L
d0ce C8       ; RET     Z
              ;
d0cf 78       ; LD      A,B
d0d0 EE80     ; XOR     #80
d0d2 47       ; LD      B,A
d0d3 C9       ; RET     
              ;
d0d4 D9       ; EXX     
d0d5 2C       ; INC     L
d0d6 2D       ; DEC     L
d0d7 D9       ; EXX     
d0d8 3E02     ; LD      A,#02
d0da CA31DF   ; JP      Z,#DF31
d0dd 7D       ; LD      A,L
d0de B7       ; OR      A
d0df C8       ; RET     Z
              ;
d0e0 D9       ; EXX     
d0e1 95       ; SUB     L
d0e2 D9       ; EXX     
d0e3 3F       ; CCF     
d0e4 CD93D1   ; CALL    #D193
d0e7 E5       ; PUSH    HL
d0e8 E5       ; PUSH    HL
d0e9 E5       ; PUSH    HL
d0ea DD39     ; ADD     IX,SP
d0ec D9       ; EXX     
d0ed 2E05     ; LD      L,#05
d0ef D9       ; EXX     
d0f0 3E08     ; LD      A,#08
d0f2 08       ; EX      AF,AF'
d0f3 CD0CD2   ; CALL    #D20C
d0f6 3803     ; JR      C,#D0FB
d0f8 CDF2D1   ; CALL    #D1F2
d0fb 3F       ; CCF     
d0fc CB15     ; RL      L
d0fe 08       ; EX      AF,AF'
d0ff 3D       ; DEC     A
d100 200C     ; JR      NZ,#D10E
d102 DD7505   ; LD      (IX+#05),L
d105 DD2B     ; DEC     IX
d107 D9       ; EXX     
d108 2D       ; DEC     L
d109 D9       ; EXX     
d10a 280E     ; JR      Z,#D11A
d10c 3E08     ; LD      A,#08
d10e CDCCD1   ; CALL    #D1CC
d111 30DF     ; JR      NC,#D0F2
d113 08       ; EX      AF,AF'
d114 CDF2D1   ; CALL    #D1F2
d117 B7       ; OR      A
d118 18E1     ; JR      #D0FB
d11a CDCCD1   ; CALL    #D1CC
d11d 3804     ; JR      C,#D123
d11f CD0CD2   ; CALL    #D20C
d122 3F       ; CCF     
d123 E1       ; POP     HL
d124 D1       ; POP     DE
d125 C1       ; POP     BC
d126 CB78     ; BIT     7,B
d128 2005     ; JR      NZ,#D12F
d12a CDCDD1   ; CALL    #D1CD
d12d 1850     ; JR      #D17F
d12f 2C       ; INC     L
d130 204D     ; JR      NZ,#D17F
d132 37       ; SCF     
d133 184B     ; JR      #D180
d135 D9       ; EXX     
d136 7D       ; LD      A,L
d137 B7       ; OR      A
d138 D9       ; EXX     
d139 CAB8D1   ; JP      Z,#D1B8
d13c 7D       ; LD      A,L
d13d B7       ; OR      A
d13e C8       ; RET     Z
              ;
d13f D9       ; EXX     
d140 85       ; ADD     A,L
d141 D9       ; EXX     
d142 CD93D1   ; CALL    #D193
d145 C5       ; PUSH    BC
d146 D5       ; PUSH    DE
d147 E5       ; PUSH    HL
d148 DD39     ; ADD     IX,SP
d14a CDB8D1   ; CALL    #D1B8
d14d D9       ; EXX     
d14e 2E05     ; LD      L,#05
d150 D9       ; EXX     
d151 3E08     ; LD      A,#08
d153 DD23     ; INC     IX
d155 DD6E00   ; LD      L,(IX+#00)
d158 08       ; EX      AF,AF'
d159 CB1D     ; RR      L
d15b 3003     ; JR      NC,#D160
d15d CDD8D1   ; CALL    #D1D8
d160 CDC1D1   ; CALL    #D1C1
d163 08       ; EX      AF,AF'
d164 3D       ; DEC     A
d165 20F1     ; JR      NZ,#D158
d167 D9       ; EXX     
d168 2D       ; DEC     L
d169 D9       ; EXX     
d16a 20E5     ; JR      NZ,#D151
d16c DD6EFB   ; LD      L,(IX-#05)
d16f CB78     ; BIT     7,B
d171 2009     ; JR      NZ,#D17C
d173 08       ; EX      AF,AF'
d174 CDCDD1   ; CALL    #D1CD
d177 2C       ; INC     L
d178 2D       ; DEC     L
d179 2801     ; JR      Z,#D17C
d17b 2D       ; DEC     L
d17c F1       ; POP     AF
d17d F1       ; POP     AF
d17e F1       ; POP     AF
d17f B7       ; OR      A
d180 08       ; EX      AF,AF'
d181 F1       ; POP     AF
d182 D9       ; EXX     
d183 C1       ; POP     BC
d184 E1       ; POP     HL
d185 D9       ; EXX     
d186 DDE1     ; POP     IX
d188 CBB8     ; RES     7,B
d18a B0       ; OR      B
d18b 47       ; LD      B,A
d18c 2C       ; INC     L
d18d 2D       ; DEC     L
d18e CCB8D1   ; CALL    Z,#D1B8
d191 08       ; EX      AF,AF'
d192 C9       ; RET     
              ;
d193 3806     ; JR      C,#D19B
d195 C680     ; ADD     A,#80
d197 3806     ; JR      C,#D19F
d199 181B     ; JR      #D1B6
d19b C680     ; ADD     A,#80
d19d 3817     ; JR      C,#D1B6
d19f 6F       ; LD      L,A
d1a0 DDE3     ; EX      (SP),IX
d1a2 D9       ; EXX     
d1a3 E5       ; PUSH    HL
d1a4 C5       ; PUSH    BC
d1a5 78       ; LD      A,B
d1a6 CBF8     ; SET     7,B
d1a8 D9       ; EXX     
d1a9 A8       ; XOR     B
d1aa E680     ; AND     #80
d1ac F5       ; PUSH    AF
d1ad CBF8     ; SET     7,B
d1af DDE5     ; PUSH    IX
d1b1 DD210000 ; LD      IX,#0000
d1b5 C9       ; RET     
              ;
d1b6 E1       ; POP     HL
d1b7 D8       ; RET     C
              ;
d1b8 AF       ; XOR     A
d1b9 6F       ; LD      L,A
d1ba 47       ; LD      B,A
d1bb 4F       ; LD      C,A
d1bc 57       ; LD      D,A
d1bd 5F       ; LD      E,A
d1be 67       ; LD      H,A
d1bf C9       ; RET     
              ;
d1c0 B7       ; OR      A
d1c1 CB18     ; RR      B
d1c3 CB19     ; RR      C
d1c5 CB1A     ; RR      D
d1c7 CB1B     ; RR      E
d1c9 CB1C     ; RR      H
d1cb C9       ; RET     
              ;
d1cc B7       ; OR      A
d1cd CB14     ; RL      H
d1cf CB13     ; RL      E
d1d1 CB12     ; RL      D
d1d3 CB11     ; RL      C
d1d5 CB10     ; RL      B
d1d7 C9       ; RET     
              ;
d1d8 7C       ; LD      A,H
d1d9 D9       ; EXX     
d1da 84       ; ADD     A,H
d1db D9       ; EXX     
d1dc 67       ; LD      H,A
d1dd 7B       ; LD      A,E
d1de D9       ; EXX     
d1df 8B       ; ADC     A,E
d1e0 D9       ; EXX     
d1e1 5F       ; LD      E,A
d1e2 7A       ; LD      A,D
d1e3 D9       ; EXX     
d1e4 8A       ; ADC     A,D
d1e5 D9       ; EXX     
d1e6 57       ; LD      D,A
d1e7 79       ; LD      A,C
d1e8 D9       ; EXX     
d1e9 89       ; ADC     A,C
d1ea D9       ; EXX     
d1eb 4F       ; LD      C,A
d1ec 78       ; LD      A,B
d1ed D9       ; EXX     
d1ee 88       ; ADC     A,B
d1ef D9       ; EXX     
d1f0 47       ; LD      B,A
d1f1 C9       ; RET     
              ;
d1f2 7C       ; LD      A,H
d1f3 D9       ; EXX     
d1f4 94       ; SUB     H
d1f5 D9       ; EXX     
d1f6 67       ; LD      H,A
d1f7 7B       ; LD      A,E
d1f8 D9       ; EXX     
d1f9 9B       ; SBC     A,E
d1fa D9       ; EXX     
d1fb 5F       ; LD      E,A
d1fc 7A       ; LD      A,D
d1fd D9       ; EXX     
d1fe 9A       ; SBC     A,D
d1ff D9       ; EXX     
d200 57       ; LD      D,A
d201 79       ; LD      A,C
d202 D9       ; EXX     
d203 99       ; SBC     A,C
d204 D9       ; EXX     
d205 4F       ; LD      C,A
d206 78       ; LD      A,B
d207 D9       ; EXX     
d208 98       ; SBC     A,B
d209 D9       ; EXX     
d20a 47       ; LD      B,A
d20b C9       ; RET     
              ;
d20c 78       ; LD      A,B
d20d D9       ; EXX     
d20e B8       ; CP      B
d20f D9       ; EXX     
d210 C0       ; RET     NZ
              ;
d211 79       ; LD      A,C
d212 D9       ; EXX     
d213 B9       ; CP      C
d214 D9       ; EXX     
d215 C0       ; RET     NZ
              ;
d216 7A       ; LD      A,D
d217 D9       ; EXX     
d218 BA       ; CP      D
d219 D9       ; EXX     
d21a C0       ; RET     NZ
              ;
d21b 7B       ; LD      A,E
d21c D9       ; EXX     
d21d BB       ; CP      E
d21e D9       ; EXX     
d21f C0       ; RET     NZ
              ;
d220 7C       ; LD      A,H
d221 D9       ; EXX     
d222 BC       ; CP      H
d223 D9       ; EXX     
d224 C9       ; RET     
              ;
d225 D9       ; EXX     
d226 78       ; LD      A,B
d227 D9       ; EXX     
d228 A8       ; XOR     B
d229 F22FD2   ; JP      P,#D22F
d22c 78       ; LD      A,B
d22d 17       ; RLA     
d22e C9       ; RET     
              ;
d22f CB78     ; BIT     7,B
d231 2806     ; JR      Z,#D239
d233 CD39D2   ; CALL    #D239
d236 C8       ; RET     Z
              ;
d237 3F       ; CCF     
d238 C9       ; RET     
              ;
d239 7D       ; LD      A,L
d23a D9       ; EXX     
d23b BD       ; CP      L
d23c D9       ; EXX     
d23d C0       ; RET     NZ
              ;
d23e B7       ; OR      A
d23f C8       ; RET     Z
              ;
d240 C30CD2   ; JP      #D20C
d243 DDE1     ; POP     IX
d245 CDE5DA   ; CALL    #DAE5
d248 ED7B9F0C ; LD      SP,(#0C9F)
d24c DDE5     ; PUSH    IX
d24e 1809     ; JR      #D259
d250 CD25D2   ; CALL    #D225
d253 1804     ; JR      #D259
d255 EB       ; EX      DE,HL
d256 CD77D9   ; CALL    #D977
d259 E3       ; EX      (SP),HL
d25a 7E       ; LD      A,(HL)
d25b 23       ; INC     HL
d25c E3       ; EX      (SP),HL
d25d 210000   ; LD      HL,#0000
d260 F5       ; PUSH    AF
d261 C1       ; POP     BC
d262 CB7F     ; BIT     7,A
d264 2004     ; JR      NZ,#D26A
d266 A1       ; AND     C
d267 C0       ; RET     NZ
              ;
d268 2B       ; DEC     HL
d269 C9       ; RET     
              ;
d26a CBBF     ; RES     7,A
d26c A1       ; AND     C
d26d C8       ; RET     Z
              ;
d26e 2B       ; DEC     HL
d26f C9       ; RET     
              ;
d270 7D       ; LD      A,L
d271 D681     ; SUB     #81
d273 DAB8D1   ; JP      C,#D1B8
d276 3C       ; INC     A
d277 FE28     ; CP      #28
d279 D0       ; RET     NC
              ;
d27a D9       ; EXX     
d27b C5       ; PUSH    BC
d27c D5       ; PUSH    DE
d27d E5       ; PUSH    HL
d27e 08       ; EX      AF,AF'
d27f CDB8D1   ; CALL    #D1B8
d282 08       ; EX      AF,AF'
d283 37       ; SCF     
d284 CDC1D1   ; CALL    #D1C1
d287 3D       ; DEC     A
d288 20F9     ; JR      NZ,#D283
d28a D9       ; EXX     
d28b 7C       ; LD      A,H
d28c D9       ; EXX     
d28d A4       ; AND     H
d28e D9       ; EXX     
d28f 67       ; LD      H,A
d290 7B       ; LD      A,E
d291 D9       ; EXX     
d292 A3       ; AND     E
d293 D9       ; EXX     
d294 5F       ; LD      E,A
d295 7A       ; LD      A,D
d296 D9       ; EXX     
d297 A2       ; AND     D
d298 D9       ; EXX     
d299 57       ; LD      D,A
d29a 79       ; LD      A,C
d29b D9       ; EXX     
d29c A1       ; AND     C
d29d D9       ; EXX     
d29e 4F       ; LD      C,A
d29f 78       ; LD      A,B
d2a0 D9       ; EXX     
d2a1 A0       ; AND     B
d2a2 D9       ; EXX     
d2a3 47       ; LD      B,A
d2a4 C3ABD0   ; JP      #D0AB
d2a7 D9       ; EXX     
d2a8 C5       ; PUSH    BC
d2a9 D5       ; PUSH    DE
d2aa E5       ; PUSH    HL
d2ab D9       ; EXX     
d2ac CDE5D5   ; CALL    #D5E5
d2af D9       ; EXX     
d2b0 CD70D2   ; CALL    #D270
d2b3 D9       ; EXX     
d2b4 CDBFD0   ; CALL    #D0BF
d2b7 18EB     ; JR      #D2A4
d2b9 7D       ; LD      A,L
d2ba B7       ; OR      A
d2bb C8       ; RET     Z
              ;
d2bc CB78     ; BIT     7,B
d2be 3E03     ; LD      A,#03
d2c0 C223E1   ; JP      NZ,#E123
d2c3 CDE5D5   ; CALL    #D5E5
d2c6 7D       ; LD      A,L
d2c7 C680     ; ADD     A,#80
d2c9 CB2F     ; SRA     A
d2cb C680     ; ADD     A,#80
d2cd 6F       ; LD      L,A
d2ce D614     ; SUB     #14
d2d0 F5       ; PUSH    AF
d2d1 D9       ; EXX     
d2d2 C5       ; PUSH    BC
d2d3 D5       ; PUSH    DE
d2d4 E5       ; PUSH    HL
d2d5 CDD4D0   ; CALL    #D0D4
d2d8 CD38D0   ; CALL    #D038
d2db 2D       ; DEC     L
d2dc C5       ; PUSH    BC
d2dd D5       ; PUSH    DE
d2de E5       ; PUSH    HL
d2df CDBFD0   ; CALL    #D0BF
d2e2 7D       ; LD      A,L
d2e3 E1       ; POP     HL
d2e4 D1       ; POP     DE
d2e5 C1       ; POP     BC
d2e6 D9       ; EXX     
d2e7 E1       ; POP     HL
d2e8 D1       ; POP     DE
d2e9 C1       ; POP     BC
d2ea E3       ; EX      (SP),HL
d2eb BC       ; CP      H
d2ec E3       ; EX      (SP),HL
d2ed 30E3     ; JR      NC,#D2D2
d2ef F1       ; POP     AF
d2f0 D9       ; EXX     
d2f1 C9       ; RET     
              ;
d2f2 D9       ; EXX     
d2f3 CDD1D5   ; CALL    #D5D1
d2f6 2D       ; DEC     L
d2f7 CDBFD0   ; CALL    #D0BF
d2fa D9       ; EXX     
d2fb CDD1D5   ; CALL    #D5D1
d2fe 2C       ; INC     L
d2ff D9       ; EXX     
d300 7D       ; LD      A,L
d301 FE6C     ; CP      #6C
d303 D8       ; RET     C
              ;
d304 C5       ; PUSH    BC
d305 CBB8     ; RES     7,B
d307 CD25D2   ; CALL    #D225
d30a C1       ; POP     BC
d30b 3809     ; JR      C,#D316
d30d CDD4D0   ; CALL    #D0D4
d310 CDA7D2   ; CALL    #D2A7
d313 CD35D1   ; CALL    #D135
d316 CB78     ; BIT     7,B
d318 2803     ; JR      Z,#D31D
d31a CD38D0   ; CALL    #D038
d31d D9       ; EXX     
d31e 2D       ; DEC     L
d31f D9       ; EXX     
d320 CD25D2   ; CALL    #D225
d323 F5       ; PUSH    AF
d324 3803     ; JR      C,#D329
d326 CDBFD0   ; CALL    #D0BF
d329 D9       ; EXX     
d32a 2D       ; DEC     L
d32b D9       ; EXX     
d32c CD25D2   ; CALL    #D225
d32f 3805     ; JR      C,#D336
d331 D9       ; EXX     
d332 2C       ; INC     L
d333 CDBFD0   ; CALL    #D0BF
d336 7D       ; LD      A,L
d337 FE6C     ; CP      #6C
d339 383B     ; JR      C,#D376
d33b D9       ; EXX     
d33c 01AA2A   ; LD      BC,#2AAA
d33f 11AAAA   ; LD      DE,#AAAA
d342 217FAA   ; LD      HL,#AA7F
d345 CD35D1   ; CALL    #D135
d348 DDE5     ; PUSH    IX
d34a DD217AD3 ; LD      IX,#D37A
d34e 3E05     ; LD      A,#05
d350 CD84D5   ; CALL    #D584
d353 DDE1     ; POP     IX
d355 CDE5D5   ; CALL    #D5E5
d358 CD35D1   ; CALL    #D135
d35b CD35D1   ; CALL    #D135
d35e C5       ; PUSH    BC
d35f D5       ; PUSH    DE
d360 E5       ; PUSH    HL
d361 D9       ; EXX     
d362 CDE5D5   ; CALL    #D5E5
d365 2D       ; DEC     L
d366 2D       ; DEC     L
d367 D9       ; EXX     
d368 2D       ; DEC     L
d369 CD38D0   ; CALL    #D038
d36c D9       ; EXX     
d36d E1       ; POP     HL
d36e D1       ; POP     DE
d36f C1       ; POP     BC
d370 D9       ; EXX     
d371 CDBFD0   ; CALL    #D0BF
d374 2C       ; INC     L
d375 2C       ; INC     L
d376 F1       ; POP     AF
d377 2C       ; INC     L
d378 2D       ; DEC     L
d379 C8       ; RET     Z
              ;
d37a D8       ; RET     C
              ;
d37b 78       ; LD      A,B
d37c EE80     ; XOR     #80
d37e 47       ; LD      B,A
d37f C9       ; RET     
              ;
d380 00       ; NOP     
d381 DC0000   ; CALL    C,#0000
d384 87       ; ADD     A,A
d385 00       ; NOP     
d386 80       ; ADD     A,B
d387 77       ; LD      (HL),A
d388 00       ; NOP     
d389 00       ; NOP     
d38a 8D       ; ADC     A,L
d38b 00       ; NOP     
d38c 6C       ; LD      L,H
d38d A2       ; AND     D
d38e 00       ; NOP     
d38f 00       ; NOP     
d390 93       ; SUB     E
d391 00       ; NOP     
d392 07       ; RLCA    
d393 4B       ; LD      C,E
d394 00       ; NOP     
d395 00       ; NOP     
d396 97       ; SUB     A
d397 00       ; NOP     
d398 45       ; LD      B,L
d399 98       ; SBC     A,B
d39a 00       ; NOP     
d39b 40       ; LD      B,B
d39c 9A       ; SBC     A,D
d39d 00       ; NOP     
d39e 2C       ; INC     L
d39f 2D       ; DEC     L
d3a0 3E04     ; LD      A,#04
d3a2 CA23E1   ; JP      Z,#E123
d3a5 CB78     ; BIT     7,B
d3a7 C223E1   ; JP      NZ,#E123
d3aa D9       ; EXX     
d3ab 010435   ; LD      BC,#3504
d3ae 1133F3   ; LD      DE,#F333
d3b1 2180FB   ; LD      HL,#FB80
d3b4 D9       ; EXX     
d3b5 7D       ; LD      A,L
d3b6 2E81     ; LD      L,#81
d3b8 95       ; SUB     L
d3b9 F5       ; PUSH    AF
d3ba CD35D1   ; CALL    #D135
d3bd D9       ; EXX     
d3be CD13D9   ; CALL    #D913
d3c1 D9       ; EXX     
d3c2 CDBFD0   ; CALL    #D0BF
d3c5 C5       ; PUSH    BC
d3c6 D5       ; PUSH    DE
d3c7 E5       ; PUSH    HL
d3c8 D9       ; EXX     
d3c9 2C       ; INC     L
d3ca CD38D0   ; CALL    #D038
d3cd D9       ; EXX     
d3ce E1       ; POP     HL
d3cf D1       ; POP     DE
d3d0 C1       ; POP     BC
d3d1 CDD4D0   ; CALL    #D0D4
d3d4 DDE5     ; PUSH    IX
d3d6 DD2105D4 ; LD      IX,#D405
d3da 3E06     ; LD      A,#06
d3dc CD84D5   ; CALL    #D584
d3df DDE1     ; POP     IX
d3e1 2C       ; INC     L
d3e2 D9       ; EXX     
d3e3 CDDBD5   ; CALL    #D5DB
d3e6 2D       ; DEC     L
d3e7 D9       ; EXX     
d3e8 CD38D0   ; CALL    #D038
d3eb F1       ; POP     AF
d3ec C5       ; PUSH    BC
d3ed D5       ; PUSH    DE
d3ee E5       ; PUSH    HL
d3ef 6F       ; LD      L,A
d3f0 2600     ; LD      H,#00
d3f2 3001     ; JR      NC,#D3F5
d3f4 25       ; DEC     H
d3f5 CD26D6   ; CALL    #D626
d3f8 D9       ; EXX     
d3f9 2C       ; INC     L
d3fa CD35D1   ; CALL    #D135
d3fd D9       ; EXX     
d3fe E1       ; POP     HL
d3ff D1       ; POP     DE
d400 C1       ; POP     BC
d401 CD38D0   ; CALL    #D038
d404 7D       ; LD      A,L
d405 FE67     ; CP      #67
d407 DAB8D1   ; JP      C,#D1B8
d40a C9       ; RET     
              ;
d40b 45       ; LD      B,L
d40c 17       ; RLA     
d40d 74       ; LD      (HL),H
d40e D1       ; POP     DE
d40f 81       ; ADD     A,C
d410 5D       ; LD      E,L
d411 E3       ; EX      (SP),HL
d412 3838     ; JR      C,#D44C
d414 8E       ; ADC     A,(HL)
d415 81       ; ADD     A,C
d416 E4B66D   ; CALL    PO,#6DB6
d419 6D       ; LD      L,L
d41a DB81     ; IN      A,(#81)
d41c B7       ; OR      A
d41d 66       ; LD      H,(HL)
d41e 2666     ; LD      H,#66
d420 66       ; LD      H,(HL)
d421 82       ; ADD     A,D
d422 66       ; LD      H,(HL)
d423 AA       ; XOR     D
d424 0A       ; LD      A,(BC)
d425 AA       ; XOR     D
d426 AA       ; XOR     D
d427 83       ; ADD     A,E
d428 AB       ; XOR     E
d429 00       ; NOP     
d42a 50       ; LD      D,B
d42b 00       ; NOP     
d42c 00       ; NOP     
d42d 84       ; ADD     A,H
d42e 00       ; NOP     
d42f D9       ; EXX     
d430 CDDBD5   ; CALL    #D5DB
d433 D9       ; EXX     
d434 B7       ; OR      A
d435 CB78     ; BIT     7,B
d437 F5       ; PUSH    AF
d438 CBB8     ; RES     7,B
d43a CDD4D0   ; CALL    #D0D4
d43d 7D       ; LD      A,L
d43e FE88     ; CP      #88
d440 D285D0   ; JP      NC,#D085
d443 CDE5D5   ; CALL    #D5E5
d446 CDA7D2   ; CALL    #D2A7
d449 D9       ; EXX     
d44a CDFBD5   ; CALL    #D5FB
d44d 7D       ; LD      A,L
d44e F5       ; PUSH    AF
d44f D9       ; EXX     
d450 DDE5     ; PUSH    IX
d452 DD2166D4 ; LD      IX,#D466
d456 3E07     ; LD      A,#07
d458 CD99D5   ; CALL    #D599
d45b DDE1     ; POP     IX
d45d F1       ; POP     AF
d45e 85       ; ADD     A,L
d45f 6F       ; LD      L,A
d460 DA85D0   ; JP      C,#D085
d463 F1       ; POP     AF
d464 C8       ; RET     Z
              ;
d465 D9       ; EXX     
d466 CD13D9   ; CALL    #D913
d469 C3D4D0   ; JP      #D0D4
d46c 56       ; LD      D,(HL)
d46d 53       ; LD      D,E
d46e 0E1A     ; LD      C,#1A
d470 83       ; ADD     A,E
d471 DE1B     ; SBC     A,#1B
d473 78       ; LD      A,B
d474 FF       ; RST     #38  	RDEL    Wait for a period of time dependent on the value in the A register.
d475 C386FB   ; JP      #FB86
d478 015E18   ; LD      BC,#185E
d47b 53       ; LD      D,E
d47c 89       ; ADC     A,C
d47d F1       ; POP     AF
d47e 39       ; ADD     HL,SP
d47f 2042     ; JR      NZ,#D4C3
d481 118C41   ; LD      DE,#418C
d484 5C       ; LD      E,H
d485 2D       ; DEC     L
d486 F65C     ; OR      #5C
d488 8E       ; ADC     A,(HL)
d489 DF1B     ; RST     #18; defb #1B  ; XXXXXX
d48b 7A       ; LD      A,D
d48c DB5E     ; IN      A,(#5E)
d48e 8F       ; ADC     A,A
d48f CD6934   ; CALL    #3469
d492 07       ; RLCA    
d493 FC90E5   ; CALL    M,#E590
d496 7D       ; LD      A,L
d497 B7       ; OR      A
d498 C8       ; RET     Z
              ;
d499 DDE5     ; PUSH    IX
d49b D9       ; EXX     
d49c CD13D9   ; CALL    #D913
d49f D9       ; EXX     
d4a0 AF       ; XOR     A
d4a1 CB78     ; BIT     7,B
d4a3 2803     ; JR      Z,#D4A8
d4a5 3C       ; INC     A
d4a6 CBB8     ; RES     7,B
d4a8 F5       ; PUSH    AF
d4a9 CD25D2   ; CALL    #D225
d4ac 3808     ; JR      C,#D4B6
d4ae D9       ; EXX     
d4af CDD4D0   ; CALL    #D0D4
d4b2 F1       ; POP     AF
d4b3 CBFF     ; SET     7,A
d4b5 F5       ; PUSH    AF
d4b6 D9       ; EXX     
d4b7 01CF06   ; LD      BC,#06CF
d4ba 118EE9   ; LD      DE,#E98E
d4bd 217E4A   ; LD      HL,#4A7E
d4c0 D9       ; EXX     
d4c1 CD25D2   ; CALL    #D225
d4c4 3005     ; JR      NC,#D4CB
d4c6 CD7ED5   ; CALL    #D57E
d4c9 184F     ; JR      #D51A
d4cb DD211ED5 ; LD      IX,#D51E
d4cf 3E02     ; LD      A,#02
d4d1 08       ; EX      AF,AF'
d4d2 D9       ; EXX     
d4d3 111200   ; LD      DE,#0012
d4d6 DD19     ; ADD     IX,DE
d4d8 CDC3D5   ; CALL    #D5C3
d4db D9       ; EXX     
d4dc CD25D2   ; CALL    #D225
d4df 380B     ; JR      C,#D4EC
d4e1 08       ; EX      AF,AF'
d4e2 3D       ; DEC     A
d4e3 20EC     ; JR      NZ,#D4D1
d4e5 D9       ; EXX     
d4e6 110C00   ; LD      DE,#000C
d4e9 DD19     ; ADD     IX,DE
d4eb D9       ; EXX     
d4ec D9       ; EXX     
d4ed CDBED5   ; CALL    #D5BE
d4f0 CBF8     ; SET     7,B
d4f2 CD38D0   ; CALL    #D038
d4f5 C5       ; PUSH    BC
d4f6 D5       ; PUSH    DE
d4f7 E5       ; PUSH    HL
d4f8 CDC3D5   ; CALL    #D5C3
d4fb CD35D1   ; CALL    #D135
d4fe D9       ; EXX     
d4ff CD13D9   ; CALL    #D913
d502 CD38D0   ; CALL    #D038
d505 D9       ; EXX     
d506 E1       ; POP     HL
d507 D1       ; POP     DE
d508 C1       ; POP     BC
d509 CDD4D0   ; CALL    #D0D4
d50c DDE5     ; PUSH    IX
d50e CD7ED5   ; CALL    #D57E
d511 DDE1     ; POP     IX
d513 D9       ; EXX     
d514 CDBED5   ; CALL    #D5BE
d517 CD38D0   ; CALL    #D038
d51a F1       ; POP     AF
d51b 17       ; RLA     
d51c 300A     ; JR      NC,#D528
d51e F5       ; PUSH    AF
d51f D9       ; EXX     
d520 CDD1D5   ; CALL    #D5D1
d523 2D       ; DEC     L
d524 CDBFD0   ; CALL    #D0BF
d527 F1       ; POP     AF
d528 DDE1     ; POP     IX
d52a CB4F     ; BIT     1,A
d52c C8       ; RET     Z
              ;
d52d CBF8     ; SET     7,B
d52f C9       ; RET     
              ;
d530 13       ; INC     DE
d531 54       ; LD      D,H
d532 CF       ; RST     #08	; RIN     Obtain an input character in the A register
d533 CC7FE7   ; CALL    Z,#E77F
d536 3009     ; JR      NC,#D541
d538 F4A27F   ; CALL    P,#7FA2
d53b F60A     ; OR      #0A
d53d 06C1     ; LD      B,#C1
d53f 91       ; SUB     C
d540 7F       ; LD      A,A
d541 6A       ; LD      L,D
d542 6F       ; LD      L,A
d543 44       ; LD      B,H
d544 9E       ; SBC     A,(HL)
d545 8A       ; ADC     A,D
d546 80       ; ADD     A,B
d547 B5       ; OR      L
d548 CD132C   ; CALL    #2C13
d54b 3A8082   ; LD      A,(#8280)
d54e 0A       ; LD      A,(BC)
d54f 06C1     ; LD      B,#C1
d551 91       ; SUB     C
d552 80       ; ADD     A,B
d553 6A       ; LD      L,D
d554 00       ; NOP     
d555 00       ; NOP     
d556 00       ; NOP     
d557 00       ; NOP     
d558 81       ; ADD     A,C
d559 00       ; NOP     
d55a 0F       ; RRCA    
d55b 49       ; LD      C,C
d55c A2       ; AND     D
d55d DA8021   ; JP      C,#2180
d560 71       ; LD      (HL),C
d561 9C       ; SBC     A,H
d562 1C       ; INC     E
d563 C7       ; RST     #00   ; START   Reset computer. Initialise NAS-SYS.
d564 81       ; ADD     A,C
d565 72       ; LD      (HL),D
d566 24       ; INC     H
d567 49       ; LD      C,C
d568 49       ; LD      C,C
d569 92       ; SUB     D
d56a 81       ; ADD     A,C
d56b 25       ; DEC     H
d56c CC8CCC   ; CALL    Z,#CC8C
d56f CC82CD   ; CALL    Z,#CD82
d572 AA       ; XOR     D
d573 6A       ; LD      L,D
d574 AA       ; XOR     D
d575 AA       ; XOR     D
d576 82       ; ADD     A,D
d577 AB       ; XOR     E
d578 00       ; NOP     
d579 B0       ; OR      B
d57a 00       ; NOP     
d57b 00       ; NOP     
d57c 84       ; ADD     A,H
d57d 00       ; NOP     
d57e DD215AD5 ; LD      IX,#D55A
d582 3E05     ; LD      A,#05
d584 C5       ; PUSH    BC
d585 D5       ; PUSH    DE
d586 E5       ; PUSH    HL
d587 F5       ; PUSH    AF
d588 CDE5D5   ; CALL    #D5E5
d58b CD35D1   ; CALL    #D135
d58e F1       ; POP     AF
d58f CD99D5   ; CALL    #D599
d592 D9       ; EXX     
d593 E1       ; POP     HL
d594 D1       ; POP     DE
d595 C1       ; POP     BC
d596 C335D1   ; JP      #D135
d599 D9       ; EXX     
d59a CD13D9   ; CALL    #D913
d59d F5       ; PUSH    AF
d59e CD35D1   ; CALL    #D135
d5a1 F1       ; POP     AF
d5a2 F5       ; PUSH    AF
d5a3 D9       ; EXX     
d5a4 C5       ; PUSH    BC
d5a5 D5       ; PUSH    DE
d5a6 E5       ; PUSH    HL
d5a7 CDBED5   ; CALL    #D5BE
d5aa CD38D0   ; CALL    #D038
d5ad D9       ; EXX     
d5ae E1       ; POP     HL
d5af D1       ; POP     DE
d5b0 C1       ; POP     BC
d5b1 D9       ; EXX     
d5b2 F1       ; POP     AF
d5b3 3D       ; DEC     A
d5b4 20E7     ; JR      NZ,#D59D
d5b6 D9       ; EXX     
d5b7 CDC3D5   ; CALL    #D5C3
d5ba D9       ; EXX     
d5bb C3D4D0   ; JP      #D0D4
d5be 110600   ; LD      DE,#0006
d5c1 DD19     ; ADD     IX,DE
d5c3 ED73A50C ; LD      (#0CA5),SP
d5c7 DDF9     ; LD      SP,IX
d5c9 C1       ; POP     BC
d5ca D1       ; POP     DE
d5cb E1       ; POP     HL
d5cc ED7BA50C ; LD      SP,(#0CA5)
d5d0 C9       ; RET     
              ;
d5d1 010F49   ; LD      BC,#490F
d5d4 11A2DA   ; LD      DE,#DAA2
d5d7 218221   ; LD      HL,#2182
d5da C9       ; RET     
              ;
d5db 017231   ; LD      BC,#3172
d5de 11F717   ; LD      DE,#17F7
d5e1 2180D2   ; LD      HL,#D280
d5e4 C9       ; RET     
              ;
d5e5 C5       ; PUSH    BC
d5e6 D5       ; PUSH    DE
d5e7 E5       ; PUSH    HL
d5e8 D9       ; EXX     
d5e9 E1       ; POP     HL
d5ea D1       ; POP     DE
d5eb C1       ; POP     BC
d5ec C9       ; RET     
              ;
d5ed CB78     ; BIT     7,B
d5ef D9       ; EXX     
d5f0 CD13D9   ; CALL    #D913
d5f3 2802     ; JR      Z,#D5F7
d5f5 CBF8     ; SET     7,B
d5f7 2D       ; DEC     L
d5f8 CD38D0   ; CALL    #D038
d5fb B7       ; OR      A
d5fc CB7D     ; BIT     7,L
d5fe 2822     ; JR      Z,#D622
d600 CB78     ; BIT     7,B
d602 08       ; EX      AF,AF'
d603 CBF8     ; SET     7,B
d605 3E8F     ; LD      A,#8F
d607 BD       ; CP      L
d608 DA21E1   ; JP      C,#E121
d60b 2806     ; JR      Z,#D613
d60d CDC0D1   ; CALL    #D1C0
d610 2C       ; INC     L
d611 18F2     ; JR      #D605
d613 CDC0D1   ; CALL    #D1C0
d616 08       ; EX      AF,AF'
d617 2806     ; JR      Z,#D61F
d619 210000   ; LD      HL,#0000
d61c ED42     ; SBC     HL,BC
d61e C9       ; RET     
              ;
d61f 60       ; LD      H,B
d620 69       ; LD      L,C
d621 C9       ; RET     
              ;
d622 210000   ; LD      HL,#0000
d625 C9       ; RET     
              ;
d626 7C       ; LD      A,H
d627 B5       ; OR      L
d628 CAB8D1   ; JP      Z,#D1B8
d62b CD6CD9   ; CALL    #D96C
d62e 08       ; EX      AF,AF'
d62f 44       ; LD      B,H
d630 4D       ; LD      C,L
d631 110000   ; LD      DE,#0000
d634 219000   ; LD      HL,#0090
d637 CB78     ; BIT     7,B
d639 2006     ; JR      NZ,#D641
d63b CDCCD1   ; CALL    #D1CC
d63e 2D       ; DEC     L
d63f 18F6     ; JR      #D637
d641 08       ; EX      AF,AF'
d642 D8       ; RET     C
              ;
d643 CBB8     ; RES     7,B
d645 C9       ; RET     
              ;
d646 FDE1     ; POP     IY
d648 D1       ; POP     DE
d649 D9       ; EXX     
d64a E1       ; POP     HL
d64b D1       ; POP     DE
d64c C1       ; POP     BC
d64d D9       ; EXX     
d64e FDE5     ; PUSH    IY
d650 D5       ; PUSH    DE
d651 FD21F3FF ; LD      IY,#FFF3
d655 FD39     ; ADD     IY,SP
d657 FDF9     ; LD      SP,IY
d659 CD4EDB   ; CALL    #DB4E
d65c EB       ; EX      DE,HL
d65d 1E00     ; LD      E,#00
d65f 3804     ; JR      C,#D665
d661 FE19     ; CP      #19
d663 3810     ; JR      C,#D675
d665 1D       ; DEC     E
d666 CD4EDB   ; CALL    #DB4E
d669 D608     ; SUB     #08
d66b 3001     ; JR      NC,#D66E
d66d AF       ; XOR     A
d66e FE09     ; CP      #09
d670 3802     ; JR      C,#D674
d672 3E09     ; LD      A,#09
d674 3C       ; INC     A
d675 57       ; LD      D,A
d676 D5       ; PUSH    DE
d677 D9       ; EXX     
d678 2C       ; INC     L
d679 2D       ; DEC     L
d67a 2007     ; JR      NZ,#D683
d67c D1       ; POP     DE
d67d FD7500   ; LD      (IY+#00),L
d680 C34ED7   ; JP      #D74E
d683 C5       ; PUSH    BC
d684 CBB8     ; RES     7,B
d686 7D       ; LD      A,L
d687 D9       ; EXX     
d688 2600     ; LD      H,#00
d68a D680     ; SUB     #80
d68c 3001     ; JR      NC,#D68F
d68e 25       ; DEC     H
d68f 6F       ; LD      L,A
d690 114D00   ; LD      DE,#004D
d693 CD1DD9   ; CALL    #D91D
d696 110500   ; LD      DE,#0005
d699 19       ; ADD     HL,DE
d69a 7C       ; LD      A,H
d69b FED9     ; CP      #D9
d69d 2001     ; JR      NZ,#D6A0
d69f 3C       ; INC     A
d6a0 FD7700   ; LD      (IY+#00),A
d6a3 ED44     ; NEG     
d6a5 CDDAD7   ; CALL    #D7DA
d6a8 7D       ; LD      A,L
d6a9 FE81     ; CP      #81
d6ab 3006     ; JR      NC,#D6B3
d6ad FD3500   ; DEC     (IY+#00)
d6b0 CD4DD8   ; CALL    #D84D
d6b3 CBF8     ; SET     7,B
d6b5 3E84     ; LD      A,#84
d6b7 95       ; SUB     L
d6b8 2E00     ; LD      L,#00
d6ba 2808     ; JR      Z,#D6C4
d6bc CDC0D1   ; CALL    #D1C0
d6bf CB1D     ; RR      L
d6c1 3D       ; DEC     A
d6c2 20F8     ; JR      NZ,#D6BC
d6c4 FD7E00   ; LD      A,(IY+#00)
d6c7 FD360000 ; LD      (IY+#00),#00
d6cb FDE5     ; PUSH    IY
d6cd F5       ; PUSH    AF
d6ce 3E0C     ; LD      A,#0C
d6d0 08       ; EX      AF,AF'
d6d1 78       ; LD      A,B
d6d2 1F       ; RRA     
d6d3 1F       ; RRA     
d6d4 1F       ; RRA     
d6d5 1F       ; RRA     
d6d6 E60F     ; AND     #0F
d6d8 C630     ; ADD     A,#30
d6da FD23     ; INC     IY
d6dc FD7700   ; LD      (IY+#00),A
d6df 78       ; LD      A,B
d6e0 E60F     ; AND     #0F
d6e2 47       ; LD      B,A
d6e3 C5       ; PUSH    BC
d6e4 D5       ; PUSH    DE
d6e5 E5       ; PUSH    HL
d6e6 CB25     ; SLA     L
d6e8 CDCDD1   ; CALL    #D1CD
d6eb CB25     ; SLA     L
d6ed CDCDD1   ; CALL    #D1CD
d6f0 EB       ; EX      DE,HL
d6f1 E3       ; EX      (SP),HL
d6f2 19       ; ADD     HL,DE
d6f3 D1       ; POP     DE
d6f4 E3       ; EX      (SP),HL
d6f5 ED5A     ; ADC     HL,DE
d6f7 EB       ; EX      DE,HL
d6f8 E1       ; POP     HL
d6f9 E3       ; EX      (SP),HL
d6fa ED4A     ; ADC     HL,BC
d6fc 44       ; LD      B,H
d6fd 4D       ; LD      C,L
d6fe E1       ; POP     HL
d6ff CB25     ; SLA     L
d701 CDCDD1   ; CALL    #D1CD
d704 08       ; EX      AF,AF'
d705 3D       ; DEC     A
d706 20C8     ; JR      NZ,#D6D0
d708 F1       ; POP     AF
d709 FDE1     ; POP     IY
d70b C1       ; POP     BC
d70c FD23     ; INC     IY
d70e 4F       ; LD      C,A
d70f D1       ; POP     DE
d710 7A       ; LD      A,D
d711 3C       ; INC     A
d712 CB7B     ; BIT     7,E
d714 200A     ; JR      NZ,#D720
d716 81       ; ADD     A,C
d717 FA7DD6   ; JP      M,#D67D
d71a FE0C     ; CP      #0C
d71c 3802     ; JR      C,#D720
d71e 3E0B     ; LD      A,#0B
d720 FDE5     ; PUSH    IY
d722 E1       ; POP     HL
d723 85       ; ADD     A,L
d724 6F       ; LD      L,A
d725 3001     ; JR      NC,#D728
d727 24       ; INC     H
d728 7E       ; LD      A,(HL)
d729 3600     ; LD      (HL),#00
d72b FE35     ; CP      #35
d72d 380F     ; JR      C,#D73E
d72f 2B       ; DEC     HL
d730 7E       ; LD      A,(HL)
d731 B7       ; OR      A
d732 2813     ; JR      Z,#D747
d734 3C       ; INC     A
d735 77       ; LD      (HL),A
d736 FE3A     ; CP      #3A
d738 3814     ; JR      C,#D74E
d73a 3600     ; LD      (HL),#00
d73c 18F1     ; JR      #D72F
d73e 2B       ; DEC     HL
d73f 7E       ; LD      A,(HL)
d740 D630     ; SUB     #30
d742 200A     ; JR      NZ,#D74E
d744 77       ; LD      (HL),A
d745 18F7     ; JR      #D73E
d747 23       ; INC     HL
d748 3631     ; LD      (HL),#31
d74a 23       ; INC     HL
d74b 3600     ; LD      (HL),#00
d74d 0C       ; INC     C
d74e DD21C00C ; LD      IX,#0CC0
d752 FD7E00   ; LD      A,(IY+#00)
d755 B7       ; OR      A
d756 2002     ; JR      NZ,#D75A
d758 47       ; LD      B,A
d759 4F       ; LD      C,A
d75a CB78     ; BIT     7,B
d75c 2805     ; JR      Z,#D763
d75e 3E2D     ; LD      A,#2D
d760 CDD4D7   ; CALL    #D7D4
d763 CB7B     ; BIT     7,E
d765 2803     ; JR      Z,#D76A
d767 61       ; LD      H,C
d768 0E00     ; LD      C,#00
d76a CB79     ; BIT     7,C
d76c 2805     ; JR      Z,#D773
d76e CDD2D7   ; CALL    #D7D2
d771 1807     ; JR      #D77A
d773 CDC8D7   ; CALL    #D7C8
d776 0D       ; DEC     C
d777 F273D7   ; JP      P,#D773
d77a 7A       ; LD      A,D
d77b B7       ; OR      A
d77c 2817     ; JR      Z,#D795
d77e 3E2E     ; LD      A,#2E
d780 CDD4D7   ; CALL    #D7D4
d783 0C       ; INC     C
d784 2806     ; JR      Z,#D78C
d786 CDD2D7   ; CALL    #D7D2
d789 15       ; DEC     D
d78a 20F7     ; JR      NZ,#D783
d78c 15       ; DEC     D
d78d FA95D7   ; JP      M,#D795
d790 CDC8D7   ; CALL    #D7C8
d793 18F7     ; JR      #D78C
d795 CB7B     ; BIT     7,E
d797 2826     ; JR      Z,#D7BF
d799 3E45     ; LD      A,#45
d79b CDD4D7   ; CALL    #D7D4
d79e 3E2B     ; LD      A,#2B
d7a0 CB7C     ; BIT     7,H
d7a2 2806     ; JR      Z,#D7AA
d7a4 7C       ; LD      A,H
d7a5 ED44     ; NEG     
d7a7 67       ; LD      H,A
d7a8 3E2D     ; LD      A,#2D
d7aa CDD4D7   ; CALL    #D7D4
d7ad 7C       ; LD      A,H
d7ae 062F     ; LD      B,#2F
d7b0 04       ; INC     B
d7b1 D60A     ; SUB     #0A
d7b3 30FB     ; JR      NC,#D7B0
d7b5 C63A     ; ADD     A,#3A
d7b7 DD7000   ; LD      (IX+#00),B
d7ba DD23     ; INC     IX
d7bc CDD4D7   ; CALL    #D7D4
d7bf 210D00   ; LD      HL,#000D
d7c2 39       ; ADD     HL,SP
d7c3 F9       ; LD      SP,HL
d7c4 E1       ; POP     HL
d7c5 C375DB   ; JP      #DB75
d7c8 FD7E00   ; LD      A,(IY+#00)
d7cb FD23     ; INC     IY
d7cd B7       ; OR      A
d7ce 2004     ; JR      NZ,#D7D4
d7d0 FD2B     ; DEC     IY
d7d2 3E30     ; LD      A,#30
d7d4 DD7700   ; LD      (IX+#00),A
d7d7 DD23     ; INC     IX
d7d9 C9       ; RET     
              ;
d7da F5       ; PUSH    AF
d7db B7       ; OR      A
d7dc F2E1D7   ; JP      P,#D7E1
d7df ED44     ; NEG     
d7e1 F5       ; PUSH    AF
d7e2 CB3F     ; SRL     A
d7e4 CB3F     ; SRL     A
d7e6 21FAFF   ; LD      HL,#FFFA
d7e9 110600   ; LD      DE,#0006
d7ec 3C       ; INC     A
d7ed 19       ; ADD     HL,DE
d7ee 3D       ; DEC     A
d7ef 20FC     ; JR      NZ,#D7ED
d7f1 EB       ; EX      DE,HL
d7f2 DD2111D8 ; LD      IX,#D811
d7f6 DD19     ; ADD     IX,DE
d7f8 CDC3D5   ; CALL    #D5C3
d7fb F1       ; POP     AF
d7fc E603     ; AND     #03
d7fe 2808     ; JR      Z,#D808
d800 F5       ; PUSH    AF
d801 CD4DD8   ; CALL    #D84D
d804 F1       ; POP     AF
d805 3D       ; DEC     A
d806 18F6     ; JR      #D7FE
d808 F1       ; POP     AF
d809 B7       ; OR      A
d80a F235D1   ; JP      P,#D135
d80d D9       ; EXX     
d80e C3D4D0   ; JP      #D0D4
d811 00       ; NOP     
d812 00       ; NOP     
d813 00       ; NOP     
d814 00       ; NOP     
d815 81       ; ADD     A,C
d816 00       ; NOP     
d817 40       ; LD      B,B
d818 1C       ; INC     E
d819 00       ; NOP     
d81a 00       ; NOP     
d81b 8E       ; ADC     A,(HL)
d81c 00       ; NOP     
d81d BC       ; CP      H
d81e 3E00     ; LD      A,#00
d820 209B     ; JR      NZ,#D7BD
d822 00       ; NOP     
d823 D46810   ; CALL    NC,#1068
d826 A5       ; AND     L
d827 A8       ; XOR     B
d828 00       ; NOP     
d829 1B       ; DEC     DE
d82a 0EBF     ; LD      C,#BF
d82c C9       ; RET     
              ;
d82d B6       ; OR      (HL)
d82e 04       ; INC     B
d82f 78       ; LD      A,B
d830 2D       ; DEC     L
d831 C5       ; PUSH    BC
d832 EB       ; EX      DE,HL
d833 C3ACC2   ; JP      #C2AC
d836 53       ; LD      D,E
d837 CE1B     ; ADC     A,#1B
d839 D0       ; RET     NC
              ;
d83a CD3F01   ; CALL    #013F
d83d 78       ; LD      A,B
d83e 39       ; ADD     HL,SP
d83f DEF9     ; SBC     A,#F9
d841 C5       ; PUSH    BC
d842 1D       ; DEC     E
d843 A8       ; XOR     B
d844 AD       ; XOR     L
d845 EB       ; EX      DE,HL
d846 2B       ; DEC     HL
d847 97       ; SUB     A
d848 40       ; LD      B,B
d849 7B       ; LD      A,E
d84a CEF8     ; ADC     A,#F8
d84c C9       ; RET     
              ;
d84d 7D       ; LD      A,L
d84e B7       ; OR      A
d84f C8       ; RET     Z
              ;
d850 CBF8     ; SET     7,B
d852 C5       ; PUSH    BC
d853 D5       ; PUSH    DE
d854 7C       ; LD      A,H
d855 CDC0D1   ; CALL    #D1C0
d858 CDC0D1   ; CALL    #D1C0
d85b 84       ; ADD     A,H
d85c 67       ; LD      H,A
d85d E3       ; EX      (SP),HL
d85e ED5A     ; ADC     HL,DE
d860 EB       ; EX      DE,HL
d861 E1       ; POP     HL
d862 E3       ; EX      (SP),HL
d863 ED4A     ; ADC     HL,BC
d865 44       ; LD      B,H
d866 4D       ; LD      C,L
d867 E1       ; POP     HL
d868 3006     ; JR      NC,#D870
d86a CDC1D1   ; CALL    #D1C1
d86d 2C       ; INC     L
d86e 37       ; SCF     
d86f C8       ; RET     Z
              ;
d870 7D       ; LD      A,L
d871 C603     ; ADD     A,#03
d873 6F       ; LD      L,A
d874 CBB8     ; RES     7,B
d876 C9       ; RET     
              ;
d877 D9       ; EXX     
d878 010000   ; LD      BC,#0000
d87b D9       ; EXX     
d87c CDB8D1   ; CALL    #D1B8
d87f DD2B     ; DEC     IX
d881 DD23     ; INC     IX
d883 DD7E00   ; LD      A,(IX+#00)
d886 FE2E     ; CP      #2E
d888 200A     ; JR      NZ,#D894
d88a D9       ; EXX     
d88b CB70     ; BIT     6,B
d88d 37       ; SCF     
d88e C0       ; RET     NZ
              ;
d88f CBF0     ; SET     6,B
d891 D9       ; EXX     
d892 18ED     ; JR      #D881
d894 FE45     ; CP      #45
d896 2821     ; JR      Z,#D8B9
d898 CD0CD9   ; CALL    #D90C
d89b 3054     ; JR      NC,#D8F1
d89d 08       ; EX      AF,AF'
d89e CD4DD8   ; CALL    #D84D
d8a1 D8       ; RET     C
              ;
d8a2 08       ; EX      AF,AF'
d8a3 D9       ; EXX     
d8a4 C5       ; PUSH    BC
d8a5 6F       ; LD      L,A
d8a6 2600     ; LD      H,#00
d8a8 CD26D6   ; CALL    #D626
d8ab CD38D0   ; CALL    #D038
d8ae D9       ; EXX     
d8af C1       ; POP     BC
d8b0 D8       ; RET     C
              ;
d8b1 CB70     ; BIT     6,B
d8b3 2801     ; JR      Z,#D8B6
d8b5 0D       ; DEC     C
d8b6 D9       ; EXX     
d8b7 18C8     ; JR      #D881
d8b9 CDF1D8   ; CALL    #D8F1
d8bc D8       ; RET     C
              ;
d8bd D9       ; EXX     
d8be CBE0     ; SET     4,B
d8c0 DD23     ; INC     IX
d8c2 DD7E00   ; LD      A,(IX+#00)
d8c5 FE2B     ; CP      #2B
d8c7 2806     ; JR      Z,#D8CF
d8c9 FE2D     ; CP      #2D
d8cb 2004     ; JR      NZ,#D8D1
d8cd CBE8     ; SET     5,B
d8cf DD23     ; INC     IX
d8d1 CD09D9   ; CALL    #D909
d8d4 3F       ; CCF     
d8d5 D8       ; RET     C
              ;
d8d6 4F       ; LD      C,A
d8d7 DD23     ; INC     IX
d8d9 CD09D9   ; CALL    #D909
d8dc 300A     ; JR      NC,#D8E8
d8de DD23     ; INC     IX
d8e0 57       ; LD      D,A
d8e1 79       ; LD      A,C
d8e2 87       ; ADD     A,A
d8e3 87       ; ADD     A,A
d8e4 81       ; ADD     A,C
d8e5 87       ; ADD     A,A
d8e6 82       ; ADD     A,D
d8e7 4F       ; LD      C,A
d8e8 CB68     ; BIT     5,B
d8ea 2804     ; JR      Z,#D8F0
d8ec 79       ; LD      A,C
d8ed ED44     ; NEG     
d8ef 4F       ; LD      C,A
d8f0 D9       ; EXX     
d8f1 D9       ; EXX     
d8f2 79       ; LD      A,C
d8f3 C680     ; ADD     A,#80
d8f5 FE5A     ; CP      #5A
d8f7 D8       ; RET     C
              ;
d8f8 FEA6     ; CP      #A6
d8fa 3F       ; CCF     
d8fb D8       ; RET     C
              ;
d8fc C5       ; PUSH    BC
d8fd DDE5     ; PUSH    IX
d8ff 79       ; LD      A,C
d900 CDDAD7   ; CALL    #D7DA
d903 DDE1     ; POP     IX
d905 D9       ; EXX     
d906 C1       ; POP     BC
d907 D9       ; EXX     
d908 C9       ; RET     
              ;
d909 DD7E00   ; LD      A,(IX+#00)
d90c D630     ; SUB     #30
d90e 3F       ; CCF     
d90f D0       ; RET     NC
              ;
d910 FE0A     ; CP      #0A
d912 C9       ; RET     
              ;
d913 218100   ; LD      HL,#0081
d916 44       ; LD      B,H
d917 4C       ; LD      C,H
d918 54       ; LD      D,H
d919 5C       ; LD      E,H
d91a C9       ; RET     
              ;
d91b 54       ; LD      D,H
d91c 5D       ; LD      E,L
d91d 4B       ; LD      C,E
d91e 42       ; LD      B,D
d91f EB       ; EX      DE,HL
d920 210000   ; LD      HL,#0000
d923 3E10     ; LD      A,#10
d925 CB38     ; SRL     B
d927 CB19     ; RR      C
d929 3001     ; JR      NC,#D92C
d92b 19       ; ADD     HL,DE
d92c EB       ; EX      DE,HL
d92d 29       ; ADD     HL,HL
d92e EB       ; EX      DE,HL
d92f 3D       ; DEC     A
d930 20F3     ; JR      NZ,#D925
d932 C9       ; RET     
              ;
d933 EB       ; EX      DE,HL
d934 B7       ; OR      A
d935 CD6CD9   ; CALL    #D96C
d938 EB       ; EX      DE,HL
d939 CD6CD9   ; CALL    #D96C
d93c F5       ; PUSH    AF
d93d 44       ; LD      B,H
d93e 4D       ; LD      C,L
d93f AF       ; XOR     A
d940 67       ; LD      H,A
d941 6F       ; LD      L,A
d942 3E11     ; LD      A,#11
d944 ED6A     ; ADC     HL,HL
d946 ED42     ; SBC     HL,BC
d948 3002     ; JR      NC,#D94C
d94a 09       ; ADD     HL,BC
d94b 37       ; SCF     
d94c 3F       ; CCF     
d94d CB13     ; RL      E
d94f CB12     ; RL      D
d951 3D       ; DEC     A
d952 20F0     ; JR      NZ,#D944
d954 EB       ; EX      DE,HL
d955 F1       ; POP     AF
d956 D0       ; RET     NC
              ;
d957 CD5CD9   ; CALL    #D95C
d95a 23       ; INC     HL
d95b C9       ; RET     
              ;
d95c 7C       ; LD      A,H
d95d 2F       ; CPL     
d95e 67       ; LD      H,A
d95f 7D       ; LD      A,L
d960 2F       ; CPL     
d961 6F       ; LD      L,A
d962 C9       ; RET     
              ;
d963 CD33D9   ; CALL    #D933
d966 EB       ; EX      DE,HL
d967 CB7A     ; BIT     7,D
d969 C8       ; RET     Z
              ;
d96a 18EB     ; JR      #D957
d96c CB7C     ; BIT     7,H
d96e C8       ; RET     Z
              ;
d96f F5       ; PUSH    AF
d970 CD57D9   ; CALL    #D957
d973 F1       ; POP     AF
d974 3F       ; CCF     
d975 C9       ; RET     
              ;
d976 EB       ; EX      DE,HL
d977 B7       ; OR      A
d978 ED52     ; SBC     HL,DE
d97a 19       ; ADD     HL,DE
d97b C8       ; RET     Z
              ;
d97c 37       ; SCF     
d97d EA83D9   ; JP      PE,#D983
d980 F8       ; RET     M
              ;
d981 3F       ; CCF     
d982 C9       ; RET     
              ;
d983 F0       ; RET     P
              ;
d984 3F       ; CCF     
d985 C9       ; RET     
              ;
d986 CB45     ; BIT     0,L
d988 210000   ; LD      HL,#0000
d98b C8       ; RET     Z
              ;
d98c 2B       ; DEC     HL
d98d C9       ; RET     
              ;
d98e 7C       ; LD      A,H
d98f A2       ; AND     D
d990 67       ; LD      H,A
d991 7D       ; LD      A,L
d992 A3       ; AND     E
d993 6F       ; LD      L,A
d994 C9       ; RET     
              ;
d995 7C       ; LD      A,H
d996 B2       ; OR      D
d997 67       ; LD      H,A
d998 7D       ; LD      A,L
d999 B3       ; OR      E
d99a 6F       ; LD      L,A
d99b C9       ; RET     
              ;
d99c 7C       ; LD      A,H
d99d AA       ; XOR     D
d99e 67       ; LD      H,A
d99f 7D       ; LD      A,L
d9a0 AB       ; XOR     E
d9a1 6F       ; LD      L,A
d9a2 C9       ; RET     
              ;
d9a3 CB7C     ; BIT     7,H
d9a5 2009     ; JR      NZ,#D9B0
d9a7 EB       ; EX      DE,HL
d9a8 CDBFD9   ; CALL    #D9BF
d9ab C8       ; RET     Z
              ;
d9ac 29       ; ADD     HL,HL
d9ad 10FD     ; DJNZ    #D9AC
d9af C9       ; RET     
              ;
d9b0 CD57D9   ; CALL    #D957
d9b3 EB       ; EX      DE,HL
d9b4 CDBFD9   ; CALL    #D9BF
d9b7 C8       ; RET     Z
              ;
d9b8 CB3C     ; SRL     H
d9ba CB1D     ; RR      L
d9bc 10FA     ; DJNZ    #D9B8
d9be C9       ; RET     
              ;
d9bf 7A       ; LD      A,D
d9c0 B7       ; OR      A
d9c1 2008     ; JR      NZ,#D9CB
d9c3 7B       ; LD      A,E
d9c4 47       ; LD      B,A
d9c5 FE10     ; CP      #10
d9c7 3002     ; JR      NC,#D9CB
d9c9 B7       ; OR      A
d9ca C9       ; RET     
              ;
d9cb AF       ; XOR     A
d9cc 67       ; LD      H,A
d9cd 6F       ; LD      L,A
d9ce C9       ; RET     
              ;
d9cf E3       ; EX      (SP),HL
d9d0 5E       ; LD      E,(HL)
d9d1 23       ; INC     HL
d9d2 56       ; LD      D,(HL)
d9d3 23       ; INC     HL
d9d4 E3       ; EX      (SP),HL
d9d5 7C       ; LD      A,H
d9d6 BA       ; CP      D
d9d7 C0       ; RET     NZ
              ;
d9d8 7D       ; LD      A,L
d9d9 BB       ; CP      E
d9da C9       ; RET     
              ;
d9db EB       ; EX      DE,HL
d9dc B7       ; OR      A
d9dd ED42     ; SBC     HL,BC
d9df EB       ; EX      DE,HL
d9e0 C37BD9   ; JP      #D97B
d9e3 CDDBD9   ; CALL    #D9DB
d9e6 C8       ; RET     Z
              ;
d9e7 3F       ; CCF     
d9e8 C9       ; RET     
              ;
d9e9 210000   ; LD      HL,#0000
d9ec DD7E00   ; LD      A,(IX+#00)
d9ef D630     ; SUB     #30
d9f1 3817     ; JR      C,#DA0A
d9f3 FE0A     ; CP      #0A
d9f5 3013     ; JR      NC,#DA0A
d9f7 54       ; LD      D,H
d9f8 5D       ; LD      E,L
d9f9 29       ; ADD     HL,HL
d9fa D8       ; RET     C
              ;
d9fb 29       ; ADD     HL,HL
d9fc D8       ; RET     C
              ;
d9fd 19       ; ADD     HL,DE
d9fe D8       ; RET     C
              ;
d9ff 29       ; ADD     HL,HL
da00 D8       ; RET     C
              ;
da01 5F       ; LD      E,A
da02 1600     ; LD      D,#00
da04 19       ; ADD     HL,DE
da05 D8       ; RET     C
              ;
da06 DD23     ; INC     IX
da08 18E2     ; JR      #D9EC
da0a B7       ; OR      A
da0b CB7C     ; BIT     7,H
da0d C8       ; RET     Z
              ;
da0e 37       ; SCF     
da0f C9       ; RET     
              ;
Da10 01FF05   ; LD      BC,#05FF
Da13 113DDA   ; LD      DE,#DA3D
Da16 D5       ; PUSH    DE
Da17 E3       ; EX      (SP),HL
Da18 5E       ; LD      E,(HL)
Da19 23       ; INC     HL
Da1a 56       ; LD      D,(HL)
Da1b 23       ; INC     HL
Da1c E3       ; EX      (SP),HL
Da1d AF       ; XOR     A
Da1e 3C       ; INC     A
Da1f ED52     ; SBC     HL,DE
Da21 30FB     ; JR      NC,#DA1E
Da23 19       ; ADD     HL,DE
Da24 3D       ; DEC     A
Da25 0C       ; INC     C
Da26 200A     ; JR      NZ,#DA32
Da28 B7       ; OR      A
Da29 2007     ; JR      NZ,#DA32
Da2b 78       ; LD      A,B
Da2c 3D       ; DEC     A
Da2d 2803     ; JR      Z,#DA32
Da2f 0D       ; DEC     C
Da30 1807     ; JR      #DA39
Da32 C630     ; ADD     A,#30
Da34 DD7700   ; LD      (IX+#00),A
Da37 DD23     ; INC     IX
Da39 10DC     ; DJNZ    #DA17
Da3b D1       ; POP     DE
Da3c C9       ; RET     
              ;
da3d 1027     ; DJNZ    #DA66
da3f E8       ; RET     PE
              ;
da40 03       ; INC     BC
da41 64       ; LD      H,H
da42 00       ; NOP     
da43 0A       ; LD      A,(BC)
da44 00       ; NOP     
da45 0100DD   ; LD      BC,#DD00
da48 E1       ; POP     HL
da49 E1       ; POP     HL
da4a E5       ; PUSH    HL
da4b 7D       ; LD      A,L
da4c 2600     ; LD      H,#00
da4e 23       ; INC     HL
da4f 39       ; ADD     HL,SP
da50 F9       ; LD      SP,HL
da51 6F       ; LD      L,A
da52 2600     ; LD      H,#00
da54 DDE9     ; JP      (IX)
da56 DDE1     ; POP     IX
da58 E1       ; POP     HL
da59 E5       ; PUSH    HL
da5a 2600     ; LD      H,#00
da5c 39       ; ADD     HL,SP
da5d F9       ; LD      SP,HL
da5e 6E       ; LD      L,(HL)
da5f 33       ; INC     SP
da60 18F0     ; JR      #DA52
da62 DDE1     ; POP     IX
da64 DD4600   ; LD      B,(IX+#00)
da67 DD23     ; INC     IX
da69 05       ; DEC     B
da6a 2002     ; JR      NZ,#DA6E
da6c DDE9     ; JP      (IX)
da6e C5       ; PUSH    BC
da6f 210200   ; LD      HL,#0002
da72 39       ; ADD     HL,SP
da73 4E       ; LD      C,(HL)
da74 0600     ; LD      B,#00
da76 03       ; INC     BC
da77 09       ; ADD     HL,BC
da78 7E       ; LD      A,(HL)
da79 0B       ; DEC     BC
da7a 81       ; ADD     A,C
da7b DA27E1   ; JP      C,#E127
da7e 03       ; INC     BC
da7f 54       ; LD      D,H
da80 5D       ; LD      E,L
da81 2B       ; DEC     HL
da82 EDB8     ; LDDR    
da84 13       ; INC     DE
da85 12       ; LD      (DE),A
da86 C1       ; POP     BC
da87 33       ; INC     SP
da88 18DF     ; JR      #DA69
da8a DDE1     ; POP     IX
da8c CD4EDB   ; CALL    #DB4E
da8f 4F       ; LD      C,A
da90 E1       ; POP     HL
da91 CD4EDB   ; CALL    #DB4E
da94 B7       ; OR      A
da95 CA27E1   ; JP      Z,#E127
da98 47       ; LD      B,A
da99 E1       ; POP     HL
da9a E5       ; PUSH    HL
da9b 7D       ; LD      A,L
da9c 2600     ; LD      H,#00
da9e 39       ; ADD     HL,SP
da9f E5       ; PUSH    HL
daa0 58       ; LD      E,B
daa1 1600     ; LD      D,#00
daa3 1B       ; DEC     DE
daa4 B7       ; OR      A
daa5 ED52     ; SBC     HL,DE
daa7 D1       ; POP     DE
daa8 90       ; SUB     B
daa9 3807     ; JR      C,#DAB2
daab 3C       ; INC     A
daac B9       ; CP      C
daad 3804     ; JR      C,#DAB3
daaf 79       ; LD      A,C
dab0 1801     ; JR      #DAB3
dab2 AF       ; XOR     A
dab3 B7       ; OR      A
dab4 2805     ; JR      Z,#DABB
dab6 4F       ; LD      C,A
dab7 0600     ; LD      B,#00
dab9 EDB8     ; LDDR    
dabb EB       ; EX      DE,HL
dabc 77       ; LD      (HL),A
dabd F9       ; LD      SP,HL
dabe DDE9     ; JP      (IX)
dac0 DDE1     ; POP     IX
dac2 CD4EDB   ; CALL    #DB4E
dac5 4F       ; LD      C,A
dac6 0601     ; LD      B,#01
dac8 18CF     ; JR      #DA99
daca DDE1     ; POP     IX
dacc CD4EDB   ; CALL    #DB4E
dacf E3       ; EX      (SP),HL
dad0 4D       ; LD      C,L
dad1 E3       ; EX      (SP),HL
dad2 B9       ; CP      C
dad3 30E9     ; JR      NC,#DABE
dad5 69       ; LD      L,C
dad6 2600     ; LD      H,#00
dad8 39       ; ADD     HL,SP
dad9 EB       ; EX      DE,HL
dada 6F       ; LD      L,A
dadb 2600     ; LD      H,#00
dadd 39       ; ADD     HL,SP
dade 18D3     ; JR      #DAB3
dae0 65       ; LD      H,L
dae1 2E01     ; LD      L,#01
dae3 E3       ; EX      (SP),HL
dae4 E9       ; JP      (HL)
dae5 210200   ; LD      HL,#0002
dae8 39       ; ADD     HL,SP
dae9 4E       ; LD      C,(HL)
daea 0600     ; LD      B,#00
daec 09       ; ADD     HL,BC
daed 54       ; LD      D,H
daee 5D       ; LD      E,L
daef 23       ; INC     HL
daf0 22A10C   ; LD      (#0CA1),HL
daf3 C5       ; PUSH    BC
daf4 4E       ; LD      C,(HL)
daf5 09       ; ADD     HL,BC
daf6 23       ; INC     HL
daf7 229F0C   ; LD      (#0C9F),HL
dafa 2B       ; DEC     HL
dafb EB       ; EX      DE,HL
dafc 79       ; LD      A,C
dafd C1       ; POP     BC
dafe 47       ; LD      B,A
daff AF       ; XOR     A
db00 B8       ; CP      B
db01 2803     ; JR      Z,#DB06
db03 B9       ; CP      C
db04 2003     ; JR      NZ,#DB09
db06 78       ; LD      A,B
db07 B9       ; CP      C
db08 C9       ; RET     
              ;
db09 1A       ; LD      A,(DE)
db0a BE       ; CP      (HL)
db0b C0       ; RET     NZ
              ;
db0c 2B       ; DEC     HL
db0d 1B       ; DEC     DE
db0e 05       ; DEC     B
db0f 0D       ; DEC     C
db10 18ED     ; JR      #DAFF
db12 E1       ; POP     HL
db13 CDC0DC   ; CALL    #DCC0
db16 DD2A9F0C ; LD      IX,(#0C9F)
db1a CDE5DA   ; CALL    #DAE5
db1d ED7BA10C ; LD      SP,(#0CA1)
db21 2004     ; JR      NZ,#DB27
db23 ED7B9F0C ; LD      SP,(#0C9F)
db27 DDE9     ; JP      (IX)
db29 DDE1     ; POP     IX
db2b CD4EDB   ; CALL    #DB4E
db2e E3       ; EX      (SP),HL
db2f 4D       ; LD      C,L
db30 E3       ; EX      (SP),HL
db31 91       ; SUB     C
db32 3807     ; JR      C,#DB3B
db34 2805     ; JR      Z,#DB3B
db36 47       ; LD      B,A
db37 DF69     ; RST     #18 ; db #69 ; SCAL SPACE  Output a space. The A register is set to a space
db39 10FC     ; DJNZ    #DB37
db3b 69       ; LD      L,C
db3c 2600     ; LD      H,#00
db3e 39       ; ADD     HL,SP
db3f E5       ; PUSH    HL
db40 0C       ; INC     C
db41 0D       ; DEC     C
db42 2805     ; JR      Z,#DB49
db44 7E       ; LD      A,(HL)
db45 2B       ; DEC     HL
db46 F7       ; RST     #30	     ; ROUT    Output the character in the A register.
db47 18F8     ; JR      #DB41
db49 E1       ; POP     HL
db4a 23       ; INC     HL
db4b F9       ; LD      SP,HL
db4c DDE9     ; JP      (IX)
db4e AF       ; XOR     A
db4f 37       ; SCF     
db50 CB7C     ; BIT     7,H
db52 C0       ; RET     NZ
              ;
db53 B7       ; OR      A
db54 7D       ; LD      A,L
db55 24       ; INC     H
db56 25       ; DEC     H
db57 C8       ; RET     Z
              ;
db58 3EFF     ; LD      A,#FF
db5a C9       ; RET     
              ;
db5b C1       ; POP     BC
db5c D1       ; POP     DE
db5d C5       ; PUSH    BC
db5e EB       ; EX      DE,HL
db5f D5       ; PUSH    DE
db60 DD21C00C ; LD      IX,#0CC0
db64 CB7C     ; BIT     7,H
db66 2809     ; JR      Z,#DB71
db68 CD57D9   ; CALL    #D957
db6b DD36002D ; LD      (IX+#00),#2D
db6f DD23     ; INC     IX
db71 CD10DA   ; CALL    #DA10
db74 E1       ; POP     HL
db75 CD4EDB   ; CALL    #DB4E
db78 01C00C   ; LD      BC,#0CC0
              ;
Db7b C5       ; PUSH    BC
Db7c DDE5     ; PUSH    IX
Db7e E1       ; POP     HL
Db7f 3600     ; LD      (HL),#00
Db81 B7       ; OR      A
Db82 ED42     ; SBC     HL,BC
Db84 95       ; SUB     L
Db85 3807     ; JR      C,#DB8E
Db87 2805     ; JR      Z,#DB8E
Db89 47       ; LD      B,A
Db8a DF69     ; RST     #18 ; db #69 ; SCAL SPACE  Output a space. The A register is set to a space
Db8c 10FC     ; DJNZ    #DB8A
Db8e E1       ; POP     HL
Db8f 7E       ; LD      A,(HL)
Db90 B7       ; OR      A
Db91 C8       ; RET     Z
db92 F7       ; RST     #30   ; ROUT    Output the character in the A register.
db93 23       ; INC     HL
db94 18F9     ; JR      #DB8F


db96 D5       ; PUSH    DE
db97 CDDDDB   ; CALL    #DBDD
db9a CDE9D9   ; CALL    #D9E9
db9d 3816     ; JR      C,#DBB5
db9f DD7E00   ; LD      A,(IX+#00)
dba2 FE0D     ; CP      #0D
dba4 200F     ; JR      NZ,#DBB5
dba6 3AA30C   ; LD      A,(#0CA3)
dba9 B7       ; OR      A
dbaa 2803     ; JR      Z,#DBAF
dbac CD57D9   ; CALL    #D957
dbaf EB       ; EX      DE,HL
dbb0 E1       ; POP     HL
dbb1 73       ; LD      (HL),E
dbb2 23       ; INC     HL
dbb3 72       ; LD      (HL),D
dbb4 C9       ; RET     
              ;
dbb5 CD09DC   ; CALL    #DC09
dbb8 18DD     ; JR      #DB97
dbba D5       ; PUSH    DE
dbbb CDDDDB   ; CALL    #DBDD
dbbe CD77D8   ; CALL    #D877
dbc1 3815     ; JR      C,#DBD8
dbc3 DD7E00   ; LD      A,(IX+#00)
dbc6 FE0D     ; CP      #0D
dbc8 200E     ; JR      NZ,#DBD8
dbca 3AA30C   ; LD      A,(#0CA3)
dbcd B7       ; OR      A
dbce 2803     ; JR      Z,#DBD3
dbd0 CDCCD0   ; CALL    #D0CC
dbd3 D9       ; EXX     
dbd4 E1       ; POP     HL
dbd5 C318DD   ; JP      #DD18
dbd8 CD09DC   ; CALL    #DC09
dbdb 18DE     ; JR      #DBBB
dbdd CD03D0   ; CALL    #D003  ; Read line (max 3F chars)
dbe0 04       ; INC     B
dbe1 05       ; DEC     B
dbe2 28F9     ; JR      Z,#DBDD
dbe4 78       ; LD      A,B
dbe5 32A40C   ; LD      (#0CA4),A
dbe8 DD21C00C ; LD      IX,#0CC0
dbec DD7E00   ; LD      A,(IX+#00)
dbef FE20     ; CP      #20
dbf1 2004     ; JR      NZ,#DBF7
dbf3 DD23     ; INC     IX
dbf5 18F5     ; JR      #DBEC
dbf7 0600     ; LD      B,#00
dbf9 FE2B     ; CP      #2B
dbfb 2805     ; JR      Z,#DC02
dbfd FE2D     ; CP      #2D
dbff 2003     ; JR      NZ,#DC04
dc01 05       ; DEC     B
dc02 DD23     ; INC     IX
dc04 78       ; LD      A,B
dc05 32A30C   ; LD      (#0CA3),A
dc08 C9       ; RET     
              ;
dc09 3AA40C   ; LD      A,(#0CA4)
dc0c 47       ; LD      B,A
dc0d 3E08     ; LD      A,#08
dc0f F7       ; RST     #30     ; ROUT    Output the character in the A register.
dc10 10FD     ; DJNZ    #DC0F
dc12 C9       ; RET     
              ;
dc13 E3       ; EX      (SP),HL
dc14 46       ; LD      B,(HL)
dc15 05       ; DEC     B
dc16 23       ; INC     HL
dc17 E3       ; EX      (SP),HL
dc18 D5       ; PUSH    DE
dc19 78       ; LD      A,B
dc1a 48       ; LD      C,B
dc1b 05       ; DEC     B
dc1c 2815     ; JR      Z,#DC33
dc1e FE3F     ; CP      #3F
dc20 3802     ; JR      C,#DC24
dc22 0E3F     ; LD      C,#3F
dc24 CD05D0   ; CALL    #D005	; read line from keyboard
dc27 EB       ; EX      DE,HL
dc28 E1       ; POP     HL
dc29 70       ; LD      (HL),B
dc2a 04       ; INC     B
dc2b 05       ; DEC     B
dc2c C8       ; RET     Z
              ;
dc2d 1B       ; DEC     DE
dc2e 23       ; INC     HL
dc2f 1A       ; LD      A,(DE)
dc30 77       ; LD      (HL),A
dc31 18F8     ; JR      #DC2B
dc33 DF7B     ; RST     #18; db #7B ;   SCAL #7B = SCAL BLINK Obtain an input character in A. Blink cursor while waiting. 
dc35 E1       ; POP     HL	    ;   read/readln(string)
dc36 3601     ; LD      (HL),#01
dc38 23       ; INC     HL
dc39 77       ; LD      (HL),A
dc3a C9       ; RET     
              ;
		; Function: screen (x,y)
		; llamada: 
		;	ld hl, x
		;	push hl
		;	ld hl, y
		;	call dc3b

dc3b DDE1     ; POP     IX	; IX=call retuen address. Lo saca del stack para poder acceder por POP a los params
dc3d 0611     ; LD      B,#11
dc3f CD78DC   ; CALL    #DC78
dc42 57       ; LD      D,A
dc43 E1       ; POP     HL
dc44 0631     ; LD      B,#31
dc46 CD78DC   ; CALL    #DC78
dc49 B7       ; OR      A
dc4a 2007     ; JR      NZ,#DC53
dc4c 3A290C   ; LD      A,(#0C29)  ; 0C29-0c2a CURSOR    Position of the cursor.
dc4f E63F     ; AND     #3F
dc51 D609     ; SUB     #09
dc53 3D       ; DEC     A
dc54 5F       ; LD      E,A
dc55 62       ; LD      H,D
dc56 2E00     ; LD      L,#00
dc58 55       ; LD      D,L
dc59 25       ; DEC     H
dc5a F266DC   ; JP      P,#DC66
dc5d D5       ; PUSH    DE
dc5e 2A290C   ; LD      HL,(#0C29)  ; 0C29-0c2a CURSOR    Position of the cursor.
dc61 DF7C     ; RST     #18 ; db #7C ; CPOS       The HL register must be set to point to a position on screen
dc63 D1       ; POP     DE
dc64 180C     ; JR      #DC72
dc66 CB3C     ; SRL     H
dc68 CB1D     ; RR      L
dc6a CB3C     ; SRL     H
dc6c CB1D     ; RR      L
dc6e 010A08   ; LD      BC,#080A
dc71 09       ; ADD     HL,BC
dc72 19       ; ADD     HL,DE
dc73 22290C   ; LD      (#0C29),HL   ; 0C29-0c2a CURSOR    Position of the cursor.
dc76 DDE9     ; JP      (IX)


dc78 7C       ; LD      A,H
dc79 B7       ; OR      A
dc7a 2003     ; JR      NZ,#DC7F
dc7c 7D       ; LD      A,L
dc7d B8       ; CP      B
dc7e D8       ; RET     C
dc7f AF       ; XOR     A
dc80 C9       ; RET     
              ;
dc81 EB       ; EX      DE,HL
dc82 46       ; LD      B,(HL)
dc83 23       ; INC     HL
dc84 4E       ; LD      C,(HL)
dc85 23       ; INC     HL
dc86 56       ; LD      D,(HL)
dc87 23       ; INC     HL
dc88 5E       ; LD      E,(HL)
dc89 23       ; INC     HL
dc8a 7E       ; LD      A,(HL)
dc8b 23       ; INC     HL
dc8c 6E       ; LD      L,(HL)
dc8d 67       ; LD      H,A
dc8e C9       ; RET     
              ;
dc8f CDD4DD   ; CALL    #DDD4
dc92 18EE     ; JR      #DC82
dc94 E3       ; EX      (SP),HL
dc95 7E       ; LD      A,(HL)
dc96 23       ; INC     HL
dc97 E3       ; EX      (SP),HL
dc98 CDD9DD   ; CALL    #DDD9
dc9b 18E5     ; JR      #DC82
dc9d CDE8DD   ; CALL    #DDE8
dca0 18E0     ; JR      #DC82
dca2 E3       ; EX      (SP),HL
dca3 7E       ; LD      A,(HL)
dca4 23       ; INC     HL
dca5 E3       ; EX      (SP),HL
dca6 CDF1DD   ; CALL    #DDF1
dca9 18D7     ; JR      #DC82
dcab EB       ; EX      DE,HL
dcac 5E       ; LD      E,(HL)
dcad 23       ; INC     HL
dcae 56       ; LD      D,(HL)
dcaf EB       ; EX      DE,HL
dcb0 C9       ; RET     
              ;
dcb1 CDE8DD   ; CALL    #DDE8
dcb4 18F6     ; JR      #DCAC
dcb6 E3       ; EX      (SP),HL
dcb7 7E       ; LD      A,(HL)
dcb8 23       ; INC     HL
dcb9 E3       ; EX      (SP),HL
dcba CDF1DD   ; CALL    #DDF1
dcbd 18ED     ; JR      #DCAC
dcbf EB       ; EX      DE,HL
dcc0 DDE1     ; POP     IX
dcc2 4E       ; LD      C,(HL)
dcc3 0600     ; LD      B,#00
dcc5 03       ; INC     BC
dcc6 09       ; ADD     HL,BC
dcc7 229F0C   ; LD      (#0C9F),HL
dcca 2B       ; DEC     HL
dccb EB       ; EX      DE,HL
dccc 21FFFF   ; LD      HL,#FFFF
dccf 39       ; ADD     HL,SP
dcd0 EB       ; EX      DE,HL
dcd1 3B       ; DEC     SP
dcd2 EDA8     ; LDD     
dcd4 EAD1DC   ; JP      PE,#DCD1
dcd7 DDE9     ; JP      (IX)
dcd9 CDD4DD   ; CALL    #DDD4
dcdc 18E2     ; JR      #DCC0
dcde E3       ; EX      (SP),HL
dcdf 7E       ; LD      A,(HL)
dce0 23       ; INC     HL
dce1 E3       ; EX      (SP),HL
dce2 CDD9DD   ; CALL    #DDD9
dce5 18D9     ; JR      #DCC0
dce7 CDE8DD   ; CALL    #DDE8
dcea 18D4     ; JR      #DCC0
dcec E3       ; EX      (SP),HL
dced 7E       ; LD      A,(HL)
dcee 23       ; INC     HL
dcef E3       ; EX      (SP),HL
dcf0 CDF1DD   ; CALL    #DDF1
dcf3 18CB     ; JR      #DCC0
dcf5 E1       ; POP     HL
dcf6 CDC0DC   ; CALL    #DCC0
dcf9 2A9F0C   ; LD      HL,(#0C9F)
dcfc E9       ; JP      (HL)
dcfd 2A920C   ; LD      HL,(#0C92) ; WSP work space stack pointer during program execution
dd00 110600   ; LD      DE,#0006
dd03 19       ; ADD     HL,DE
dd04 CD26DF   ; CALL    #DF26
dd07 2A920C   ; LD      HL,(#0C92) ; WSP work space stack pointer during program execution
dd0a CD18DD   ; CALL    #DD18
dd0d 23       ; INC     HL
dd0e 22920C   ; LD      (#0C92),HL ; WSP work space stack pointer during program execution
dd11 C9       ; RET     
              ;
dd12 D5       ; PUSH    DE
dd13 1804     ; JR      #DD19
dd15 2A9D0C   ; LD      HL,(#0C9D)
dd18 E5       ; PUSH    HL
dd19 D9       ; EXX     
dd1a E3       ; EX      (SP),HL
dd1b 70       ; LD      (HL),B
dd1c 23       ; INC     HL
dd1d 71       ; LD      (HL),C
dd1e 23       ; INC     HL
dd1f 72       ; LD      (HL),D
dd20 23       ; INC     HL
dd21 73       ; LD      (HL),E
dd22 23       ; INC     HL
dd23 D1       ; POP     DE
dd24 72       ; LD      (HL),D
dd25 23       ; INC     HL
dd26 73       ; LD      (HL),E
dd27 C9       ; RET     
              ;
dd28 CDD4DD   ; CALL    #DDD4
dd2b 18EB     ; JR      #DD18
dd2d E3       ; EX      (SP),HL
dd2e 7E       ; LD      A,(HL)
dd2f 23       ; INC     HL
dd30 E3       ; EX      (SP),HL
dd31 CDD9DD   ; CALL    #DDD9
dd34 18E2     ; JR      #DD18
dd36 CDE8DD   ; CALL    #DDE8
dd39 18DD     ; JR      #DD18
dd3b E3       ; EX      (SP),HL
dd3c 7E       ; LD      A,(HL)
dd3d 23       ; INC     HL
dd3e E3       ; EX      (SP),HL
dd3f CDF1DD   ; CALL    #DDF1
dd42 18D4     ; JR      #DD18
dd44 EB       ; EX      DE,HL
dd45 2A920C   ; LD      HL,(#0C92) ; WSP work space stack pointer during program execution
dd48 23       ; INC     HL
dd49 23       ; INC     HL
dd4a CD26DF   ; CALL    #DF26
dd4d 22920C   ; LD      (#0C92),HL ; WSP work space stack pointer during program execution
dd50 2B       ; DEC     HL
dd51 72       ; LD      (HL),D
dd52 2B       ; DEC     HL
dd53 73       ; LD      (HL),E
dd54 C9       ; RET     
              ;
dd55 ED5B9D0C ; LD      DE,(#0C9D)
dd59 EB       ; EX      DE,HL
dd5a 1806     ; JR      #DD62
dd5c EB       ; EX      DE,HL
dd5d ED4B900C ; LD      BC,(#0C90)
dd61 09       ; ADD     HL,BC
dd62 73       ; LD      (HL),E
dd63 23       ; INC     HL
dd64 72       ; LD      (HL),D
dd65 C9       ; RET     
              ;
dd66 E3       ; EX      (SP),HL
dd67 7E       ; LD      A,(HL)
dd68 23       ; INC     HL
dd69 E3       ; EX      (SP),HL
dd6a E5       ; PUSH    HL
dd6b CDD9DD   ; CALL    #DDD9
dd6e D1       ; POP     DE
dd6f 18F1     ; JR      #DD62
dd71 E5       ; PUSH    HL
dd72 CDE8DD   ; CALL    #DDE8
dd75 18F7     ; JR      #DD6E
dd77 E3       ; EX      (SP),HL
dd78 7E       ; LD      A,(HL)
dd79 23       ; INC     HL
dd7a E3       ; EX      (SP),HL
dd7b E5       ; PUSH    HL
dd7c CDF1DD   ; CALL    #DDF1
dd7f 18ED     ; JR      #DD6E
dd81 58       ; LD      E,B
dd82 1D       ; DEC     E
dd83 1600     ; LD      D,#00
dd85 13       ; INC     DE
dd86 2A920C   ; LD      HL,(#0C92) ; WSP work space stack pointer during program execution
dd89 E5       ; PUSH    HL
dd8a 19       ; ADD     HL,DE
dd8b D1       ; POP     DE
dd8c 22920C   ; LD      (#0C92),HL ; WSP work space stack pointer during program execution
dd8f 78       ; LD      A,B
dd90 CD26DF   ; CALL    #DF26
dd93 47       ; LD      B,A
dd94 EB       ; EX      DE,HL
dd95 1803     ; JR      #DD9A
dd97 2A9D0C   ; LD      HL,(#0C9D)
dd9a EB       ; EX      DE,HL
dd9b DDE1     ; POP     IX
dd9d 78       ; LD      A,B
dd9e 3D       ; DEC     A
dd9f 210000   ; LD      HL,#0000
dda2 39       ; ADD     HL,SP
dda3 4E       ; LD      C,(HL)
dda4 0600     ; LD      B,#00
dda6 B9       ; CP      C
dda7 3009     ; JR      NC,#DDB2
dda9 F5       ; PUSH    AF
ddaa 91       ; SUB     C
ddab ED44     ; NEG     
ddad 4F       ; LD      C,A
ddae 09       ; ADD     HL,BC
ddaf F1       ; POP     AF
ddb0 4F       ; LD      C,A
ddb1 77       ; LD      (HL),A
ddb2 03       ; INC     BC
ddb3 EDB0     ; LDIR    
ddb5 F9       ; LD      SP,HL
ddb6 DDE9     ; JP      (IX)
ddb8 CDD4DD   ; CALL    #DDD4
ddbb 18DD     ; JR      #DD9A
ddbd E3       ; EX      (SP),HL
ddbe 7E       ; LD      A,(HL)
ddbf 23       ; INC     HL
ddc0 E3       ; EX      (SP),HL
ddc1 CDD9DD   ; CALL    #DDD9
ddc4 18D4     ; JR      #DD9A
ddc6 CDE8DD   ; CALL    #DDE8
ddc9 18CF     ; JR      #DD9A
ddcb E3       ; EX      (SP),HL
ddcc 7E       ; LD      A,(HL)
ddcd 23       ; INC     HL
ddce E3       ; EX      (SP),HL
ddcf CDF1DD   ; CALL    #DDF1
ddd2 18C6     ; JR      #DD9A
ddd4 2A900C   ; LD      HL,(#0C90)
ddd7 19       ; ADD     HL,DE
ddd8 C9       ; RET     
              ;
ddd9 D5       ; PUSH    DE
ddda 2A900C   ; LD      HL,(#0C90)
dddd 2B       ; DEC     HL
ddde 56       ; LD      D,(HL)
dddf 2B       ; DEC     HL
dde0 5E       ; LD      E,(HL)
dde1 EB       ; EX      DE,HL
dde2 BE       ; CP      (HL)
dde3 20F8     ; JR      NZ,#DDDD
dde5 D1       ; POP     DE
dde6 19       ; ADD     HL,DE
dde7 C9       ; RET     
              ;
dde8 CD06DE   ; CALL    #DE06
ddeb EB       ; EX      DE,HL
ddec C9       ; RET     
              ;
dded E3       ; EX      (SP),HL
ddee 7E       ; LD      A,(HL)
ddef 23       ; INC     HL
ddf0 E3       ; EX      (SP),HL
ddf1 CDD9DD   ; CALL    #DDD9
ddf4 C3ACDC   ; JP      #DCAC

ddf7 2A900C   ; LD      HL,(#0C90)
ddfa 19       ; ADD     HL,DE
ddfb EB       ; EX      DE,HL
ddfc C9       ; RET     
              ;
ddfd E3       ; EX      (SP),HL
ddfe 7E       ; LD      A,(HL)
ddff 23       ; INC     HL
de00 E3       ; EX      (SP),HL
de01 CDD9DD   ; CALL    #DDD9
de04 EB       ; EX      DE,HL
de05 C9       ; RET     
              ;
de06 2A900C   ; LD      HL,(#0C90)
de09 19       ; ADD     HL,DE
de0a 5E       ; LD      E,(HL)
de0b 23       ; INC     HL
de0c 56       ; LD      D,(HL)
de0d C9       ; RET     
              ;
de0e E3       ; EX      (SP),HL
de0f 7E       ; LD      A,(HL)
de10 23       ; INC     HL
de11 E3       ; EX      (SP),HL
de12 CDD9DD   ; CALL    #DDD9
de15 18F3     ; JR      #DE0A
de17 3EAF     ; LD      A,#AF
de19 08       ; EX      AF,AF'
de1a DDE1     ; POP     IX
de1c DD7E00   ; LD      A,(IX+#00)
de1f DD23     ; INC     IX
de21 CDF1DD   ; CALL    #DDF1
de24 1820     ; JR      #DE46
de26 3EAF     ; LD      A,#AF
de28 08       ; EX      AF,AF'
de29 CDE8DD   ; CALL    #DDE8
de2c 1816     ; JR      #DE44
de2e 3EAF     ; LD      A,#AF
de30 08       ; EX      AF,AF'
de31 DDE1     ; POP     IX
de33 DD7E00   ; LD      A,(IX+#00)
de36 DD23     ; INC     IX
de38 CDD9DD   ; CALL    #DDD9
de3b 1809     ; JR      #DE46
de3d 3EAF     ; LD      A,#AF
de3f 08       ; EX      AF,AF'
de40 2A900C   ; LD      HL,(#0C90)
de43 19       ; ADD     HL,DE
de44 DDE1     ; POP     IX
de46 E5       ; PUSH    HL
de47 DD6E00   ; LD      L,(IX+#00)
de4a DD23     ; INC     IX
de4c DD6600   ; LD      H,(IX+#00)
de4f DD23     ; INC     IX
de51 46       ; LD      B,(HL)
de52 23       ; INC     HL
de53 4E       ; LD      C,(HL)
de54 23       ; INC     HL
de55 22A30C   ; LD      (#0CA3),HL
de58 68       ; LD      L,B
de59 2C       ; INC     L
de5a 2600     ; LD      H,#00
de5c 29       ; ADD     HL,HL
de5d 39       ; ADD     HL,SP
de5e 229F0C   ; LD      (#0C9F),HL
de61 E5       ; PUSH    HL
de62 210000   ; LD      HL,#0000
de65 C5       ; PUSH    BC
de66 22A10C   ; LD      (#0CA1),HL
de69 2A9F0C   ; LD      HL,(#0C9F)
de6c 2B       ; DEC     HL
de6d 56       ; LD      D,(HL)
de6e 2B       ; DEC     HL
de6f 5E       ; LD      E,(HL)
de70 229F0C   ; LD      (#0C9F),HL
de73 2AA30C   ; LD      HL,(#0CA3)
de76 4E       ; LD      C,(HL)
de77 23       ; INC     HL
de78 46       ; LD      B,(HL)
de79 23       ; INC     HL
de7a EB       ; EX      DE,HL
de7b B7       ; OR      A
de7c ED42     ; SBC     HL,BC
de7e FA2BE1   ; JP      M,#E12B
de81 EB       ; EX      DE,HL
de82 4E       ; LD      C,(HL)
de83 23       ; INC     HL
de84 46       ; LD      B,(HL)
de85 23       ; INC     HL
de86 22A30C   ; LD      (#0CA3),HL
de89 EB       ; EX      DE,HL
de8a B7       ; OR      A
de8b ED42     ; SBC     HL,BC
de8d D22BE1   ; JP      NC,#E12B
de90 09       ; ADD     HL,BC
de91 ED4BA10C ; LD      BC,(#0CA1)
de95 09       ; ADD     HL,BC
de96 C1       ; POP     BC
de97 05       ; DEC     B
de98 280E     ; JR      Z,#DEA8
de9a C5       ; PUSH    BC
de9b E5       ; PUSH    HL
de9c EB       ; EX      DE,HL
de9d 23       ; INC     HL
de9e 23       ; INC     HL
de9f 5E       ; LD      E,(HL)
dea0 23       ; INC     HL
dea1 56       ; LD      D,(HL)
dea2 E1       ; POP     HL
dea3 CD1DD9   ; CALL    #D91D
dea6 18BE     ; JR      #DE66
dea8 79       ; LD      A,C
dea9 FE02     ; CP      #02
deab 2812     ; JR      Z,#DEBF
dead FE06     ; CP      #06
deaf 280A     ; JR      Z,#DEBB
deb1 3D       ; DEC     A
deb2 5F       ; LD      E,A
deb3 1600     ; LD      D,#00
deb5 13       ; INC     DE
deb6 CD1DD9   ; CALL    #D91D
deb9 1805     ; JR      #DEC0
debb 54       ; LD      D,H
debc 5D       ; LD      E,L
debd 29       ; ADD     HL,HL
debe 19       ; ADD     HL,DE
debf 29       ; ADD     HL,HL
dec0 D1       ; POP     DE
dec1 C1       ; POP     BC
dec2 09       ; ADD     HL,BC
dec3 08       ; EX      AF,AF'
dec4 B7       ; OR      A
dec5 2803     ; JR      Z,#DECA
dec7 229D0C   ; LD      (#0C9D),HL
deca EB       ; EX      DE,HL
decb F9       ; LD      SP,HL
decc DDE9     ; JP      (IX)
dece E3       ; EX      (SP),HL
decf 4E       ; LD      C,(HL)
ded0 23       ; INC     HL
ded1 46       ; LD      B,(HL)
ded2 23       ; INC     HL
ded3 E3       ; EX      (SP),HL
ded4 2A920C   ; LD      HL,(#0C92) ; WSP work space stack pointer during program execution
ded7 EB       ; EX      DE,HL
ded8 EDB0     ; LDIR    
deda E1       ; POP     HL
dedb 1812     ; JR      #DEEF
dedd 21900C   ; LD      HL,#0C90
dee0 ED5B920C ; LD      DE,(#0C92) ; WSP work space stack pointer during program execution
dee4 EDA0     ; LDI     
dee6 EDA0     ; LDI     
dee8 ED53900C ; LD      (#0C90),DE
deec E1       ; POP     HL
deed EDA0     ; LDI     
deef ED53920C ; LD      (#0C92),DE ; WSP work space stack pointer during program execution
def3 E9       ; JP      (HL)
def4 2A900C   ; LD      HL,(#0C90)
def7 2B       ; DEC     HL
def8 56       ; LD      D,(HL)
def9 2B       ; DEC     HL
defa 5E       ; LD      E,(HL)
defb ED53900C ; LD      (#0C90),DE
deff 22920C   ; LD      (#0C92),HL ; WSP work space stack pointer during program execution
df02 C9       ; RET     
              ;
df03 E3       ; EX      (SP),HL
df04 5E       ; LD      E,(HL)
df05 23       ; INC     HL
df06 56       ; LD      D,(HL)
df07 23       ; INC     HL
df08 E3       ; EX      (SP),HL
df09 2A920C   ; LD      HL,(#0C92) ; WSP work space stack pointer during program execution
df0c 19       ; ADD     HL,DE
df0d 22920C   ; LD      (#0C92),HL ; WSP work space stack pointer during program execution
df10 D8       ; RET     C
              ;
df11 CD26DF   ; CALL    #DF26
df14 7A       ; LD      A,D
df15 B3       ; OR      E
df16 C8       ; RET     Z
              ;
df17 2B       ; DEC     HL
df18 3600     ; LD      (HL),#00
df1a 1B       ; DEC     DE
df1b 7B       ; LD      A,E
df1c B2       ; OR      D
df1d C8       ; RET     Z
              ;
df1e 42       ; LD      B,D
df1f 4B       ; LD      C,E
df20 54       ; LD      D,H
df21 5D       ; LD      E,L
df22 1B       ; DEC     DE
df23 EDB8     ; LDDR    
df25 C9       ; RET     
              ;
df26 ED4B940C ; LD      BC,(#0C94) ; PMTP High RAM addr the executing program can read			
df2a B7       ; OR      A
df2b ED42     ; SBC     HL,BC
df2d 09       ; ADD     HL,BC
df2e D8       ; RET     C
              ;
df2f 3E99     ; LD      A,#99
df31 E1       ; POP     HL
df32 C323E1   ; JP      #E123
df35 ED4B9A0C ; LD      BC,(#0C9A)
df39 ED5B980C ; LD      DE,(#0C98)
df3d C5       ; PUSH    BC
df3e D5       ; PUSH    DE
df3f 78       ; LD      A,B
df40 41       ; LD      B,C
df41 4A       ; LD      C,D
df42 53       ; LD      D,E
df43 1E00     ; LD      E,#00
df45 1F       ; RRA     
df46 CB18     ; RR      B
df48 CB19     ; RR      C
df4a CB1A     ; RR      D
df4c CB1B     ; RR      E
df4e E1       ; POP     HL
df4f 19       ; ADD     HL,DE
df50 EB       ; EX      DE,HL
df51 E1       ; POP     HL
df52 ED4A     ; ADC     HL,BC
df54 44       ; LD      B,H
df55 4D       ; LD      C,L
df56 21E962   ; LD      HL,#62E9
df59 19       ; ADD     HL,DE
df5a 22980C   ; LD      (#0C98),HL
df5d EB       ; EX      DE,HL
df5e 211936   ; LD      HL,#3619
df61 09       ; ADD     HL,BC
df62 229A0C   ; LD      (#0C9A),HL
df65 44       ; LD      B,H
df66 4D       ; LD      C,L
df67 C9       ; RET     
              ;
df68 CD35DF   ; CALL    #DF35
df6b 218000   ; LD      HL,#0080
df6e 3E20     ; LD      A,#20
df70 CB78     ; BIT     7,B
df72 200D     ; JR      NZ,#DF81
df74 CB23     ; SLA     E
df76 CB12     ; RL      D
df78 CB11     ; RL      C
df7a CB10     ; RL      B
df7c 2D       ; DEC     L
df7d 3D       ; DEC     A
df7e 20F0     ; JR      NZ,#DF70
df80 6F       ; LD      L,A
df81 CBB8     ; RES     7,B
df83 C9       ; RET     
              ;
df84 E5       ; PUSH    HL
df85 CD35DF   ; CALL    #DF35
df88 CB3C     ; SRL     H
df8a CB1D     ; RR      L
df8c D1       ; POP     DE
df8d EB       ; EX      DE,HL
df8e C363D9   ; JP      #D963

			; function: point(x,y)
		; llamada: 
		;	ld hl, x
		;	push hl
		;	ld hl, y
		;	call df91

df91 E3       ; EX      (SP),HL
df92 E5       ; PUSH    HL
df93 CDEFDF   ; CALL    #DFEF
df96 CDBCDF   ; CALL    #DFBC
df99 78       ; LD      A,B
df9a A6       ; AND     (HL)
df9b 210000   ; LD      HL,#0000
df9e C8       ; RET     Z
df9f 2B       ; DEC     HL
dfa0 C9       ; RET     
    
              		; procedure: plot (x,y,f)
		; llamada: 
		;	ld hl, x
		;	push hl
		;	ld hl, y
		;	push hl
		;	ld hl, f
		;	call dfa1
;
dfa1 CDEFDF   ; CALL    #DFEF
dfa4 CDBCDF   ; CALL    #DFBC
dfa7 3A9F0C   ; LD      A,(#0C9F)
dfaa B7       ; OR      A
dfab 2005     ; JR      NZ,#DFB2
dfad 78       ; LD      A,B
dfae 2F       ; CPL     
dfaf A6       ; AND     (HL)
dfb0 77       ; LD      (HL),A
dfb1 C9       ; RET     
              ;
dfb2 3D       ; DEC     A
dfb3 78       ; LD      A,B
dfb4 2003     ; JR      NZ,#DFB9
dfb6 B6       ; OR      (HL)
dfb7 77       ; LD      (HL),A
dfb8 C9       ; RET     
              ;
dfb9 AE       ; XOR     (HL)
dfba 77       ; LD      (HL),A
dfbb C9       ; RET     
              ;
dfbc 26FF     ; LD      H,#FF
dfbe 7B       ; LD      A,E
dfbf D603     ; SUB     #03
dfc1 3002     ; JR      NC,#DFC5
dfc3 C630     ; ADD     A,#30
dfc5 24       ; INC     H
dfc6 D603     ; SUB     #03
dfc8 30FB     ; JR      NC,#DFC5
dfca C604     ; ADD     A,#04
dfcc CB3A     ; SRL     D
dfce 3002     ; JR      NC,#DFD2
dfd0 C603     ; ADD     A,#03
dfd2 47       ; LD      B,A
dfd3 AF       ; XOR     A
dfd4 5A       ; LD      E,D
dfd5 57       ; LD      D,A
dfd6 6F       ; LD      L,A
dfd7 37       ; SCF     
dfd8 17       ; RLA     
dfd9 10FD     ; DJNZ    #DFD8
dfdb 47       ; LD      B,A
dfdc CB3C     ; SRL     H
dfde CB1D     ; RR      L
dfe0 CB3C     ; SRL     H
dfe2 CB1D     ; RR      L
dfe4 19       ; ADD     HL,DE
dfe5 110A08   ; LD      DE,#080A
dfe8 19       ; ADD     HL,DE
dfe9 3EC0     ; LD      A,#C0
dfeb BE       ; CP      (HL)
dfec D8       ; RET     C
              ;
dfed 77       ; LD      (HL),A
dfee C9       ; RET     
              ;
dfef FDE1     ; POP     IY
dff1 DDE1     ; POP     IX
dff3 7D       ; LD      A,L
dff4 329F0C   ; LD      (#0C9F),A
dff7 E1       ; POP     HL
dff8 0630     ; LD      B,#30
dffa CD09E0   ; CALL    #E009
dffd 5F       ; LD      E,A
dffe E1       ; POP     HL
dfff 0660     ; LD      B,#60
e001 CD09E0   ; CALL    #E009
e004 57       ; LD      D,A
e005 DDE5     ; PUSH    IX
e007 FDE9     ; JP      (IY)
e009 AF       ; XOR     A
e00a 24       ; INC     H
e00b 25       ; DEC     H
e00c C0       ; RET     NZ
              ;
e00d 7D       ; LD      A,L
e00e B8       ; CP      B
e00f D8       ; RET     C
              ;
e010 AF       ; XOR     A
e011 C9       ; RET     

	; procedure save(i)
              ;
e012 DF5F     ; RST     #18 ; db #5F ; SCAL   MFLP        Alter the state of (turn on or off) the tape drive LED 
e014 DF5D     ; RST     #18 ; db #5D ; SCAL   TBEL        Wait for about 1 second
e016 AF       ; XOR     A
e017 47       ; LD      B,A
e018 DF6F     ; RST     #18 ; db #6F ; SCAL   SRLX      Output to serial output port
e01a 10FC     ; DJNZ    #E018
e01c 3EF0     ; LD      A,#F0
e01e 0604     ; LD      B,#04
e020 DF6F     ; RST     #18 ; db #6F ; SCAL   SRLX      Output to serial output port
e022 10FC     ; DJNZ    #E020
e024 EB       ; EX      DE,HL
e025 E3       ; EX      (SP),HL
e026 4E       ; LD      C,(HL)
e027 23       ; INC     HL
e028 46       ; LD      B,(HL)
e029 23       ; INC     HL
e02a 5E       ; LD      E,(HL)
e02b 23       ; INC     HL
e02c 56       ; LD      D,(HL)
e02d 23       ; INC     HL
e02e E3       ; EX      (SP),HL
e02f 7A       ; LD      A,D
e030 DF6F     ; RST     #18 ; db #6F ; SCAL   SRLX      Output to serial output port
e032 7B       ; LD      A,E
e033 DF6F     ; RST     #18 ; db #6F ; SCAL   SRLX      Output to serial output port
e035 78       ; LD      A,B
e036 DF6F     ; RST     #18 ; db #6F ; SCAL   SRLX      Output to serial output port
e038 79       ; LD      A,C
e039 DF6F     ; RST     #18 ; db #6F ; SCAL   SRLX      Output to serial output port
e03b 80       ; ADD     A,B
e03c 82       ; ADD     A,D
e03d 83       ; ADD     A,E
e03e DF6F     ; RST     #18 ; db #6F ; SCAL   SRLX      Output to serial output port
e040 010000   ; LD      BC,#0000
e043 14       ; INC     D
e044 15       ; DEC     D
e045 2005     ; JR      NZ,#E04C
e047 43       ; LD      B,E
e048 04       ; INC     B
e049 05       ; DEC     B
e04a 280A     ; JR      Z,#E056
e04c DF6D     ; RST     #18 ; db #6D ; SOUT        Send a string of characters directly to the serial output port
e04e 79       ; LD      A,C
e04f DF6F     ; RST     #18 ; db #6F ; SCAL   SRLX      Output to serial output port
e051 7A       ; LD      A,D
e052 15       ; DEC     D
e053 B7       ; OR      A
e054 20EA     ; JR      NZ,#E040
e056 DF5F     ; RST     #18 ; db #5F ; SCAL   MFLP        Alter the state of (turn on or off) the tape drive LED 
e058 C9       ; RET     
   

	; procedure load(a,i)
              ;
           ;
e059 ED539F0C ; LD      (#0C9F),DE
e05d E1       ; POP     HL
e05e 23       ; INC     HL
e05f 23       ; INC     HL
e060 5E       ; LD      E,(HL)
e061 23       ; INC     HL
e062 56       ; LD      D,(HL)
e063 23       ; INC     HL
e064 ED53A30C ; LD      (#0CA3),DE
e068 D1       ; POP     DE
e069 ED53A10C ; LD      (#0CA1),DE
e06d E5       ; PUSH    HL
e06e DF5F     ; RST     #18 ; db #5F ; SCAL   MFLP        Alter the state of (turn on or off) the tape drive LED 
e070 0604     ; LD      B,#04
e072 D747     ; RST     #10 ; db #47;    RCAL +47 = CALL #e072+#2+#47 = CALL #E0BB
e074 FEF0     ; CP      #F0
e076 20F8     ; JR      NZ,#E070
e078 10F8     ; DJNZ    #E072
e07a 010004   ; LD      BC,#0400
e07d E1       ; POP     HL
e07e E5       ; PUSH    HL
e07f 2B       ; DEC     HL
e080 D739     ; RST     #10 ; db #39;    RCAL +39 = CALL #e080+#2+#39 = CALL #E0BB
e082 BE       ; CP      (HL)
e083 1E01     ; LD      E,#01
e085 2048     ; JR      NZ,#E0CF
e087 81       ; ADD     A,C
e088 4F       ; LD      C,A
e089 10F4     ; DJNZ    #E07F
e08b D72E     ; RST     #10;  ; db #2E;    RCAL +2E = CALL #e08b+#2+#2e = CALL #E0BB
e08c B9       ; CP      C
e08e 1E02     ; LD      E,#02
e090 203D     ; JR      NZ,#E0CF
e092 ED5BA30C ; LD      DE,(#0CA3)
e096 2AA10C   ; LD      HL,(#0CA1)
e099 010000   ; LD      BC,#0000
e09c 14       ; INC     D
e09d 15       ; DEC     D
e09e 2005     ; JR      NZ,#E0A5
e0a0 43       ; LD      B,E
e0a1 04       ; INC     B
e0a2 05       ; DEC     B
e0a3 2812     ; JR      Z,#E0B7
e0a5 D714     ; RST     #10 ; db #14;    RCAL +14 = CALL #e0a5+#2+#14 = CALL #E0BB
e0a7 77       ; LD      (HL),A
e0a8 23       ; INC     HL
e0a9 81       ; ADD     A,C
e0aa 4F       ; LD      C,A
e0ab 10F8     ; DJNZ    #E0A5
e0ad D70C     ; RST     #10 ; db #0c;    RCAL +oc = CALL #e0ad+#2+#0c4 = CALL #E0BB
e0af B9       ; CP      C
e0b0 20DC     ; JR      NZ,#E08E
e0b2 7A       ; LD      A,D
e0b3 15       ; DEC     D
e0b4 B7       ; OR      A
e0b5 20E2     ; JR      NZ,#E099
e0b7 1E00     ; LD      E,#00
e0b9 1814     ; JR      #E0CF
e0bb DF70     ; RST     #18; db #70; SCAL SRLIN     Scan serial input port.
e0bd D8       ; RET     C
              ;
e0be C5       ; PUSH    BC
e0bf D5       ; PUSH    DE
e0c0 E5       ; PUSH    HL
e0c1 DF61     ; RST     #18; db #61; SCAL  KBD       Scan Nascom keyboard.
e0c3 E1       ; POP     HL
e0c4 D1       ; POP     DE
e0c5 C1       ; POP     BC
e0c6 30F3     ; JR      NC,#E0BB
e0c8 FE1B     ; CP      #1B
e0ca 20EF     ; JR      NZ,#E0BB
e0cc 1E03     ; LD      E,#03
e0ce E1       ; POP     HL
e0cf 2A9F0C   ; LD      HL,(#0C9F)
e0d2 73       ; LD      (HL),E
e0d3 23       ; INC     HL
e0d4 3600     ; LD      (HL),#00
e0d6 DF5F     ; RST     #18 ; db #5F ; SCAL   MFLP        Alter the state of (turn on or off) the tape drive LED 
e0d8 C9       ; RET     
              ;
              
e0d9 80       ; Keyboard table
e0da 80       
e0db 80       
e0dc 80       
e0dd C0       
e0de 80       
e0df 80       
e0e0 B8       

	; Function KEYBOARD
	; return integer con tecla pulsada, 0 si ninguna
	
e0e1 11020C   ; LD      DE,#0C02    ; Keborad map
e0e4 21D9E0   ; LD      HL,#E0D9    ; Keyboard table
e0e7 0608     ; LD      B,#08
e0e9 1A       ; LD      A,(DE)
e0ea A6       ; AND     (HL)
e0eb 12       ; LD      (DE),A
e0ec 13       ; INC     DE
e0ed 23       ; INC     HL
e0ee 10F9     ; DJNZ    #E0E9
e0f0 DF61     ; RST     #18; db #61; SCAL  KBD  ;     Scan Nascom keyboard.
e0f2 210000   ; LD      HL,#0000     ; HL=return value=false
e0f5 D0       ; RET     NC
e0f6 6F       ; LD      L,A          ; HL=A=return key pressed
e0f7 C9       ; RET     
              ;
		RunTime initialization

e0f8 E1       ; POP     HL
e0f9 22960C   ; LD      (#0C96),HL
e0fc 5E       ; LD      E,(HL)
e0fd 23       ; INC     HL
e0fe 56       ; LD      D,(HL)
e0ff 23       ; INC     HL
e100 4E       ; LD      C,(HL)
e101 23       ; INC     HL
e102 46       ; LD      B,(HL)
e103 ED43940C ; LD      (#0C94),BC ; PMTP High RAM addr the executing program can read
e107 23       ; INC     HL
e108 7E       ; LD      A,(HL)
e109 329C0C   ; LD      (#0C9C),A
e10c 23       ; INC     HL
e10d 310010   ; LD      SP,#1000
e110 E5       ; PUSH    HL
e111 EB       ; EX      DE,HL
e112 22900C   ; LD      (#0C90),HL
e115 3600     ; LD      (HL),#00
e117 23       ; INC     HL
e118 22920C   ; LD      (#0C92),HL ; WSP work space stack pointer during program execution
e11b ED5F     ; LD      A,R
e11d 329B0C   ; LD      (#0C9B),A
e120 C9       ; RET     
              ;
e121 3E05     ; LD      A,#05
e123 DDE1     ; POP     IX
e125 1806     ; JR      #E12D
e127 3E10     ; LD      A,#10
e129 1802     ; JR      #E12D
e12b 3E20     ; LD      A,#20

; Print Runtime error

e12d F5       ; PUSH    AF		RegA=RunTime Error Number
e12e EF       ; RST     #28   ; PRS 
e12f 18       ; db #18; <cancel> 
e130 52756E74 ; db "Runtime error "  
e124 696D6520 ;
e138 6572726F ;
e13C 7220     ;
e13e 00       ;         db #00
e13f F1       ; POP     AF		pop errn
e140 DF68     ; RST     #18 ; db #68; SCAL B2HEX      Output the value in the A register in ASCII
e142 EF       ; RST     #28    ; PRS
e143 20617420 ;         db " at $"
e147 24       ;         
e148 00       ;         db #00
e149 DDE5     ; PUSH    IX		ix = addr in generated code 
e14b E1       ; POP     HL
e14c ED5B960C ; LD      DE,(#0C96)
e150 1B       ; DEC     DE
e151 1B       ; DEC     DE
e152 1B       ; DEC     DE
e153 B7       ; OR      A
e154 ED52     ; SBC     HL,DE		resta el addr de origen del codigo generado
e156 22BE0C   ; LD      (#0CBE),HL
e159 DF66     ; RST     #18 ; db #66       ; SCAL  TBCD3 Output the hex value in the HL register in ASCII, followed by a space
e15b DF6A     ; RST     #18 ; db #6A  ;    SCAL  CRLF       Output a Carriage return/line feed
e15d 3A9C0C   ; LD      A,(#0C9C)	; indica si se exec desde NASSYS o desde BLS
e160 B7       ; OR      A
e161 CA82E1   ; JP      Z,#E182		; ir al menu ppal 
e164 DF5B     ; RST     #18 ;db #5B;  SCAL  MRET        end a program and return control to NAS-SYS
e166 00       ; NOP     
e167 00       ; NOP     
e168 00       ; NOP     
e169 00       ; NOP     
e16a 00       ; NOP     
e16b 00       ; NOP     
e16c 00       ; NOP     
e16d 00       ; NOP     
e16e 00       ; NOP     
e16f 00       ; NOP     
e170 00       ; NOP     
e171 00       ; NOP     
e172 00       ; NOP     
e173 00       ; NOP     
e174 00       ; NOP     
e175 00       ; NOP     
e176 00       ; NOP     
e177 00       ; NOP     
e178 00       ; NOP     
e179 00       ; NOP     
e17a 00       ; NOP     
e17b 00       ; NOP     
e17c 00       ; NOP     
e17d 00       ; NOP     
e17e 00       ; NOP     
e17f 00       ; NOP     
              ;
              ;
; MENU SYSTEM ;E180-E980
              ;
E180 D734     ; RST     #10 ; db #34;    RCAL +34 = CALL #e180+#2+#34 = CALL #E1B6 
              ;
; input comman;d 
              ;
E182 310010   ; LD      SP,#1000
E185 2182E1   ; LD      HL,#E182 ; push ret addr
E188 E5       ; PUSH    HL
E189 AF       ; XOR     A
E18a 32000C   ; LD      (#0C00),A   ; 0C00=PORT0     Copy of current state of output part 0.
E18d 210D40   ; LD      HL,#400D
E190 22BC0C   ; LD      (#0CBC),HL
E193 21C0E8   ; LD      HL,#E8C0
E196 227B0C   ; LD      (#0C7B),HL ; user input routin addr (used by UIN, set by NIM)
E199 21EBE8   ; LD      HL,#E8EB
E19c DF72     ; RST     #18; db #72 ;   SCAL #72 = SCAL NIM Set the address of the new input table to HL
              ;
E19e EF       ; RST     #28      ; PRS  ;print string
E19f 183E     ; db #18 cancel; db ">"
E1a1 00       ; db #0
              ;
E1a2 CD03D0   ; CALL    #D003     ; get main compiler program
E1a5 F7       ; RST     #30;      ROUT    Output the character in the A register.
              ;
E1a6 3AC00C   ; LD      A,(#0CC0)
E1a9 213CE2   ; LD      HL,#E23C  ; addr of command table
E1ac CDB3E2   ; CALL    #E2B3
E1af 3802     ; JR      C,#E1B3
E1b1 EB       ; EX      DE,HL
E1b2 E9       ; JP      (HL)
              ;
e1b3 DF6B     ; RST     #18  ; db #6B;  SCAL ERRM Output the "Error" message and CR
e1b5 C9       ; RET     
              ;
E1b6 EF       ; RST     #28;   PRS  ;print string
E1b7 0C       ; db #0c  ; cls
              ;
E1b8 424C5320 ; db "BLS Pascal Version 1.0"
E1bC 50617363 ;   
E1c0 616C2056 ;
E1c4 65727369 ;
E1c8 6F6E2031 ;
E1cc 2E30     ;
E1ce 0D       ; db #0d  ; <cr>
E1cf 436F7079 ; db "Copyright (C) 1981"
E1d3 72696768 ;   
E1d7 74202843 ;
E1db 29203139 ;
E1df 3831     ;
E1e1 0D       ;db #0d  ; <cr>
E1e2 506F6C79 ;db "Poly-Data microcenter"
E1e6 2D446174 ;   
E1ea 61206D69 ;
E1ee 63726F63 ;
E1f2 656E7465 ;
E1f6 72       ;
E1f7 0D       ; db #0d  ; <cr>
E1f8 00       ; db #0
              ;
E1f9 00       ; NOP
              ;
              ;
E1fa 210000   ; LD      HL,#0000
E1fd 228C0C   ; LD      (#0C8C),HL
E200 228E0C   ; LD      (#0C8E),HL
E203 2A0C0C   ; LD      HL,(#0C0C)  ; 0C0C-0c0d ARG1      Frst value entered.
E206 3A0B0C   ; LD      A,(#0C0B)   ; 0C0B ARGH      Number of values in input line.
E209 B7       ; OR      A
E20a 200D     ; JR      NZ,#E219	; se ha llamado el compilar con J nnnn desde NASSYS
					; esto hace que HL=nnnn y ($0c0b)=1. Se usa HL como top of ram	

E20c 210010   ; LD      HL,#1000 ; detect end of RAM!!! 
E20f 7E       ; LD      A,(HL)
E210 35       ; DEC     (HL)
E211 3D       ; DEC     A
E212 BE       ; CP      (HL)
E213 2004     ; JR      NZ,#E219
E215 34       ; INC     (HL)
E216 23       ; INC     HL
E217 18F6     ; JR      #E20F
E219 22800C   ; LD      (#0C80),HL	; 0c80-0c81 	MTOP	hight RAM the system can access
              ;
              ;
; ZAP command ;
              ;
E21c D717     ; RST     #10 ; db #17 ; RCAL #17 ; CALL E21C + 2 + 17 = CALL #E235; 
			E235 = clear object code
              ;
E21e 210010   ; LD      HL,#1000
E221 22820C   ; LD      (#0C82),HL	; 0c82-0c83	EOFP	end address sourcetext
E224 22860C   ; LD      (#0C86),HL
E227 22880C   ; LD      (#0C88),HL
E22a 210A08   ; LD      HL,#080A
E22d 228A0C   ; LD      (#0C8A),HL
E230 AF       ; XOR     A
E231 328C0C   ; LD      (#0C8C),A
E234 C9       ; RET     
              ;
		Clear object code
E235 210000   ; LD      HL,#0000  ;
E238 22840C   ; LD      (#0C84),HL  ; 0c84-0c85	PEND	end address object code
E23b C9       ; RET     
              ;
; begin of com;mand table
E23c 0D       ; 		db #0d   
E23d 7AE7     ;          db #E745 ; addr for <CR> command
E23f 45       ;          db "E"
E240 37E4     ;          db #E437 ; addr for EDIT command (ok)
E242 52       ;          db "R"    
E243 F4E3     ;          db #E3F4 ; addr for RUN command
E245 43       ;          db "C"
E246 60EA     ;          db #EA60 ; addr for COMPILE command
E248 54       ;          db "T"
E249 2FE4     ;          db #E42F ; addr for TAPE command
E24B 46       ;          db "F"
E24c 21E4     ;          db #E421 ; addr for FIND command
E24e 4D       ;          db "M"
E24f 61E2     ;          db #E261 ; addr for MEMORY command (ok)
E251 53       ;          db "S"
E252 D7E2     ;          db #E2D7 ; addr for SAVE command (ok)
E254 4C       ;          db "L"
E255 3CE3     ;          db #E33C ; addr for LOAD command (ok)
E257 56       ;          db "V"
E258 43E3     ;          db #E343 ; addr for VERIFY command (ok)
E25a 5A       ;          db "Z"
E25b 1CE2     ;          db #E21C ; addr for ZAP command (ok)
E25d 51       ;          db "Q"
E25e AFE2     ;          db #E2AF ; addr for QUIT command (ok)
E260 FF       ;          db #FF   ; end of command table
              ;
; MEMORY comma;nd
              ;
E261 EF       ;          RST     #28      ; PRS  ;print string
E262 54657874 ;          db "Text: "
E266 3A20     ;  
E268 00       ;          db #00
              ;
E269 210010   ; LD      HL,#1000
E26c ED5B820C ; LD      DE,(#0C82)	; 0c82-0c83	EOFP	end address sourcetext
E270 D713     ; RST     #10 ; db #13 ; RCAL E270+2+13 = E285
E272 ED5B840C ; LD      DE,(#0C84)	; 0c84-0c85	PEND	end address object code
E276 7A       ; LD      A,D
E277 B3       ; OR      E
E278 C8       ; RET     Z
              ;
e279 EF       ; RST     #28    ; PRS  ;print string
e27A 436F6465 ; db "Code: "
e27E 3A20     ;  
e280 00       ;          db #00
e281 2A820C   ; LD      HL,(#0C82)	0c82-0c83	EOFP	end address sourcetext
e284 23       ; INC     HL
              ;
; print $HL $D;E <DE-HL>
              ;
E285 EF       ; RST     #28        ; PRS  ;print string
E286 24       ; db "$"
E287 00       ; db #00  
E288 DF66     ; RST     #18 ; db #66       ; SCAL  TBCD3 Output the hex value in the HL register in ASCII, followed by a space
E28a EB       ; EX      DE,HL
E28b EF       ; RST     #28        ; PRS  ;print string
E28c 24       ; db "$"
E28d 00       ; db #00
E28e DF66     ; RST     #18 ; db #66       ; SCAL  TBCD3 Output the hex value in the HL register in ASCII, followed by a space
E290 B7       ; OR      A
E291 ED52     ; SBC     HL,DE
E293 CD99E2   ; CALL    #E299
E296 DF6A     ; RST     #18 ; db #6A  ;    SCAL  CRLF       Output a Carriage return/line feed
E298 C9       ; RET     
              ;
: print < deci;mal value of HL >
              ;
E299 EF       ; RST     #28      ; PRS  ;print string
E29a 3C       ; db "<"
E29b 00       ; db #00  
E29c DD21930C ; LD      IX,#0C93
E2a0 CD10DA   ; CALL    #DA10
E2a3 3E05     ; LD      A,#05
E2a5 01930C   ; LD      BC,#0C93
E2a8 CD7BDB   ; CALL    #DB7B
E2ab EF       ; RST     #28      ; PRS  ;print string
E2ac 3E       ; db ">"
E2ad 00       ; db #00
E2ae C9       ; RET     
              ;
; QUIT command;
              ;
E2af DF78     ; RST     #18 ;db #78;  SCAL  NNIM        let the input table back to normal
E2b1 DF5B     ; RST     #18 ;db #5B;  SCAL  MRET        end a program and return control to NAS-SYS
              ;
E2b3 46       ; LD      B,(HL)
E2b4 04       ; INC     B
E2b5 37       ; SCF     
E2b6 C8       ; RET     Z
E2b7 05       ; DEC     B
E2b8 23       ; INC     HL
E2b9 5E       ; LD      E,(HL)
E2ba 23       ; INC     HL
E2bb 56       ; LD      D,(HL)
E2bc 23       ; INC     HL
E2bd B8       ; CP      B
E2be 20F3     ; JR      NZ,#E2B3
E2c0 C9       ; RET     
              ;
; Set HL to po;int to FILENAME start
              ;
E2c1 21C00C   ; LD      HL,#0CC0
E2c4 23       ; INC     HL
E2c5 7E       ; LD      A,(HL)
E2c6 FE0D     ; CP      #0D
E2c8 C8       ; RET     Z
E2c9 FE20     ; CP      #20
E2cb 20F7     ; JR      NZ,#E2C4
E2cd 23       ; INC     HL
E2ce 7E       ; LD      A,(HL)
E2cf FE0D     ; CP      #0D
E2d1 C8       ; RET     Z
E2d2 FE20     ; CP      #20
E2d4 28F7     ; JR      Z,#E2CD
E2d6 C9       ; RET     
              ;
; SAVE command;
              ;
E2d7 D7E8     ; RST     #10 ; db #E8 ;  RCAL E2D7 + 2 + FFE8 = E2C1
              ;
E2d9 DF5F     ; RST     #18 ; db #5F ; SCAL   MFLP        Alter the state of (turn on or off) the tape drive LED 
E2db DF5D     ; RST     #18 ; db #5D ; SCAL   TBEL        Wait for about 1 second
E2dd AF       ; XOR     A
E2de 47       ; LD      B,A
E2df DF6F     ; RST     #18 ; db #6F ; SCAL   SRLX      Output to serial output port
E2e1 10FC     ; DJNZ    #E2DF ; Write to tape 256 null ($00) bytes
E2e3 3EAA     ; LD      A,#AA
E2e5 0604     ; LD      B,#04
E2e7 DF6F     ; RST     #18 ; db #6F ; SCAL   SRLX      Output to serial output port
E2e9 10FC     ; DJNZ    #E2E7 ; Write to tape 4 ($AA) bytes
E2eb 7E       ; LD      A,(HL)
E2ec 23       ; INC     HL
E2ed DF6F     ; RST     #18 ; db #6F ; SCAL   SRLX      Output to serial output port
E2ef FE0D     ; CP      #0D
E2f1 20F8     ; JR      NZ,#E2EB ; Write to tape filename (but no the trailing $0D)
E2f3 210010   ; LD      HL,#1000 ; Start of sourcetext
E2f6 ED5B820C ; LD      DE,(#0C82) ; end of sourcetext
E2fa EB       ; EX      DE,HL
E2fb 37       ; SCF     
E2fc ED52     ; SBC     HL,DE
E2fe DA82E1   ; JP      C,#E182
E301 EB       ; EX      DE,HL
E302 AF       ; XOR     A
E303 FF       ; RST     #38    ; RDEL    Wait for a period of time dependent on the value in the A register
E304 0605     ; LD      B,#05
E306 DF6F     ; RST     #18 ; db #6F ; SCAL   SRLX      Output to serial output port
E308 3EFF     ; LD      A,#FF
E30a 10FA     ; DJNZ    #E306 ; Write to tape 5 ($FF) bytes
E30c 1C       ; INC     E
E30d AF       ; XOR     A
E30e BA       ; CP      D
E30f 2801     ; JR      Z,#E312
E311 58       ; LD      E,B
E312 E5       ; PUSH    HL
E313 010010   ; LD      BC,#1000
E316 B7       ; OR      A
E317 ED42     ; SBC     HL,BC
E319 7D       ; LD      A,L
E31a DF6F     ; RST     #18 ; db #6F ; SCAL   SRLX      Output to serial output port
E31c 7C       ; LD      A,H
E31d DF6F     ; RST     #18 ; db #6F ; SCAL   SRLX      Output to serial output port
E31f 7B       ; LD      A,E
E320 DF6F     ; RST     #18 ; db #6F ; SCAL   SRLX      Output to serial output port
E322 7A       ; LD      A,D
E323 DF6F     ; RST     #18 ; db #6F ; SCAL   SRLX      Output to serial output port
E325 0E00     ; LD      C,#00
E327 DF6C     ; RST     #18 ; db #6C;  SCAL TX1        Output HL in ASCII, then a space, then DE, then another space
E329 79       ; LD      A,C
E32a DF6F     ; RST     #18 ; db #6F ; SCAL   SRLX      Output to serial output port
E32c E1       ; POP     HL
E32d 43       ; LD      B,E
E32e DF6D     ; RST     #18 ; db #6D ; SCAL SOUT        Send a string of characters directly to the serial output port
						; write to tape B bytes pointed by (HL)
E330 060B     ; LD      B,#0B
E332 79       ; LD      A,C
E333 DF6F     ; RST     #18 ; db #6F ; SCAL   SRLX      Output to serial output port
E335 AF       ; XOR     A
E336 10FB     ; DJNZ    #E333
E338 DF6A     ; RST     #18 ; db #6A  ;    SCAL  CRLF       Output a Carriage return/line feed
E33a 18BA     ; JR      #E2F6
              ;
; LOAD command;
              ;
E33c CD35E2   ; CALL    #E235  ; clear source file ???
E33f 3E52     ; LD      A,#52  ; "R"
E341 1802     ; JR      #E345
              ;
; VERIFY comma;nd
              ;
E343 3E56     ; LD      A,#56  ; "V"
E345 322B0C   ; LD      (#0C2B),A	; 0C2B       ARGX      Last command letter entered.
E348 21E1E3   ; LD      HL,#E3E1
E34b 227B0C   ; LD      (#0C7B),HL  ; user input routin addr (used by UIN, set by NIM)
E34e DF5F     ; RST     #18   ; db #5F ;  SCAL   MFLP        Alter the state of (turn on or off) the tape drive LED
E350 CDC1E2   ; CALL    #E2C1  ; set HL to point to start of filename
E353 0604     ; LD      B,#04   
E355 CF       ; RST     #08       RIN     Obtain an input character in the A register.
E356 FEAA     ; CP      #AA
E358 20F9     ; JR      NZ,#E353
E35a 10F9     ; DJNZ    #E355	; Read AA AA AA AA from tape as File Header
E35c EF       ; RST     #28      ;   PRS  
E35d 46696C65 ;  db "File "
E361 20       ;    
E362 00       ;    db #00
E363 010000   ; LD      BC,#0000  ; Read and print filename (ended with 0D)
E366 7E       ; LD      A,(HL)
E367 FE0D     ; CP      #0D
E369 2001     ; JR      NZ,#E36C
E36b 04       ; INC     B
E36c CF       ; RST     #08        RIN     Obtain an input character in the A register (the filename found in tape)
E36d BE       ; CP      (HL)
E36e 23       ; INC     HL
E36f 2805     ; JR      Z,#E376
E371 04       ; INC     B
E372 05       ; DEC     B
E373 2001     ; JR      NZ,#E376
E375 0C       ; INC     C
E376 FE0D     ; CP      #0D
E378 2803     ; JR      Z,#E37D
E37a F7       ; RST     #30        ROUT    Output the character in the A register.(print found filename)
E37b 18EF     ; JR      #E36C
E37d EF       ; RST     #28        PRS   
E37e 20666F75 ;           db " found"
E382 6E64     ;   
E384 0D       ;           db #0d ; <CR>
E385 00       ;           db #00
E386 0C       ; INC     C
E387 0D       ; DEC     C
E388 20C6     ; JR      NZ,#E350  ; file found nos same as entered -> search again
E38a 0604     ; LD      B,#04
E38c CF       ; RST     #08        RIN     Obtain an input character in the A register
E38d 3C       ; INC     A
E38e 20FA     ; JR      NZ,#E38A  Read until FF FF FF FF
E390 10FA     ; DJNZ    #E38C
E392 CF       ; RST     #08        RIN     Obtain an input character in the A register
E393 6F       ; LD      L,A
E394 CF       ; RST     #08        RIN     Obtain an input character in the A register
E395 67       ; LD      H,A
E396 CF       ; RST     #08       RIN     Obtain an input character in the A register
E397 5F       ; LD      E,A
E398 CF       ; RST     #08       RIN     Obtain an input character in the A register
E399 57       ; LD      D,A		Read L H  E D  (HL=start, DE=remaining)
E39a 0E00     ; LD      C,#00
E39c DF6C     ; RST     #18 ; db #6C;  SCAL TX1        Output HL in ASCII, then a space, then DE, then another space
					Print 0000 2B00 (loading 3dlab)
E39e CF       ; RST     #08         RIN     Obtain an input character in the A register = block id
E39f B9       ; CP      C
E3a0 2023     ; JR      NZ,#E3C5	check blockid = hi(remain len)
E3a2 ED4B820C ; LD      BC,(#0C82)     OC82=EOFP	end address sourcetext
E3a6 09       ; ADD     HL,BC		load just after current sourcetext. HL=store addr of loaded program
E3a7 43       ; LD      B,E		b=parte low de remaining bytes
E3a8 0E00     ; LD      C,#00
E3aa 3A2B0C   ; LD      A,(#0C2B)  ; - tiene R (para load) o V (para verify)
E3ad FE52     ; CP      #52   ; "R"
E3af 2803     ; JR      Z,#E3B4
E3b1 CF       ; RST     #08           RIN     Obtain an input character in the A register
E3b2 1802     ; JR      #E3B6
E3b4 CF       ; RST     #08             RIN     Obtain an input character in the A register load bytexx
                                        read data byte!
E3b5 77       ; LD      (HL),A		Store en HL byte leido
E3b6 E5       ; PUSH    HL
E3b7 2A290C   ; LD      HL,(#0C29)    ; 0C29-0c2a CURSOR    Position of the cursor.
E3ba 77       ; LD      (HL),A          pone byte leido en pantalla
E3bb E1       ; POP     HL
E3bc 81       ; ADD     A,C
E3bd 4F       ; LD      C,A
E3be 23       ; INC     HL
E3bf 10E9     ; DJNZ    #E3AA           b=parte low de remaining bytes
E3c1 CF       ; RST     #08             RIN     Obtain an input character in the A register
					lee checksum byte
E3c2 B9       ; CP      C               	
E3c3 2807     ; JR      Z,#E3CC		check si checksum error
E3c5 EF       ; RST     #28             PRS         
E3c6 3F20     ; db "? "
E3c8 00       ; db #0
E3c9 18BF     ; JR      #E38A
E3cb C9       ; RET     
              ;
e3cc EF       ; RST     #28   ;         PRS
e3cd 2E20     ; 	db ". "		Fin del bloque, print"."
e3cf 00       ; 	db #00
e3d0 AF       ; XOR     A
e3d1 BA       ; CP      D		compruebaparte hi de remaining
e3d2 20B6     ; JR      NZ,#E38A
					ya se ha leido todo!!
e3d4 3A2B0C   ; LD      A,(#0C2B)  ; 0C2B       ARGX      Last command letter entered.
e3d7 FE52     ; CP      #52  "R" - load, "V" - verify
e3d9 2003     ; JR      NZ,#E3DE
e3db 22820C   ; LD      (#0C82),HL	indica nuevo fin del sourcetext  si es load
e3de C382E1   ; JP      #E182		volver al menu ppal

e3e1 DF70     ; RST     #18 ; defb #70 ; SCAL SRLIN    I/O      - Read Scan serial input port (LOAD?)
e3e3 D8       ; RET     C
              ;
e3e4 C5       ; PUSH    BC
e3e5 D5       ; PUSH    DE
e3e6 E5       ; PUSH    HL
e3e7 DF61     ; RST     #18 ; defb #61 ; SCAL KBD      READ KBD - Scan Nascom keyboard.
e3e9 E1       ; POP     HL
e3ea D1       ; POP     DE
e3eb C1       ; POP     BC
e3ec 30F3     ; JR      NC,#E3E1
e3ee FE1B     ; CP      #1B		; Se ha pulsado ESC?
e3f0 20EF     ; JR      NZ,#E3E1
e3f2 18EA     ; JR      #E3DE
e3f4 2A840C   ; LD      HL,(#0C84)	; 0c84-0c85	PEND	end address object code
e3f7 7C       ; LD      A,H
e3f8 B5       ; OR      L
e3f9 CC60EA   ; CALL    Z,#EA60  ;     compile
e3fc EF       ; RST     #28   ;         PRS 
e3fd 52       ; 	db "Running"
e3fe 75       ; 
e3ff 6E       ; 
e400 6E       ; 
e401 69       ; 
e402 6E       ; 
e403 67       ; 
e404 0D       ; 	db #0d <CR>
e405 00       ; 	db #00
e406 2A820C   ; LD      HL,(#0C82)	0c82-0c83	EOFP	end address sourcetext
e409 23       ; INC     HL
e40a E9       ; JP      (HL)
              ;

; Get Num parameter 

E40b CDC1E2   ; CALL    #E2C1  ; set HL to point to start of parameter
E40e FE0D     ; CP      #0D
E410 C8       ; RET     Z
E411 EB       ; EX      DE,HL
E412 DF64     ; RST     #18; db #64;  NUM       Examine an input line and convert a hexadecimal value ascii to binary
E414 2A210C   ; LD      HL,(#0C21)  ; 0C21-0c22   NUMV      Value returned by routine NUM.
E417 EB       ; EX      DE,HL
E418 D0       ; RET     NC
E419 7E       ; LD      A,(HL)
E41a FE0D     ; CP      #0D
E41c C8       ; RET     Z
e41d E1       ; POP     HL	; pop caller addr to abort caller and print error
e41e C3B3E1   ; JP      #E1B3	; print error

; FIND command

e421 ED5BBE0C ; LD      DE,(#0CBE)
e425 CD0BE4   ; CALL    #E40B  ; Get Num parameter 
e428 ED53BE0C ; LD      (#0CBE),DE
E42c C360EA   ; JP      #EA60   ; compile program
              ;
; TAPE command;
              ;
E42f 110010   ; LD      DE,#1000 ; default addr of code generation
E432 CD0BE4   ; CALL    #E40B  ; Get Num parameter 
E435 18F5     ; JR      #E42C

; EDIT

e437 CD5CE8   ; CALL    #E85C    --- clear screen, init editor, show sourcetext screen
e43a DD360300 ; LD      (IX+#03),#00
e43e DD7E02   ; LD      A,(IX+#02)
e441 32270C   ; LD      (#0C27),A  ; 0C27  $KOPT     Keyboard option. See K command.
e444 2144E4   ; LD      HL,#E444
e447 E5       ; PUSH    HL
e448 216EE8   ; LD      HL,#E86E
e44b E5       ; PUSH    HL
e44c 2A290C   ; LD      HL,(#0C29)    ; 0C29-0c2a CURSOR    Position of the cursor.
e44f 228A0C   ; LD      (#0C8A),HL
e452 DF7B     ; RST     #18; db #7B ;      SCAL BLINK - read char shiw cursor
e454 2125E9   ; LD      HL,#E925
e457 CDB3E2   ; CALL    #E2B3
e45a 3804     ; JR      C,#E460
e45c D5       ; PUSH    DE
e45d C3C4E7   ; JP      #E7C4
e460 F5       ; PUSH    AF       ---push typed char
e461 2A860C   ; LD      HL,(#0C86) -- 0c86 = start of source text 
e464 0650     ; LD      B,#50 ;max line len = 80chars
              ; locate end of line
e466 CDE5E7   ; CALL    #E7E5   -- return Z=1 if HL reaches end of sourcetext
e469 2808     ; JR      Z,#E473
e46b 7E       ; LD      A,(HL) --- load source text char pointed by HL
e46c FE0D     ; CP      #0D
e46e 2803     ; JR      Z,#E473
e470 23       ; INC     HL
e471 10F3     ; DJNZ    #E466
              ; end of line found (pointed by HL.If B=0 -> no CR
e473 04       ; INC     B
e474 05       ; DEC     B
e475 280F     ; JR      Z,#E486
e477 E5       ; PUSH    HL
e478 C5       ; PUSH    BC
e479 48       ; LD      C,B
e47a 0600     ; LD      B,#00
e47c CDA0E7   ; CALL    #E7A0   
e47f C1       ; POP     BC
e480 E1       ; POP     HL
e481 3620     ; LD      (HL),#20
e483 23       ; INC     HL
e484 10FB     ; DJNZ    #E481

e486 F1       ; POP     AF  -- get key pressed
e487 FE20     ; CP      #20
e489 3009     ; JR      NC,#E494 --jump if ascii
              ; ctrl-key pressed -> editor command 
e48b 2156E9   ; LD      HL,#E956
e48e CDB3E2   ; CALL    #E2B3
e491 D8       ; RET     C
              ;
e492 D5       ; PUSH    DE
e493 C9       ; RET     
              ; add key pressed to line (in reg A)
e494 2A290C   ; LD      HL,(#0C29)  -- 0c29 =cursor pos in video mem
e497 77       ; LD      (HL),A --put char in screen
e498 47       ; LD      B,A
e499 CD52E8   ; CALL    #E852 --- get pos in source text in HL
e49c 70       ; LD      (HL),B  --- store char in sourcetext
e49d CD37E8   ; CALL    #E837
e4a0 FE2F     ; CP      #2F
e4a2 201D     ; JR      NZ,#E4C1
e4a4 DD7E00   ; LD      A,(IX+#00)
e4a7 FE20     ; CP      #20
e4a9 2011     ; JR      NZ,#E4BC
e4ab CD04E8   ; CALL    #E804
e4ae C8       ; RET     Z
              ;
e4af DD360000 ; LD      (IX+#00),#00
e4b3 EF       ; RST     #28	; 	PRS
e4b4 17       ; 	db #17 cursor home = move to beginning of line     
e4b5 00       ; 	db #00
e4b6 DD3504   ; DEC     (IX+#04)
e4b9 C320E6   ; JP      #E620
e4bc DD3400   ; INC     (IX+#00)
e4bf 1826     ; JR      #E4E7
e4c1 EF       ; RST     #28	; 	PRS
e4c2 12       ;  	db #12 cursor right
e4c3 00       ;  	db #00
e4c4 C9       ; RET     
              ;
e4c5 CD37E8   ; CALL    #E837
e4c8 2020     ; JR      NZ,#E4EA
e4ca DD7E00   ; LD      A,(IX+#00)
e4cd B7       ; OR      A
e4ce 2014     ; JR      NZ,#E4E4
e4d0 CD11E8   ; CALL    #E811
e4d3 C8       ; RET     Z
              ;
e4d4 CD4BE8   ; CALL    #E84B
e4d7 22290C   ; LD      (#0C29),HL    ; 0C29-0c2a CURSOR    Position of the cursor.
e4da DD360020 ; LD      (IX+#00),#20
e4de DD3504   ; DEC     (IX+#04)
e4e1 C328E6   ; JP      #E628
e4e4 DD3500   ; DEC     (IX+#00)
e4e7 C3DFE5   ; JP      #E5DF
e4ea EF       ; RST     #28      ; PRS  ;print string
e4eb 11       ; 	db 	#11 <Move cursor left>
e4ec 00	      ; 	db 	#00
e4ed C9         RET

e4ee EF       ; RST     #28	; PRT
e4ef 16       ;		db 	#16 <Move rest of line to the right>
e4f0 00       ; 	db 	#00
e4f1 CD3FE8   ; CALL    #E83F
e4f4 2A860C   ; LD      HL,(#0C86)
e4f7 014E00   ; LD      BC,#004E
e4fa 09       ; ADD     HL,BC
e4fb 54       ; LD      D,H
e4fc 5D       ; LD      E,L
e4fd 13       ; INC     DE
e4fe 2F       ; CPL     
e4ff C650     ; ADD     A,#50
e501 2805     ; JR      Z,#E508
e503 4F       ; LD      C,A
e504 0600     ; LD      B,#00
e506 EDB8     ; LDDR    
e508 3E20     ; LD      A,#20
e50a 12       ; LD      (DE),A
e50b C9       ; RET     
              ;
e50c EF       ; RST     #28	; 	PRS
e50d 15       ; 	db #15	Delete character at cursor, move rest of line to the left
e50e 00       ; 	db #00
e50f CD52E8   ; CALL    #E852
e512 54       ; LD      D,H
e513 5D       ; LD      E,L
e514 23       ; INC     HL
e515 2F       ; CPL     
e516 C650     ; ADD     A,#50
e518 2805     ; JR      Z,#E51F
e51a 4F       ; LD      C,A
e51b 0600     ; LD      B,#00
e51d EDB0     ; LDIR    
e51f 3E20     ; LD      A,#20
e521 12       ; LD      (DE),A
e522 DD7E00   ; LD      A,(IX+#00)
e525 C62F     ; ADD     A,#2F
e527 CD54E8   ; CALL    #E854
e52a 56       ; LD      D,(HL)
e52b CD4BE8   ; CALL    #E84B
e52e 72       ; LD      (HL),D
e52f C9       ; RET     
              ;
e530 CDC5E4   ; CALL    #E4C5
e533 CD6EE8   ; CALL    #E86E
e536 2A290C   ; LD      HL,(#0C29)    ; 0C29-0c2a CURSOR    Position of the cursor.
e539 3620     ; LD      (HL),#20
e53b CD52E8   ; CALL    #E852
e53e 3620     ; LD      (HL),#20
e540 C9       ; RET     
              ;
e541 EF       ; RST     #28	; 	PRS
e542 17       ; 	db #17	Move cursor to start of line
e543 00       ; 	db #00     
e544 DD7E00   ; LD      A,(IX+#00)
e547 B7       ; OR      A
e548 C8       ; RET     Z
              ;
e549 DD360000 ; LD      (IX+#00),#00
e54d 1898     ; JR      #E4E7
e54f D7       ; RST     #10		RCAL
e550 F0       ; RET     P
              ;
e551 2A860C   ; LD      HL,(#0C86)
e554 014F00   ; LD      BC,#004F
e557 09       ; ADD     HL,BC
e558 41       ; LD      B,C
e559 7E       ; LD      A,(HL)
e55a FE20     ; CP      #20
e55c 2008     ; JR      NZ,#E566
e55e 2B       ; DEC     HL
e55f 7E       ; LD      A,(HL)
e560 FE20     ; CP      #20
e562 2002     ; JR      NZ,#E566
e564 10F8     ; DJNZ    #E55E
e566 04       ; INC     B
e567 05       ; DEC     B
e568 C8       ; RET     Z
              ;
e569 C5       ; PUSH    BC
e56a CD9DE4   ; CALL    #E49D
e56d C1       ; POP     BC
e56e 18F7     ; JR      #E567
e570 2A860C   ; LD      HL,(#0C86)
e573 CD8AE5   ; CALL    #E58A
e576 C8       ; RET     Z
              ;
e577 CF       ; RST     #08	; RIN     Obtain an input character in the A register
e578 F5       ; PUSH    AF
e579 D7       ; RST     #10     ; RCAL
e57a C6CD     ; ADD     A,#CD
e57c EEE4     ; XOR     #E4
e57e F1       ; POP     AF
e57f FE45     ; CP      #45
e581 3E15     ; LD      A,#15
e583 2802     ; JR      Z,#E587
e585 3E06     ; LD      A,#06   ; 
e587 C394E4   ; JP      #E494
e58a 7E       ; LD      A,(HL)
e58b FE06     ; CP      #06
e58d C8       ; RET     Z
              ;
e58e FE15     ; CP      #15
e590 C9       ; RET     
              ;
e591 CF       ; RST     #08	; RIN     Obtain an input character in the A register
e592 21270C   ; LD      HL,#0C27   ; 0C27  $KOPT     Keyboard option. See K command.
e595 CBCE     ; SET     1,(HL)
e597 FE41     ; CP      #41
e599 C8       ; RET     Z
              ;
e59a CB8E     ; RES     1,(HL)
e59c C9       ; RET     
              ;
e59d CF       ; RST     #08	; RIN     Obtain an input character in the A register
e59e E67F     ; AND     #7F
e5a0 D640     ; SUB     #40
e5a2 D8       ; RET     C
              ;
e5a3 DD7701   ; LD      (IX+#01),A
e5a6 C9       ; RET     
              ;
e5a7 DD7E01   ; LD      A,(IX+#01)
e5aa B7       ; OR      A
e5ab 2816     ; JR      Z,#E5C3
e5ad 4F       ; LD      C,A
e5ae CD3FE8   ; CALL    #E83F
e5b1 FE4F     ; CP      #4F
e5b3 C8       ; RET     Z
              ;
e5b4 3C       ; INC     A
e5b5 47       ; LD      B,A
e5b6 C5       ; PUSH    BC
e5b7 CD9DE4   ; CALL    #E49D
e5ba C1       ; POP     BC
e5bb 78       ; LD      A,B
e5bc 91       ; SUB     C
e5bd C8       ; RET     Z
              ;
e5be 30FC     ; JR      NC,#E5BC
e5c0 78       ; LD      A,B
e5c1 18EE     ; JR      #E5B1
e5c3 CD41E5   ; CALL    #E541
e5c6 CD11E8   ; CALL    #E811
e5c9 C8       ; RET     Z
              ;
e5ca 7E       ; LD      A,(HL)
e5cb FE20     ; CP      #20
e5cd C0       ; RET     NZ
              ;
e5ce 23       ; INC     HL
e5cf E5       ; PUSH    HL
e5d0 CD9DE4   ; CALL    #E49D
e5d3 E1       ; POP     HL
e5d4 18F4     ; JR      #E5CA
e5d6 210010   ; LD      HL,#1000
e5d9 CD24E2   ; CALL    #E224
e5dc 22290C   ; LD      (#0C29),HL    ; 0C29-0c2a CURSOR    Position of the cursor.
e5df DD3504   ; DEC     (IX+#04)
e5e2 C9       ; RET     
              ;
e5e3 2A820C   ; LD      HL,(#0C82)	0c82-0c83	EOFP	end address sourcetext
e5e6 D7       ; RST     #10		RCAL
e5e7 F1       ; POP     AF
e5e8 D7       ; RST     #10		RCAL
e5e9 09       ; ADD     HL,BC
e5ea 060E     ; LD      B,#0E
e5ec C5       ; PUSH    BC
e5ed D7       ; RST     #10		RCAL
e5ee 31C110   ; LD      SP,#10C1
e5f1 FAC906   ; JP      M,#06C9
e5f4 0ED7     ; LD      C,#D7
e5f6 3110FC   ; LD      SP,#FC10
e5f9 C9       ; RET     
              ;
e5fa CD41E5   ; CALL    #E541
e5fd D7       ; RST     #10		RCAL
e5fe E0       ; RET     PO
              ;
e5ff 2A860C   ; LD      HL,(#0C86)
e602 CDF6E7   ; CALL    #E7F6
e605 CD49E6   ; CALL    #E649
e608 23       ; INC     HL
e609 22860C   ; LD      (#0C86),HL
e60c 118A0B   ; LD      DE,#0B8A
e60f CD28E8   ; CALL    #E828
e612 2804     ; JR      Z,#E618
e614 EF       ; RST     #28	;	PRS
e615 14       ; 	db #14	Move cursor down
e616 00       ; 	db #00
e617 C9       ; RET     
              ;
e618 CD07E8   ; CALL    #E807
e61b 22880C   ; LD      (#0C88),HL
e61e 18BF     ; JR      #E5DF
e620 CD04E8   ; CALL    #E804
e623 C8       ; RET     Z
              ;
e624 18E3     ; JR      #E609
e626 D7       ; RST     #10		RCAL
e627 2C       ; INC     L
e628 CD11E8   ; CALL    #E811
e62b C8       ; RET     Z
              ;
e62c 22860C   ; LD      (#0C86),HL
e62f 110A08   ; LD      DE,#080A
e632 CD28E8   ; CALL    #E828
e635 2804     ; JR      Z,#E63B
e637 EF       ; RST     #28	; 	PRS
e638 13       ; 	db #13	Move cursor left
e639 00       ; 	db #00
e63a C9       ; RET     
              ;
e63b CD14E8   ; CALL    #E814
e63e 18DB     ; JR      #E61B
e640 CD41E5   ; CALL    #E541
e643 DD3504   ; DEC     (IX+#04)
e646 2A860C   ; LD      HL,(#0C86)
e649 E5       ; PUSH    HL
e64a 010100   ; LD      BC,#0001
e64d CDA0E7   ; CALL    #E7A0
e650 E1       ; POP     HL
e651 360D     ; LD      (HL),#0D
e653 C9       ; RET     
              ;
e654 CD41E5   ; CALL    #E541
e657 DD3504   ; DEC     (IX+#04)
e65a 2A860C   ; LD      HL,(#0C86)
e65d CD07E8   ; CALL    #E807
e660 C2BCE7   ; JP      NZ,#E7BC
e663 22820C   ; LD      (#0C82),HL	; 0c82-0c83	EOFP	end address sourcetext
e666 C9       ; RET     
              ;
e667 CDFAE5   ; CALL    #E5FA
e66a CD6EE8   ; CALL    #E86E
e66d EF       ; RST     #28	; 	PRS
e66e 09       ; 	db #09 <char -> de nascom: prompt del comando FIND>
e66f 00       ; 	db #00
e670 0E28     ; LD      C,#28
e672 CD05D0   ; CALL    #D005	; read line from keyboard (text to search for FIND command)
e675 DD7003   ; LD      (IX+#03),B
e678 CD26E6   ; CALL    #E626
e67b 2A860C   ; LD      HL,(#0C86)
e67e CDF6E7   ; CALL    #E7F6
e681 DD7E03   ; LD      A,(IX+#03)
e684 B7       ; OR      A
e685 C8       ; RET     Z
              ;
e686 4F       ; LD      C,A
e687 E5       ; PUSH    HL
e688 E1       ; POP     HL
e689 23       ; INC     HL
e68a CDE5E7   ; CALL    #E7E5
e68d D0       ; RET     NC
              ;
e68e 41       ; LD      B,C
e68f 11C00C   ; LD      DE,#0CC0
e692 E5       ; PUSH    HL
e693 1A       ; LD      A,(DE)
e694 BE       ; CP      (HL)
e695 20F1     ; JR      NZ,#E688
e697 13       ; INC     DE
e698 23       ; INC     HL
e699 10F8     ; DJNZ    #E693
e69b E1       ; POP     HL
e69c 06FF     ; LD      B,#FF
e69e 04       ; INC     B
e69f 2B       ; DEC     HL
e6a0 7E       ; LD      A,(HL)
e6a1 FE0D     ; CP      #0D
e6a3 20F9     ; JR      NZ,#E69E
e6a5 23       ; INC     HL
e6a6 CDD9E5   ; CALL    #E5D9
e6a9 04       ; INC     B
e6aa 05       ; DEC     B
e6ab C8       ; RET     Z
              ;
e6ac C5       ; PUSH    BC
e6ad CD9DE4   ; CALL    #E49D
e6b0 C1       ; POP     BC
e6b1 18F7     ; JR      #E6AA
e6b3 D7       ; RST     #10		RCAL
e6b4 32C8D5   ; LD      (#D5C8),A
e6b7 CDBCE7   ; CALL    #E7BC
e6ba E1       ; POP     HL
e6bb C3D9E5   ; JP      #E5D9
e6be D7       ; RST     #10		RCAL
e6bf 27       ; DAA     
e6c0 C8       ; RET     Z
              ;
e6c1 0B       ; DEC     BC
e6c2 E5       ; PUSH    HL
e6c3 2A860C   ; LD      HL,(#0C86)
e6c6 EB       ; EX      DE,HL
e6c7 CD32E8   ; CALL    #E832
e6ca E3       ; EX      (SP),HL
e6cb 3007     ; JR      NC,#E6D4
e6cd CD32E8   ; CALL    #E832
e6d0 3805     ; JR      C,#E6D7
e6d2 D1       ; POP     DE
e6d3 C9       ; RET     
              ;
e6d4 E3       ; EX      (SP),HL
e6d5 09       ; ADD     HL,BC
e6d6 E3       ; EX      (SP),HL
e6d7 C5       ; PUSH    BC
e6d8 D5       ; PUSH    DE
e6d9 EB       ; EX      DE,HL
e6da CDA0E7   ; CALL    #E7A0
e6dd D1       ; POP     DE
e6de C1       ; POP     BC
e6df E1       ; POP     HL
e6e0 23       ; INC     HL
e6e1 CDB6E7   ; CALL    #E7B6
e6e4 C3DFE5   ; JP      #E5DF
e6e7 210010   ; LD      HL,#1000
e6ea 3E06     ; LD      A,#06
e6ec D7       ; RST     #10		RCAL
e6ed 09       ; ADD     HL,BC
e6ee C8       ; RET     Z
              ;
e6ef 010000   ; LD      BC,#0000
e6f2 54       ; LD      D,H
e6f3 5D       ; LD      E,L
e6f4 1B       ; DEC     DE
e6f5 3E15     ; LD      A,#15
e6f7 CDE5E7   ; CALL    #E7E5
e6fa C8       ; RET     Z
              ;
e6fb BE       ; CP      (HL)
e6fc 23       ; INC     HL
e6fd 03       ; INC     BC
e6fe 20F7     ; JR      NZ,#E6F7
e700 B7       ; OR      A
e701 C9       ; RET     
              ;
e702 75       ; LD      (HL),L
e703 00       ; NOP     
e704 CDE7E6   ; CALL    #E6E7
e707 C8       ; RET     Z
              ;
e708 CF       ; RST     #08	; RIN     Obtain an input character in the A register
e709 21FFFF   ; LD      HL,#FFFF
e70c FE4C     ; CP      #4C
e70e 2001     ; JR      NZ,#E711
e710 23       ; INC     HL
e711 22910C   ; LD      (#0C91),HL
e714 2102E7   ; LD      HL,#E702
e717 DF71     ; RST     #18 ; defb #71 ; SCAL NOM      NOP      - Set the address of the new output table to HL
e719 13       ; INC     DE
e71a 2A910C   ; LD      HL,(#0C91)
e71d 23       ; INC     HL
e71e 7C       ; LD      A,H
e71f B5       ; OR      L
e720 280A     ; JR      Z,#E72C
e722 22910C   ; LD      (#0C91),HL
e725 D5       ; PUSH    DE
e726 CD99E2   ; CALL    #E299
e729 DF69     ; RST     #18 ; defb #69 ; SCAL SPACE    ASM PRT  - Output a space. The A register is set to a space
e72b D1       ; POP     DE
e72c 1A       ; LD      A,(DE)
e72d FE15     ; CP      #15
e72f 280B     ; JR      Z,#E73C
e731 13       ; INC     DE
e732 F7       ; RST     #30	ROUT    Output the character in the A register. 
e733 FE0D     ; CP      #0D
e735 20F5     ; JR      NZ,#E72C
e737 1A       ; LD      A,(DE)
e738 FE15     ; CP      #15
e73a 20DE     ; JR      NZ,#E71A
e73c DF77     ; RST     #18 ; defb #77 ; SCAL NNOM     NOP      - let the input table back to normal
e73e 2A8A0C   ; LD      HL,(#0C8A)
e741 C3DCE5   ; JP      #E5DC
e744 21270C   ; LD      HL,#0C27    ; 0C27  $KOPT     Keyboard option. See K command.
e747 7E       ; LD      A,(HL)
e748 3600     ; LD      (HL),#00
e74a DD7702   ; LD      (IX+#02),A
e74d 210010   ; LD      HL,#1000
e750 CDE5E7   ; CALL    #E7E5
e753 3025     ; JR      NC,#E77A
e755 CD8AE5   ; CALL    #E58A
e758 201D     ; JR      NZ,#E777
e75a 23       ; INC     HL
e75b E5       ; PUSH    HL
e75c 01FFFF   ; LD      BC,#FFFF
e75f CDA0E7   ; CALL    #E7A0
e762 D1       ; POP     DE
e763 2A880C   ; LD      HL,(#0C88)
e766 CD80E7   ; CALL    #E780
e769 22880C   ; LD      (#0C88),HL
e76c 2A860C   ; LD      HL,(#0C86)
e76f CD80E7   ; CALL    #E780
e772 22860C   ; LD      (#0C86),HL
e775 EB       ; EX      DE,HL
e776 2B       ; DEC     HL
e777 23       ; INC     HL
e778 18D6     ; JR      #E750
e77a EF       ; RST     #28	; 	PRS
e77b 0C       ; 	db #0c	<Clear Screen + Home>
e77c 00       ; 	db #00
e77d C382E1   ; JP      #E182
e780 CD32E8   ; CALL    #E832
e783 D8       ; RET     C
              ;
e784 2B       ; DEC     HL
e785 C9       ; RET     
              ;
e786 D5       ; PUSH    DE
e787 ED5B800C ; LD      DE,(#0C80)	; 0c80-0c81 	MTOP	hight RAM the system can access
e78b CD32E8   ; CALL    #E832
e78e D1       ; POP     DE
e78f D8       ; RET     C
              ;
e790 EF       ; RST     #28	; 	PRS
e791 0C       ; 	db #0c	<Clear Screen + Home>
e792 00       ; 	db #00
e793 EF       ; RST     #28	; 	PRS
e794 184F7665 		db #18 ???
e798 72666C6F 		db "Overflow"
e79c 77 
e79d 00       ; 	db #00 
e79e 18DD     ; JR      #E77D

e7a0 78       ; LD      A,B 
e7a1 B1       ; OR      C
e7a2 C8       ; RET     Z
              ;
e7a3 E5       ; PUSH    HL
e7a4 09       ; ADD     HL,BC
e7a5 E5       ; PUSH    HL
e7a6 2A820C   ; LD      HL,(#0C82)	; 0c82-0c83	EOFP	end address sourcetext
e7a9 09       ; ADD     HL,BC
e7aa CD86E7   ; CALL    #E786
e7ad 22820C   ; LD      (#0C82),HL	; 0c82-0c83	EOFP	end address sourcetext
e7b0 D1       ; POP     DE
e7b1 B7       ; OR      A
e7b2 ED52     ; SBC     HL,DE
e7b4 E3       ; EX      (SP),HL
e7b5 C1       ; POP     BC
e7b6 78       ; LD      A,B
e7b7 B1       ; OR      C
e7b8 C8       ; RET     Z
              ;
e7b9 DF49     ; RST     #18 ; defb #49 ; SCAL ICOPY - copy HL to DE, BC bytes
e7bb C9       ; RET     
              ;
e7bc 78       ; LD      A,B
e7bd 2F       ; CPL     
e7be 47       ; LD      B,A
e7bf 79       ; LD      A,C
e7c0 2F       ; CPL     
e7c1 4F       ; LD      C,A
e7c2 18DC     ; JR      #E7A0
e7c4 2A860C   ; LD      HL,(#0C86)
e7c7 CDF6E7   ; CALL    #E7F6
e7ca 78       ; LD      A,B
e7cb B1       ; OR      C
e7cc C8       ; RET     Z
              ;
e7cd E5       ; PUSH    HL
e7ce 010000   ; LD      BC,#0000
e7d1 2B       ; DEC     HL
e7d2 7E       ; LD      A,(HL)
e7d3 FE20     ; CP      #20
e7d5 2006     ; JR      NZ,#E7DD
e7d7 03       ; INC     BC
e7d8 CDF0E7   ; CALL    #E7F0
e7db 20F4     ; JR      NZ,#E7D1
e7dd E1       ; POP     HL
e7de 78       ; LD      A,B
e7df B1       ; OR      C
e7e0 C8       ; RET     Z
              ;
e7e1 0B       ; DEC     BC
e7e2 C3BCE7   ; JP      #E7BC

e7e5 D5       ; PUSH    DE         -- return Z=1 if HL reaches end of sourcetext
e7e6 ED5B820C ; LD      DE,(#0C82) -- DE=end of sourcetext
e7ea B7       ; OR      A
e7eb ED52     ; SBC     HL,DE
e7ed 19       ; ADD     HL,DE
e7ee D1       ; POP     DE
e7ef C9       ; RET     
              ;
e7f0 D5       ; PUSH    DE
e7f1 110010   ; LD      DE,#1000
e7f4 18F4     ; JR      #E7EA
e7f6 010000   ; LD      BC,#0000
e7f9 D7       ; RST     #10		RCAL
e7fa EAC87E   ; JP      PE,#7EC8
e7fd FE0D     ; CP      #0D
e7ff C8       ; RET     Z
              ;
e800 03       ; INC     BC
e801 23       ; INC     HL
e802 18F5     ; JR      #E7F9
e804 2A860C   ; LD      HL,(#0C86)
e807 E5       ; PUSH    HL
e808 D7       ; RST     #10		RCAL
e809 ECD7D9   ; CALL    PE,#D9D7
e80c 23       ; INC     HL
e80d D1       ; POP     DE
e80e C0       ; RET     NZ
              ;
e80f EB       ; EX      DE,HL
e810 C9       ; RET     
              ;
e811 2A860C   ; LD      HL,(#0C86)
e814 110010   ; LD      DE,#1000
e817 D7       ; RST     #10		RCAL
e818 19       ; ADD     HL,DE
e819 C8       ; RET     Z
              ;
e81a 2B       ; DEC     HL
e81b 3E0D     ; LD      A,#0D
e81d D7       ; RST     #10		RCAL
e81e 13       ; INC     DE
e81f 2805     ; JR      Z,#E826
e821 2B       ; DEC     HL
e822 BE       ; CP      (HL)
e823 20F8     ; JR      NZ,#E81D
e825 23       ; INC     HL
e826 B7       ; OR      A
e827 C9       ; RET     
              ;
e828 D5       ; PUSH    DE
e829 D7       ; RST     #10		RCAL
e82a 1A       ; LD      A,(DE)
e82b D1       ; POP     DE
e82c D7       ; RST     #10		RCAL
e82d 04       ; INC     B
e82e 2A880C   ; LD      HL,(#0C88)
e831 C9       ; RET     
              ;
e832 B7       ; OR      A
e833 ED52     ; SBC     HL,DE
e835 19       ; ADD     HL,DE
e836 C9       ; RET     
              ;
e837 3A290C   ; LD      A,(#0C29)   ; 0C29-0c2a CURSOR    Position of the cursor.
e83a E63F     ; AND     #3F
e83c D60A     ; SUB     #0A
e83e C9       ; RET     
              ;
e83f D7F6     ; RST     #10		RCAL
e841 DD8600   ; ADD A,(IX+00)
e844 C9       ; RET     
              ;
e845 2A290C   ; LD      HL,(#0C29)     ; 0C29-0c2a CURSOR    Position of the cursor.
e848 DF7C     ; RST     #18; db #7C  ; SCAL CPOS     SCR      - The HL register must be set to point to a position on screen
e84a C9       ; RET     
              ;
e84b D7       ; RST     #10		RCAL
e84c F8       ; RET     M
              ;
e84d 012F00   ; LD      BC,#002F
e850 09       ; ADD     HL,BC
e851 C9       ; RET     
              ;
e852 D7EB     ; RST     #10  ; RCAL #E83F
e854 5F       ; LD      E,A --- A=position into line
e855 1600     ; LD      D,#00
e857 2A860C   ; LD      HL,(#0C86) -- start of line in source text
e85a 19       ; ADD     HL,DE
e85b C9       ; RET     
              ;
              ; init editor scren
              ;
e85c EF       ; RST     #28	; 	PRS
e85d 0C       ; 	db #0c	<Clear screen + home>
e85e 00       ; 	db #00
e85f CD35E2   ; CALL    #E235
e862 2A8A0C   ; LD      HL,(#0C8A)
e865 22290C   ; LD      (#0C29),HL ; 0c29 = cursor -> initialize cursor
e868 DD218C0C ; LD      IX,#0C8C
e86c 1805     ; JR      #E873
e86e DD7E04   ; LD      A,(IX+#04)
e871 B7       ; OR      A
e872 C8       ; RET     Z
              ;
e873 DD360400 ; LD      (IX+#04),#00
e877 2A820C   ; LD      HL,(#0C82)	; 0c82-0c83	EOFP	end address sourcetext
e87a 360D     ; LD      (HL),#0D
e87c 2A880C   ; LD      HL,(#0C88)
e87f 110A08   ; LD      DE,#080A
e882 060F     ; LD      B,#0F
e884 C5       ; PUSH    BC
e885 DD4600   ; LD      B,(IX+#00)
e888 04       ; INC     B
e889 05       ; DEC     B
e88a 2808     ; JR      Z,#E894
e88c 7E       ; LD      A,(HL)
e88d FE0D     ; CP      #0D
e88f 2803     ; JR      Z,#E894
e891 23       ; INC     HL
e892 18F5     ; JR      #E889
e894 013000   ; LD      BC,#0030
e897 7E       ; LD      A,(HL)
e898 FE0D     ; CP      #0D
e89a 280D     ; JR      Z,#E8A9
e89c EDA0     ; LDI     
e89e EA97E8   ; JP      PE,#E897
e8a1 7E       ; LD      A,(HL)
e8a2 FE0D     ; CP      #0D
e8a4 280A     ; JR      Z,#E8B0
e8a6 23       ; INC     HL
e8a7 18F8     ; JR      #E8A1
e8a9 3E20     ; LD      A,#20
e8ab 41       ; LD      B,C
e8ac 12       ; LD      (DE),A
e8ad 13       ; INC     DE
e8ae 10FC     ; DJNZ    #E8AC
e8b0 EB       ; EX      DE,HL
e8b1 011000   ; LD      BC,#0010
e8b4 09       ; ADD     HL,BC
e8b5 EB       ; EX      DE,HL
e8b6 CDE5E7   ; CALL    #E7E5
e8b9 2801     ; JR      Z,#E8BC
e8bb 23       ; INC     HL
e8bc C1       ; POP     BC
e8bd 10C5     ; DJNZ    #E884
e8bf C9       ; RET     
     
; User input routine (used by BLSPAS instead of default one for KBD)

e8c0 D733     ; RST     #10  ;RCAL #33 = e8c0+2+10 = e8d2  
e8c2 21BC0C   ; LD      HL,#0CBC
e8c5 3805     ; JR      C,#E8CC
e8c7 77       ; LD      (HL),A
e8c8 23       ; INC     HL
e8c9 363C     ; LD      (HL),#3C
e8cb C9       ; RET     
              ;
e8cc FE13     ; CP      #13  ; $13 
e8ce 2804     ; JR      Z,#E8D4
e8d0 FE14     ; CP      #14  ; $14 

e8d2 200B     ; JR      NZ,#E8DF
e8d4 E5       ; PUSH    HL
e8d5 21010C   ; LD      HL,#0C01  ; 0c01-0c09 = KMAP      Map of state of keyboard.
e8d8 CB66     ; BIT     4,(HL)
e8da E1       ; POP     HL
e8db 2802     ; JR      Z,#E8DF
e8dd C606     ; ADD     A,#06
e8df BE       ; CP      (HL)
e8e0 37       ; SCF     
e8e1 20E4     ; JR      NZ,#E8C7
e8e3 B7       ; OR      A
e8e4 23       ; INC     HL
e8e5 35       ; DEC     (HL)
e8e6 C0       ; RET     NZ
              ;
e8e7 3614     ; LD      (HL),#14
e8e9 37       ; SCF     
e8ea C9       ; RET     
              ;
              ; NIM table - input device table
e8eb 76                   - Scan KBD
e8ec 00                   - Scan serial input port
e8ed 80                   - Scan external ASCII keyboard. (See X command.)
e8ee 80                   - User specified input routine. (See U command.)

e8ef 80       ; ADD     A,B
e8f0 80       ; ADD     A,B
e8f1 C0       ; RET     NZ
              ;
e8f2 80       ; ADD     A,B
e8f3 80       ; ADD     A,B
e8f4 B8       ; CP      B
e8f5 21060C   ; LD      HL,#0C06; Keyboard map
e8f8 46       ; LD      B,(HL)
e8f9 C5       ; PUSH    BC
e8fa E5       ; PUSH    HL
e8fb 11020C   ; LD      DE,#0C02; Keyboard map
e8fe 21EDE8   ; LD      HL,#E8ED
e901 0608     ; LD      B,#08
e903 1A       ; LD      A,(DE)
e904 A6       ; AND     (HL)
e905 12       ; LD      (DE),A
e906 13       ; INC     DE
e907 23       ; INC     HL
e908 10F9     ; DJNZ    #E903
e90a DF61     ; RST     #18 ; db #61 ; SCAL KBD      READ KBD - Scan Nascom keyboard.
e90c 3801     ; JR      C,#E90F
e90e AF       ; XOR     A
e90f 21270C   ; LD      HL,#0C27    ; 0C27  $KOPT     Keyboard option. See K command.
e912 CB4E     ; BIT     1,(HL)
e914 EB       ; EX      DE,HL
e915 E1       ; POP     HL
e916 C1       ; POP     BC
e917 C8       ; RET     Z
              ;
e918 CBBF     ; RES     7,A
e91a CB70     ; BIT     6,B
e91c C0       ; RET     NZ
              ;
e91d CB76     ; BIT     6,(HL)
e91f C8       ; RET     Z
              ;
e920 1A       ; LD      A,(DE)
e921 EE01     ; XOR     #01
e923 12       ; LD      (DE),A
e924 C9       ; RET     
              ;
e925 02       ; LD      (BC),A
e926 D6E5     ; SUB     #E5
e928 03       ; INC     BC
e929 7B       ; LD      A,E
e92a E604     ; AND     #04
e92c B3       ; OR      E
e92d E605     ; AND     #05
e92f E3       ; EX      (SP),HL
e930 E5       ; PUSH    HL
e931 0667     ; LD      B,#67
e933 E609     ; AND     #09
e935 BE       ; CP      (HL)
e936 E60D     ; AND     #0D
e938 FAE50E   ; JP      M,#0EE5
e93b EAE50F   ; JP      PE,#0FE5
e93e F3       ; DI      
e93f E5       ; PUSH    HL
e940 1004     ; DJNZ    #E946
e942 E7       ; RST     #20
e943 13       ; INC     DE
e944 28E6     ; JR      Z,#E92C
e946 14       ; INC     D
e947 20E6     ; JR      NZ,#E92F
e949 1844     ; JR      #E98F
e94b E7       ; RST     #20
e94c 1A       ; LD      A,(DE)
e94d 40       ; LD      B,B
e94e E619     ; AND     #19
e950 54       ; LD      D,H
e951 E61B     ; AND     #1B
e953 26E6     ; LD      H,#E6
e955 FF       ; RST     #38	;   	RDEL    Wait for a period of time dependent on the value in the A register.
e956 08       ; EX      AF,AF'
e957 30E5     ; JR      NC,#E93E
e959 12       ; LD      (DE),A
e95a 9D       ; SBC     A,L
e95b E411C5   ; CALL    PO,#C511
e95e E416EE   ; CALL    PO,#EE16
e961 E4150C   ; CALL    PO,#0C15
e964 E5       ; PUSH    HL
e965 0A       ; LD      A,(BC)
e966 41       ; LD      B,C
e967 E5       ; PUSH    HL
e968 0C       ; INC     C
e969 4F       ; LD      C,A
e96a E5       ; PUSH    HL
e96b 17       ; RLA     
e96c A7       ; AND     A
e96d E5       ; PUSH    HL
e96e 0170E5   ; LD      BC,#E570
e971 07       ; RLCA    
e972 91       ; SUB     C
e973 E5       ; PUSH    HL
e974 0B       ; DEC     BC
e975 9D       ; SBC     A,L
e976 E5       ; PUSH    HL
e977 FF       ; RST     #38	;   	RDEL    Wait for a period of time dependent on the value in the A register.
e978 00       ; NOP     
e979 00       ; NOP     
e97a 00       ; NOP     
e97b 00       ; NOP     
e97c 00       ; NOP     
e97d 00       ; NOP     
e97e 00       ; NOP     
e97f 00       ; NOP     
              ;
; COMPILER    ;
    
		; 	Function Addr Table
e980 81DC   
e982 ABDC   
e984 BFDC   
e986 12DD   
e988 59DD   
e98A 9BDD   
e98c 8FDC   
e98e 94DC   
e990 9DDC   
e992 A2DC   
e994 E8DD     
e996 EDDD   
e998 B1DC     ; OR      C
e99A B6DC   ; CALL    C,#DCB6
e99c D9DC     ; EXX     
e99e DEDC   ; CALL    C,#DCDE
e9a0 E7DC     ; RST     #20
e9a2 ECDC   ; CALL    C,#DCEC
e9a4 28DD     ; JR      Z,#E983
e9a6 2DDD     ; DEC     L
e9a8 36DD3B ; LD      (IX-#23),#3B
e9ab DD5C     ; LD      E,IXH
e9ad DD66DD   ; LD      H,(IX-#23)
e9b0 71       ; LD      (HL),C
e9b1 DD77DD   ; LD      (IX-#23),A
e9b4 B8       ; CP      B
e9b5 DDBD     ; CP      IXL
e9b7 DDC6DD   ; ADD     A,#DD
e9ba CBDD     ; SET     3,L
e9bc F7       ; RST     #30	     ; ROUT    Output the character in the A register.
e9bd DDFDDD   ; DB      #DD, #FD, #DD    ; Unknown opcode
e9c0 06DE     ; LD      B,#DE
e9c2 0EDE     ; LD      C,#DE
e9c4 3EDE     ; LD      A,#DE
e9c6 2F       ; CPL     
e9c7 DE27     ; SBC     A,#27
e9c9 DE18     ; SBC     A,#18
e9cb DEFD     ; SBC     A,#FD
e9cd DC44DD   ; CALL    C,#DD44
e9d0 81       ; ADD     A,C
e9d1 DDCEDE   ; ADC     A,#DE
e9d4 DDDEF4   ; SBC     A,#F4
e9d7 DE03     ; SBC     A,#03
e9d9 DF       ; RST     #18
e9da 38D0     ; JR      C,#E9AC
e9dc BF       ; CP      A
e9dd D0       ; RET     NC
              ;
e9de B4       ; OR      H
e9df D0       ; RET     NC
              ;
e9e0 BA       ; CP      D
e9e1 D0       ; RET     NC
              ;
e9e2 B1       ; OR      C
e9e3 D0       ; RET     NC
              ;
e9e4 B9       ; CP      C
e9e5 D2FAD2   ; JP      NC,#D2FA
e9e8 F2D296   ; JP      P,#96D2
e9eb D49ED3   ; CALL    NC,#D39E
e9ee 2F       ; CPL     
e9ef D470D2   ; CALL    NC,#D270
e9f2 A7       ; AND     A
e9f3 D250D2   ; JP      NC,#D250
e9f6 CCD026   ; CALL    Z,#26D0
e9f9 D61D     ; SUB     #1D
e9fb D9       ; EXX     
e9fc 33       ; INC     SP
e9fd D9       ; EXX     
e9fe 63       ; LD      H,E
e9ff D9       ; EXX     
ea00 8E       ; ADC     A,(HL)
ea01 D9       ; EXX     
ea02 95       ; SUB     L
ea03 D9       ; EXX     
ea04 9C       ; SBC     A,H
ea05 D9       ; EXX     
ea06 5C       ; LD      E,H
ea07 D9       ; EXX     
ea08 A3       ; AND     E
ea09 D9       ; EXX     
ea0a 6C       ; LD      L,H
ea0b D9       ; EXX     
ea0c 1B       ; DEC     DE
ea0d D9       ; EXX     
ea0e FB       ; EI      
ea0f D5       ; PUSH    DE
ea10 EDD5     ; DB      #ED, #D5         ; Undocumented 8 T-State NOP
ea12 86       ; ADD     A,(HL)
ea13 D9       ; EXX     
ea14 56       ; LD      D,(HL)
ea15 DA47DA   ; JP      C,#DA47
ea18 55       ; LD      D,L
ea19 D257D9   ; JP      NC,#D957
ea1c 62       ; LD      H,D
ea1d DA8ADA   ; JP      C,#DA8A
ea20 C0       ; RET     NZ
              ;
ea21 DACADA   ; JP      C,#DACA
ea24 E0       ; RET     PO
              ;
ea25 DA43D2   ; JP      C,#D243
ea28 F5       ; PUSH    AF
ea29 DCCFD9   ; CALL    C,#D9CF
ea2c 12       ; LD      (DE),A
ea2d DB46     ; IN      A,(#46)
ea2f D65B     ; SUB     #5B
ea31 DB29     ; IN      A,(#29)
ea33 DBBA     ; IN      A,(#BA)
ea35 DB96     ; IN      A,(#96)
ea37 DB13     ; IN      A,(#13)
ea39 DC3B     ; addr funcion SCREEN
ea3b DCA1       ; AND     C
ea3d DF       ; RST     #18
ea3e 91       ; SUB     C
ea3f DF       ; RST     #18
ea40 E3       ; EX      (SP),HL
ea41 D9       ; EXX     
ea42 DBD9     ; IN      A,(#D9)
ea44 F3       ; DI      
ea45 DE84     ; SBC     A,#84
ea47 DF       ; RST     #18
ea48 68       ; LD      L,B
ea49 DF       ; RST     #18
ea4a F8       ; RET     M
              ;
ea4b E0       ; RET     PO
              ;
ea4c 12       ; LD      (DE),A
ea4d E0       ; RET     PO
              ;
ea4e 59       ; LD      E,C
ea4f E0       ; RET     PO
              ;
ea50 E1       ; POP     HL
ea51 E0       ; RET     PO
              ;
ea52 3D       ; DEC     A
ea53 DE2E     ; SBC     A,#2E
ea55 DE26     ; SBC     A,#26
ea57 DE17     ; SBC     A,#17
ea59 DE15     ; SBC     A,#15
ea5b DD55     ; LD      D,IXL
ea5d DD97     ; SUB     A
ea5f DD

; compile

ea60 D5       ; PUSH    DE	; DE=addr for code
ea61 FDE1     ; POP     IY
ea63 CD35E2   ; CALL    #E235   ; Clear object code
ea66 3AC00C   ; LD      A,(#0CC0)  ; 0cc0 = main menu command line
ea69 FE52     ; CP      #52     "R"
ea6b 2002     ; JR      NZ,#EA6F
ea6d 3E43     ; LD      A,#43   "C"
ea6f 32900C   ; LD      (#0C90),A	0c90 = R=Run, C=Compile, T=Tape, F=Find
					Compiler invoked for TAPE?
ea72 FE54     ; CP      #54	"T"
ea74 2013     ; JR      NZ,#EA89
					; compiler invoked for tape
ea76 DF5F     ; RST     #18; db #5F	SCAL MFLP        Alter the state of (turn an or off) the tape drive LED
ea78 DF5D     ; RST     #18; db #5D	TDEL        Wait for about 1 second (at 4 MHz)
ea7a AF       ; XOR     A
ea7b 32910C   ; LD      (#0C91),A
ea7e FD22920C ; LD      (#0C92),IY	IY=addr for code generation, 0C92= ; WSP work space stack pointer during program execution
ea82 47       ; LD      B,A
ea83 DF6F     ; RST     #18; db #6F	SCAL SRLX      Output to serial output port.
ea85 10FC     ; DJNZ    #EA83		; escribe el la cinta 256 bytes 0
ea87 182A     ; JR      #EAB3

ea89 FE46     ; CP      #46		"F"
ea8b 2013     ; JR      NZ,#EAA0

					; compiler invoked for FIND
ea8d EF       ; RST     #28	; 	PRS
ea8e 53656172		db "Searching  "
ea92 6368696E
ea96 672020
ea99 00       ; 	db #00
ea9a FD210000 ; LD      IY,#0000
ea9e 1813     ; JR      #EAB3

					; compiler invoked for COMPILE or RUN
eaa0 EF       ; RST     #28	; 	PRS
eaa1 436F6D70		db "Compiling  "
eaa5 696C696E
eaa9 672020
eaac 00       ; 	db #00 
eaad FD2A820C ; LD      IY,(#0C82)	; 0c82-0c83	EOFP	end address sourcetext
eab1 FD23     ; INC     IY

	; Start of compilation
	; Main compiler loop
					
eab3 DD210010 ; LD      IX,#1000	; Start of sourcetext
eab7 2A800C   ; LD      HL,(#0C80)	; 0c80-0c81 	MTOP	hight RAM the system can access
eaba 2B       ; DEC     HL
eabb 22980C   ; LD      (#0C98),HL
eabe 22960C   ; LD      (#0C96),HL
eac1 CD01FB   ; CALL    #FB01
eac4 2136FF   ; LD      HL,#FF36  ; Start of reserved word table
eac7 CDC7FA   ; CALL    #FAC7
eaca 200A     ; JR      NZ,#EAD6
eacc CD81FB   ; CALL    #FB81
eacf 2805     ; JR      Z,#EAD6
ead1 CDF7FD   ; CALL    #FDF7
ead4 18F6     ; JR      #EACC
ead6 AF       ; XOR     A
ead7 329E0C   ; LD      (#0C9E),A
eada CD99F6   ; CALL    #F699
eadd 65       ; LD      H,L
eade FDE5     ; PUSH    IY
eae0 CD4CF6   ; CALL    #F64C
eae3 2A800C   ; LD      HL,(#0C80)	; 0c80-0c81 	MTOP	hight RAM the system can access
eae6 CD4CF6   ; CALL    #F64C
eae9 3A900C   ; LD      A,(#0C90) 	; R=Run, C=Compile, T=Tape
eaec D643     ; SUB     #43  		; "C"
eaee CD51F6   ; CALL    #F651
eaf1 CD4CEB   ; CALL    #EB4C
eaf4 DD7E00   ; LD      A,(IX+#00)
eaf7 FE2E     ; CP      #2E
eaf9 CD56FD   ; CALL    #FD56
eafc 09       ; ADD     HL,BC
eafd CD4AF3   ; CALL    #F34A
eb00 3A900C   ; LD      A,(#0C90) 	; R=Run, C=Compile, T=Tape
eb03 FE54     ; CP      #54		; "T"
eb05 2809     ; JR      Z,#EB10 
eb07 CD9EF6   ; CALL    #F69E
eb0a 03       ; INC     BC
eb0b C382E1   ; JP      #E182		; Main menu
eb0e 1806     ; JR      #EB16
eb10 CD9EF6   ; CALL    #F69E
eb13 02       ; LD      (BC),A
eb14 DF5B     ; RST     #18 ;db #5B;  SCAL  MRET        end a program and return control to NAS-SYS

eb16 E1       ; POP     HL
eb17 CD01F7   ; CALL    #F701
eb1a 3A900C   ; LD      A,(#0C90)	; R=Run, C=Compile, T=Tape
eb1d FE43     ; CP      #43		; "C"
eb1f 200C     ; JR      NZ,#EB2D
eb21 FD22840C ; LD      (#0C84),IY	; 0c84-0c85	PEND	end address object code
eb25 EF       ; RST     #28	; 	PRS
eb26 4F4B0D   ;		db "OK" #13 <cr>
eb29 00       ; 	db #00
eb2a C361E2   ; JP      #E261		; jump to MEMORY command 
eb2d FE54     ; CP      #54		"T"
eb2f 2017     ; JR      NZ,#EB48	; Print "?"
eb31 AF       ; XOR     A		; stop tape 
eb32 0605     ; LD      B,#05
eb34 DF6F     ; RST     #18 ; db #6F ; SCAL   SRLX      Output to serial output port
eb36 3E1B     ; LD      A,#1B		; write 00 00 00 00 00
eb38 10FA     ; DJNZ    #EB34
eb3a DF5F     ; RST     #18 ; db #5F ; SCAL   MFLP        Alter the state of (turn on or off) the tape drive LED 
eb3c FDE5     ; PUSH    IY
eb3e E1       ; POP     HL
eb3f DF66     ; RST     #18 ; db #66       ; SCAL  TBCD3 Output the hex value in the HL register in ASCII, followed by a space
eb41 EF       ; RST     #28	; 	PRS print iY (next code generation addr + 1) then End
eb42 456E642E ;		db "End."
eb56 00       ; 	db #00
eb47 C9       ; RET     
              ;
eb48 EF       ; RST     #28	;	PRS
eb49 3F       ; 	db "?"
eb4a 00       ; 	db #00
eb4b C9       ; RET     
              ;
eb4c 210100   ; LD      HL,#0001
eb4f 22940C   ; LD      (#0C94),HL ; PMTP High RAM addr the executing program can read
eb52 CD95F6   ; CALL    #F695
eb55 FDE5     ; PUSH    IY
eb57 CD4CF6   ; CALL    #F64C
eb5a 2102FF   ; LD      HL,#FF02
eb5d CDC7FA   ; CALL    #FAC7
eb60 2023     ; JR      NZ,#EB85
eb62 2A980C   ; LD      HL,(#0C98)
eb65 E5       ; PUSH    HL
eb66 DD7E00   ; LD      A,(IX+#00)
eb69 CDDBFB   ; CALL    #FBDB
eb6c CDDFF4   ; CALL    #F4DF
eb6f 3E20     ; LD      A,#20
eb71 0604     ; LD      B,#04
eb73 CD02F5   ; CALL    #F502
eb76 AF       ; XOR     A
eb77 10FA     ; DJNZ    #EB73
eb79 E1       ; POP     HL
eb7a CD17F5   ; CALL    #F517
eb7d CD85FB   ; CALL    #FB85
eb80 28E0     ; JR      Z,#EB62
eb82 CDADFB   ; CALL    #FBAD
eb85 2107FF   ; LD      HL,#FF07
eb88 CDC7FA   ; CALL    #FAC7
eb8b 206C     ; JR      NZ,#EBF9
eb8d 2A980C   ; LD      HL,(#0C98)
eb90 E5       ; PUSH    HL
eb91 E5       ; PUSH    HL
eb92 CDD9F4   ; CALL    #F4D9
eb95 E3       ; EX      (SP),HL
eb96 22980C   ; LD      (#0C98),HL
eb99 3E3D     ; LD      A,#3D
eb9b CD87FB   ; CALL    #FB87
eb9e CD56FD   ; CALL    #FD56
eba1 02       ; LD      (BC),A
eba2 CDE5FC   ; CALL    #FCE5
eba5 D1       ; POP     DE
eba6 ED53980C ; LD      (#0C98),DE
ebaa 3E38     ; LD      A,#38
ebac B1       ; OR      C
ebad E5       ; PUSH    HL
ebae CD02F5   ; CALL    #F502
ebb1 E1       ; POP     HL
ebb2 79       ; LD      A,C
ebb3 B7       ; OR      A
ebb4 200E     ; JR      NZ,#EBC4
ebb6 D9       ; EXX     
ebb7 E5       ; PUSH    HL
ebb8 D5       ; PUSH    DE
ebb9 C5       ; PUSH    BC
ebba 0603     ; LD      B,#03
ebbc D1       ; POP     DE
ebbd CDFDF4   ; CALL    #F4FD
ebc0 10FA     ; DJNZ    #EBBC
ebc2 1820     ; JR      #EBE4
ebc4 EB       ; EX      DE,HL
ebc5 3D       ; DEC     A
ebc6 2005     ; JR      NZ,#EBCD
ebc8 CDFDF4   ; CALL    #F4FD
ebcb 1817     ; JR      #EBE4
ebcd 78       ; LD      A,B
ebce CD02F5   ; CALL    #F502
ebd1 04       ; INC     B
ebd2 05       ; DEC     B
ebd3 280F     ; JR      Z,#EBE4
ebd5 1A       ; LD      A,(DE)
ebd6 1B       ; DEC     DE
ebd7 CD02F5   ; CALL    #F502
ebda FE27     ; CP      #27
ebdc 20F4     ; JR      NZ,#EBD2
ebde CD02F5   ; CALL    #F502
ebe1 1B       ; DEC     DE
ebe2 18EE     ; JR      #EBD2
ebe4 E1       ; POP     HL
ebe5 CD17F5   ; CALL    #F517
ebe8 CDADFB   ; CALL    #FBAD
ebeb 213DFF   ; LD      HL,#FF3D
ebee 0601     ; LD      B,#01
ebf0 DDE5     ; PUSH    IX
ebf2 CDB1FA   ; CALL    #FAB1
ebf5 DDE1     ; POP     IX
ebf7 2094     ; JR      NZ,#EB8D
ebf9 AF       ; XOR     A
ebfa 32B10C   ; LD      (#0CB1),A
ebfd 210100   ; LD      HL,#0001
ec00 22940C   ; LD      (#0C94),HL ; PMTP High RAM addr the executing program can read
ec03 213DFF   ; LD      HL,#FF3D
ec06 CDC7FA   ; CALL    #FAC7
ec09 2014     ; JR      NZ,#EC1F
ec0b CD81F3   ; CALL    #F381
ec0e CDADFB   ; CALL    #FBAD
ec11 2141FF   ; LD      HL,#FF41
ec14 0601     ; LD      B,#01
ec16 DDE5     ; PUSH    IX
ec18 CDB1FA   ; CALL    #FAB1
ec1b DDE1     ; POP     IX
ec1d 20EC     ; JR      NZ,#EC0B
ec1f 2A940C   ; LD      HL,(#0C94) ; PMTP High RAM addr the executing program can read
ec22 E5       ; PUSH    HL
ec23 2147FF   ; LD      HL,#FF47
ec26 0601     ; LD      B,#01
ec28 CDB1FA   ; CALL    #FAB1
ec2b C29DED   ; JP      NZ,#ED9D
ec2e 7E       ; LD      A,(HL)
ec2f 32B20C   ; LD      (#0CB2),A
ec32 3A9E0C   ; LD      A,(#0C9E)
ec35 3C       ; INC     A
ec36 329E0C   ; LD      (#0C9E),A
ec39 DD22B40C ; LD      (#0CB4),IX
ec3d AF       ; XOR     A
ec3e 32B30C   ; LD      (#0CB3),A
ec41 210000   ; LD      HL,#0000
ec44 22940C   ; LD      (#0C94),HL ; PMTP High RAM addr the executing program can read
ec47 2A980C   ; LD      HL,(#0C98)
ec4a E5       ; PUSH    HL
ec4b 229C0C   ; LD      (#0C9C),HL
ec4e CD98ED   ; CALL    #ED98
ec51 2805     ; JR      Z,#EC58
ec53 CD99F3   ; CALL    #F399
ec56 1803     ; JR      #EC5B
ec58 CDCFF4   ; CALL    #F4CF
ec5b CD79FB   ; CALL    #FB79
ec5e 201E     ; JR      NZ,#EC7E
ec60 213DFF   ; LD      HL,#FF3D
ec63 CDC7FA   ; CALL    #FAC7
ec66 0600     ; LD      B,#00
ec68 2001     ; JR      NZ,#EC6B
ec6a 05       ; DEC     B
ec6b 78       ; LD      A,B
ec6c 32B10C   ; LD      (#0CB1),A
ec6f CD81F3   ; CALL    #F381
ec72 CD81FB   ; CALL    #FB81
ec75 28E9     ; JR      Z,#EC60
ec77 AF       ; XOR     A
ec78 32B10C   ; LD      (#0CB1),A
ec7b CDA5FB   ; CALL    #FBA5
ec7e CD98ED   ; CALL    #ED98
ec81 2A940C   ; LD      HL,(#0C94) ; PMTP High RAM addr the executing program can read
ec84 282B     ; JR      Z,#ECB1
ec86 CDC0F3   ; CALL    #F3C0
ec89 2AAC0C   ; LD      HL,(#0CAC)
ec8c 22A00C   ; LD      (#0CA0),HL
ec8f 2A940C   ; LD      HL,(#0C94) ; PMTP High RAM addr the executing program can read
ec92 ED5BAA0C ; LD      DE,(#0CAA)
ec96 19       ; ADD     HL,DE
ec97 E5       ; PUSH    HL
ec98 23       ; INC     HL
ec99 23       ; INC     HL
ec9a CD03FD   ; CALL    #FD03
ec9d 22A40C   ; LD      (#0CA4),HL
eca0 ED5B9C0C ; LD      DE,(#0C9C)
eca4 CDA0F4   ; CALL    #F4A0
eca7 CDA6F4   ; CALL    #F4A6
ecaa 1B       ; DEC     DE
ecab 1B       ; DEC     DE
ecac ED539C0C ; LD      (#0C9C),DE
ecb0 E1       ; POP     HL
ecb1 22A20C   ; LD      (#0CA2),HL
ecb4 CDADFB   ; CALL    #FBAD
ecb7 2A980C   ; LD      HL,(#0C98)
ecba E5       ; PUSH    HL
ecbb DDE5     ; PUSH    IX
ecbd DD2AB40C ; LD      IX,(#0CB4)
ecc1 CDD9F4   ; CALL    #F4D9
ecc4 DDE1     ; POP     IX
ecc6 CD98ED   ; CALL    #ED98
ecc9 3E10     ; LD      A,#10
eccb 2806     ; JR      Z,#ECD3
eccd 0618     ; LD      B,#18
eccf 3AA10C   ; LD      A,(#0CA1)
ecd2 B0       ; OR      B
ecd3 CD02F5   ; CALL    #F502
ecd6 3AA00C   ; LD      A,(#0CA0)
ecd9 CD02F5   ; CALL    #F502
ecdc 3AB30C   ; LD      A,(#0CB3)
ecdf 47       ; LD      B,A
ece0 CD02F5   ; CALL    #F502
ece3 3A9E0C   ; LD      A,(#0C9E)
ece6 CD02F5   ; CALL    #F502
ece9 CDFAF4   ; CALL    #F4FA
ecec ED5B9C0C ; LD      DE,(#0C9C)
ecf0 04       ; INC     B
ecf1 05       ; DEC     B
ecf2 2815     ; JR      Z,#ED09
ecf4 C5       ; PUSH    BC
ecf5 D5       ; PUSH    DE
ecf6 CDA0F4   ; CALL    #F4A0
ecf9 0607     ; LD      B,#07
ecfb 1A       ; LD      A,(DE)
ecfc 1B       ; DEC     DE
ecfd CD02F5   ; CALL    #F502
ed00 10F9     ; DJNZ    #ECFB
ed02 D1       ; POP     DE
ed03 CD79ED   ; CALL    #ED79
ed06 C1       ; POP     BC
ed07 18E8     ; JR      #ECF1
ed09 E1       ; POP     HL
ed0a E5       ; PUSH    HL
ed0b CD17F5   ; CALL    #F517
ed0e 2A980C   ; LD      HL,(#0C98)
ed11 E5       ; PUSH    HL
ed12 ED5BA20C ; LD      DE,(#0CA2)
ed16 D5       ; PUSH    DE
ed17 E5       ; PUSH    HL
ed18 215BFF   ; LD      HL,#FF5B
ed1b CDC7FA   ; CALL    #FAC7
ed1e 2008     ; JR      NZ,#ED28
ed20 CD0BFD   ; CALL    #FD0B
ed23 CDCCEE   ; CALL    #EECC
ed26 1811     ; JR      #ED39
ed28 CD99F6   ; CALL    #F699
ed2b 2A3A9E   ; LD      HL,(#9E3A)
ed2e 0C       ; INC     C
ed2f CD51F6   ; CALL    #F651
ed32 CD4CEB   ; CALL    #EB4C
ed35 CD99F6   ; CALL    #F699
ed38 2B       ; DEC     HL
ed39 CDADFB   ; CALL    #FBAD
ed3c 2A960C   ; LD      HL,(#0C96)
ed3f E3       ; EX      (SP),HL
ed40 22960C   ; LD      (#0C96),HL
ed43 CD4AF3   ; CALL    #F34A
ed46 E1       ; POP     HL
ed47 22960C   ; LD      (#0C96),HL
ed4a E1       ; POP     HL
ed4b 7C       ; LD      A,H
ed4c B5       ; OR      L
ed4d 280C     ; JR      Z,#ED5B
ed4f E5       ; PUSH    HL
ed50 CD99F6   ; CALL    #F699
ed53 2C       ; INC     L
ed54 E1       ; POP     HL
ed55 CD03FD   ; CALL    #FD03
ed58 CD4CF6   ; CALL    #F64C
ed5b 3EC9     ; LD      A,#C9
ed5d CD51F6   ; CALL    #F651
ed60 D1       ; POP     DE
ed61 E1       ; POP     HL
ed62 B7       ; OR      A
ed63 ED52     ; SBC     HL,DE
ed65 44       ; LD      B,H
ed66 4D       ; LD      C,L
ed67 19       ; ADD     HL,DE
ed68 D1       ; POP     DE
ed69 EDB8     ; LDDR    
ed6b ED53980C ; LD      (#0C98),DE
ed6f 3A9E0C   ; LD      A,(#0C9E)
ed72 3D       ; DEC     A
ed73 329E0C   ; LD      (#0C9E),A
ed76 C323EC   ; JP      #EC23
ed79 CDA0F4   ; CALL    #F4A0
ed7c EB       ; EX      DE,HL
ed7d 010700   ; LD      BC,#0007
ed80 ED42     ; SBC     HL,BC
ed82 56       ; LD      D,(HL)
ed83 2B       ; DEC     HL
ed84 5E       ; LD      E,(HL)
ed85 EB       ; EX      DE,HL
ed86 ED4B940C ; LD      BC,(#0C94) ; PMTP High RAM addr the executing program can read
ed8a 03       ; INC     BC
ed8b 37       ; SCF     
ed8c ED42     ; SBC     HL,BC
ed8e EB       ; EX      DE,HL
ed8f 73       ; LD      (HL),E
ed90 23       ; INC     HL
ed91 72       ; LD      (HL),D
ed92 EB       ; EX      DE,HL
ed93 1B       ; DEC     DE
ed94 1B       ; DEC     DE
ed95 1B       ; DEC     DE
ed96 1B       ; DEC     DE
ed97 C9       ; RET     
              ;
ed98 3AB20C   ; LD      A,(#0CB2)
ed9b B7       ; OR      A
ed9c C9       ; RET     
              ;
ed9d E1       ; POP     HL
ed9e D1       ; POP     DE
ed9f E5       ; PUSH    HL
eda0 FDE5     ; PUSH    IY
eda2 E1       ; POP     HL
eda3 2B       ; DEC     HL
eda4 2B       ; DEC     HL
eda5 CD32FD   ; CALL    #FD32
eda8 2005     ; JR      NZ,#EDAF
edaa CD22F7   ; CALL    #F722
edad 1804     ; JR      #EDB3
edaf EB       ; EX      DE,HL
edb0 CD01F7   ; CALL    #F701
edb3 E1       ; POP     HL
edb4 2B       ; DEC     HL
edb5 7C       ; LD      A,H
edb6 B5       ; OR      L
edb7 2809     ; JR      Z,#EDC2
edb9 E5       ; PUSH    HL
edba CD99F6   ; CALL    #F699
edbd 2C       ; INC     L
edbe E1       ; POP     HL
edbf CD4CF6   ; CALL    #F64C
edc2 2141FF   ; LD      HL,#FF41
edc5 CDC7FA   ; CALL    #FAC7
edc8 CD56FD   ; CALL    #FD56
edcb 40       ; LD      B,B
edcc CDDBED   ; CALL    #EDDB
edcf 21F1FF   ; LD      HL,#FFF1
edd2 CDC7FA   ; CALL    #FAC7
edd5 C8       ; RET     Z
              ;
edd6 CDADFB   ; CALL    #FBAD
edd9 18F1     ; JR      #EDCC
eddb 2163FF   ; LD      HL,#FF63
edde 0602     ; LD      B,#02
ede0 CDB1FA   ; CALL    #FAB1
ede3 2005     ; JR      NZ,#EDEA
ede5 5E       ; LD      E,(HL)
ede6 23       ; INC     HL
ede7 56       ; LD      D,(HL)
ede8 EB       ; EX      DE,HL
ede9 E9       ; JP      (HL)
edea CDE4F9   ; CALL    #F9E4
eded 3008     ; JR      NC,#EDF7
edef 0669     ; LD      B,#69
edf1 CD21FA   ; CALL    #FA21
edf4 DA48EE   ; JP      C,#EE48
edf7 E5       ; PUSH    HL
edf8 CD40FB   ; CALL    #FB40
edfb CD21F5   ; CALL    #F521
edfe E1       ; POP     HL
edff C5       ; PUSH    BC
ee00 CDEAF9   ; CALL    #F9EA
ee03 C1       ; POP     BC
ee04 3AAC0C   ; LD      A,(#0CAC)
ee07 57       ; LD      D,A
ee08 3AAD0C   ; LD      A,(#0CAD)
ee0b F5       ; PUSH    AF
ee0c CD1EEE   ; CALL    #EE1E
ee0f F1       ; POP     AF
ee10 CB5F     ; BIT     3,A
ee12 2005     ; JR      NZ,#EE19
ee14 0612     ; LD      B,#12
ee16 C30DFA   ; JP      #FA0D
ee19 066D     ; LD      B,#6D
ee1b C304FA   ; JP      #FA04
ee1e E603     ; AND     #03
ee20 B7       ; OR      A
ee21 200B     ; JR      NZ,#EE2E
ee23 0C       ; INC     C
ee24 0D       ; DEC     C
ee25 2807     ; JR      Z,#EE2E
ee27 F5       ; PUSH    AF
ee28 CD99F6   ; CALL    #F699
ee2b 3C       ; INC     A
ee2c 0D       ; DEC     C
ee2d F1       ; POP     AF
ee2e 47       ; LD      B,A
ee2f B9       ; CP      C
ee30 2804     ; JR      Z,#EE36
ee32 CD5DFD   ; CALL    #FD5D
ee35 70       ; LD      (HL),B
ee36 CB49     ; BIT     1,C
ee38 2806     ; JR      Z,#EE40
ee3a 2E06     ; LD      L,#06
ee3c 62       ; LD      H,D
ee3d C34CF6   ; JP      #F64C
ee40 0C       ; INC     C
ee41 0D       ; DEC     C
ee42 C0       ; RET     NZ
              ;
ee43 3ED9     ; LD      A,#D9
ee45 C351F6   ; JP      #F651
ee48 0610     ; LD      B,#10
ee4a CDCAF9   ; CALL    #F9CA
ee4d DAE6EE   ; JP      C,#EEE6
ee50 2B       ; DEC     HL
ee51 2B       ; DEC     HL
ee52 46       ; LD      B,(HL)
ee53 2B       ; DEC     HL
ee54 2B       ; DEC     HL
ee55 E5       ; PUSH    HL
ee56 04       ; INC     B
ee57 05       ; DEC     B
ee58 CAC7EE   ; JP      Z,#EEC7
ee5b CD9DFB   ; CALL    #FB9D
ee5e 2B       ; DEC     HL
ee5f 2B       ; DEC     HL
ee60 C5       ; PUSH    BC
ee61 11B60C   ; LD      DE,#0CB6
ee64 010700   ; LD      BC,#0007
ee67 EDB8     ; LDDR    
ee69 E5       ; PUSH    HL
ee6a 3AB60C   ; LD      A,(#0CB6)
ee6d CB57     ; BIT     2,A
ee6f 281E     ; JR      Z,#EE8F
ee71 CB5F     ; BIT     3,A
ee73 2007     ; JR      NZ,#EE7C
ee75 CD7BFA   ; CALL    #FA7B
ee78 0602     ; LD      B,#02
ee7a 1805     ; JR      #EE81
ee7c CDF5F9   ; CALL    #F9F5
ee7f 0604     ; LD      B,#04
ee81 CDD1EE   ; CALL    #EED1
ee84 CD9EF6   ; CALL    #F69E
ee87 01EBCD   ; LD      BC,#CDEB
ee8a 99       ; SBC     A,C
ee8b F627     ; OR      #27
ee8d 182B     ; JR      #EEBA
ee8f CB5F     ; BIT     3,A
ee91 2814     ; JR      Z,#EEA7
ee93 CDF5F9   ; CALL    #F9F5
ee96 0604     ; LD      B,#04
ee98 CDD1EE   ; CALL    #EED1
ee9b CD99F6   ; CALL    #F699
ee9e 29       ; ADD     HL,HL
ee9f 2AAA0C   ; LD      HL,(#0CAA)
eea2 CD4CF6   ; CALL    #F64C
eea5 1813     ; JR      #EEBA
eea7 F5       ; PUSH    AF
eea8 3AB50C   ; LD      A,(#0CB5)
eeab F5       ; PUSH    AF
eeac CD21F5   ; CALL    #F521
eeaf D1       ; POP     DE
eeb0 F1       ; POP     AF
eeb1 CD1EEE   ; CALL    #EE1E
eeb4 3E26     ; LD      A,#26
eeb6 80       ; ADD     A,B
eeb7 CD2AF6   ; CALL    #F62A
eeba E1       ; POP     HL
eebb C1       ; POP     BC
eebc 05       ; DEC     B
eebd 2805     ; JR      Z,#EEC4
eebf CDB5FB   ; CALL    #FBB5
eec2 189C     ; JR      #EE60
eec4 CDA5FB   ; CALL    #FBA5
eec7 E1       ; POP     HL
eec8 56       ; LD      D,(HL)
eec9 2B       ; DEC     HL
eeca 5E       ; LD      E,(HL)
eecb EB       ; EX      DE,HL
eecc 3ECD     ; LD      A,#CD
eece C349F6   ; JP      #F649
eed1 21AD0C   ; LD      HL,#0CAD
eed4 CB96     ; RES     2,(HL)
eed6 EB       ; EX      DE,HL
eed7 21B60C   ; LD      HL,#0CB6
eeda CB96     ; RES     2,(HL)
eedc 1A       ; LD      A,(DE)
eedd BE       ; CP      (HL)
eede C232EE   ; JP      NZ,#EE32
eee1 2B       ; DEC     HL
eee2 1B       ; DEC     DE
eee3 10F7     ; DJNZ    #EEDC
eee5 C9       ; RET     
              ;
eee6 2195FF   ; LD      HL,#FF95
eee9 0602     ; LD      B,#02
eeeb CDB1FA   ; CALL    #FAB1
eeee CAE5ED   ; JP      Z,#EDE5
eef1 0620     ; LD      B,#20
eef3 CDCAF9   ; CALL    #F9CA
eef6 380E     ; JR      C,#EF06
eef8 CDBDFB   ; CALL    #FBBD
eefb 2B       ; DEC     HL
eefc 2B       ; DEC     HL
eefd FDE5     ; PUSH    IY
eeff D1       ; POP     DE
ef00 72       ; LD      (HL),D
ef01 2B       ; DEC     HL
ef02 73       ; LD      (HL),E
ef03 C3DBED   ; JP      #EDDB
ef06 CD1BEF   ; CALL    #EF1B
ef09 C0       ; RET     NZ
              ;
ef0a CDD0F5   ; CALL    #F5D0
ef0d CD40FB   ; CALL    #FB40
ef10 CD94FA   ; CALL    #FA94
ef13 CD9EF6   ; CALL    #F69E
ef16 03       ; INC     BC
ef17 EB       ; EX      DE,HL
ef18 E1       ; POP     HL
ef19 73       ; LD      (HL),E
ef1a C9       ; RET     
              ;
ef1b 21E2FE   ; LD      HL,#FEE2
ef1e CDC7FA   ; CALL    #FAC7
ef21 C0       ; RET     NZ
              ;
ef22 CD8DFB   ; CALL    #FB8D
ef25 CD94FA   ; CALL    #FA94
ef28 C395FB   ; JP      #FB95
ef2b CD94FA   ; CALL    #FA94
ef2e CD9EF6   ; CALL    #F69E
ef31 03       ; INC     BC
ef32 7C       ; LD      A,H
ef33 B5       ; OR      L
ef34 CAFDE5   ; JP      Z,#E5FD
ef37 CD4CF6   ; CALL    #F64C
ef3a 21D6FF   ; LD      HL,#FFD6
ef3d CDC7FA   ; CALL    #FAC7
ef40 CD56FD   ; CALL    #FD56
ef43 41       ; LD      B,C
ef44 CDDBED   ; CALL    #EDDB
ef47 21DAFF   ; LD      HL,#FFDA
ef4a CDC7FA   ; CALL    #FAC7
ef4d 200F     ; JR      NZ,#EF5E
ef4f CD95F6   ; CALL    #F695
ef52 E1       ; POP     HL
ef53 FDE5     ; PUSH    IY
ef55 CD4CF6   ; CALL    #F64C
ef58 CD01F7   ; CALL    #F701
ef5b CDDBED   ; CALL    #EDDB
ef5e E1       ; POP     HL
ef5f C301F7   ; JP      #F701
ef62 CD21F5   ; CALL    #F521
ef65 2113FF   ; LD      HL,#FF13
ef68 CDC7FA   ; CALL    #FAC7
ef6b CD56FD   ; CALL    #FD56
ef6e 43       ; LD      B,E
ef6f 0600     ; LD      B,#00
ef71 79       ; LD      A,C
ef72 B7       ; OR      A
ef73 2004     ; JR      NZ,#EF79
ef75 CD5DFD   ; CALL    #FD5D
ef78 42       ; LD      B,D
ef79 C5       ; PUSH    BC
ef7a 0600     ; LD      B,#00
ef7c C5       ; PUSH    BC
ef7d 0D       ; DEC     C
ef7e 200C     ; JR      NZ,#EF8C
ef80 CD99F6   ; CALL    #F699
ef83 55       ; LD      D,L
ef84 CD0BFD   ; CALL    #FD0B
ef87 CD4CF6   ; CALL    #F64C
ef8a 180C     ; JR      #EF98
ef8c CD26FD   ; CALL    #FD26
ef8f E5       ; PUSH    HL
ef90 CD99F6   ; CALL    #F699
ef93 56       ; LD      D,(HL)
ef94 E1       ; POP     HL
ef95 CDA6F7   ; CALL    #F7A6
ef98 3ECA     ; LD      A,#CA
ef9a CD51F6   ; CALL    #F651
ef9d C1       ; POP     BC
ef9e FDE5     ; PUSH    IY
efa0 CD4CF6   ; CALL    #F64C
efa3 04       ; INC     B
efa4 CD85FB   ; CALL    #FB85
efa7 28D3     ; JR      Z,#EF7C
efa9 CDBDFB   ; CALL    #FBBD
efac FDE5     ; PUSH    IY
efae D1       ; POP     DE
efaf 13       ; INC     DE
efb0 13       ; INC     DE
efb1 13       ; INC     DE
efb2 E1       ; POP     HL
efb3 CD04F7   ; CALL    #F704
efb6 10FA     ; DJNZ    #EFB2
efb8 CD95F6   ; CALL    #F695
efbb FDE5     ; PUSH    IY
efbd CD4CF6   ; CALL    #F64C
efc0 CDDBED   ; CALL    #EDDB
efc3 CD95F6   ; CALL    #F695
efc6 E1       ; POP     HL
efc7 C1       ; POP     BC
efc8 FDE5     ; PUSH    IY
efca CD4CF6   ; CALL    #F64C
efcd CD01F7   ; CALL    #F701
efd0 04       ; INC     B
efd1 CD81FB   ; CALL    #FB81
efd4 2025     ; JR      NZ,#EFFB
efd6 21F1FF   ; LD      HL,#FFF1
efd9 CDC7FA   ; CALL    #FAC7
efdc 2827     ; JR      Z,#F005
efde 21EBFF   ; LD      HL,#FFEB
efe1 CDC7FA   ; CALL    #FAC7
efe4 C279EF   ; JP      NZ,#EF79
efe7 C5       ; PUSH    BC
efe8 CDBDFB   ; CALL    #FBBD
efeb 0D       ; DEC     C
efec 2804     ; JR      Z,#EFF2
efee CD99F6   ; CALL    #F699
eff1 4B       ; LD      C,E
eff2 CDDBED   ; CALL    #EDDB
eff5 C1       ; POP     BC
eff6 CD81FB   ; CALL    #FB81
eff9 0E01     ; LD      C,#01
effb 21F1FF   ; LD      HL,#FFF1
effe CDC7FA   ; CALL    #FAC7
f001 CD56FD   ; CALL    #FD56
f004 44       ; LD      B,H
f005 0D       ; DEC     C
f006 2804     ; JR      Z,#F00C
f008 CD99F6   ; CALL    #F699
f00b 4B       ; LD      C,E
f00c E1       ; POP     HL
f00d CD01F7   ; CALL    #F701
f010 10FA     ; DJNZ    #F00C
f012 C9       ; RET     
              ;
f013 FDE5     ; PUSH    IY
f015 CD94FA   ; CALL    #FA94
f018 21DEFF   ; LD      HL,#FFDE
f01b CDC7FA   ; CALL    #FAC7
f01e CD56FD   ; CALL    #FD56
f021 45       ; LD      B,L
f022 CD9EF6   ; CALL    #F69E
f025 03       ; INC     BC
f026 7C       ; LD      A,H
f027 B5       ; OR      L
f028 CAFDE5   ; JP      Z,#E5FD
f02b CD4CF6   ; CALL    #F64C
f02e CDDBED   ; CALL    #EDDB
f031 D1       ; POP     DE
f032 E1       ; POP     HL
f033 3EC3     ; LD      A,#C3
f035 CD49F6   ; CALL    #F649
f038 EB       ; EX      DE,HL
f039 CD01F7   ; CALL    #F701
f03c C9       ; RET     
              ;
f03d FDE5     ; PUSH    IY
f03f CDDBED   ; CALL    #EDDB
f042 21E0FF   ; LD      HL,#FFE0
f045 CDC7FA   ; CALL    #FAC7
f048 2805     ; JR      Z,#F04F
f04a CDADFB   ; CALL    #FBAD
f04d 18F0     ; JR      #F03F
f04f CD94FA   ; CALL    #FA94
f052 CD9EF6   ; CALL    #F69E
f055 03       ; INC     BC
f056 7C       ; LD      A,H
f057 B5       ; OR      L
f058 CAE1C3   ; JP      Z,#C3E1
f05b 4C       ; LD      C,H
f05c F6CD     ; OR      #CD
f05e 8B       ; ADC     A,E
f05f FA3ED5   ; JP      M,#D53E
f062 CD51F6   ; CALL    #F651
f065 CD40FB   ; CALL    #FB40
f068 CD94FA   ; CALL    #FA94
f06b CDD0F5   ; CALL    #F5D0
f06e 21E9FF   ; LD      HL,#FFE9
f071 CDC7FA   ; CALL    #FAC7
f074 3E13     ; LD      A,#13
f076 280C     ; JR      Z,#F084
f078 21E5FF   ; LD      HL,#FFE5
f07b CDC7FA   ; CALL    #FAC7
f07e CD56FD   ; CALL    #FD56
f081 47       ; LD      B,A
f082 3E1B     ; LD      A,#1B
f084 F5       ; PUSH    AF
f085 CD94FA   ; CALL    #FA94
f088 21DEFF   ; LD      HL,#FFDE
f08b CDC7FA   ; CALL    #FAC7
f08e CD56FD   ; CALL    #FD56
f091 48       ; LD      C,B
f092 CD9EF6   ; CALL    #F69E
f095 04       ; INC     B
f096 44       ; LD      B,H
f097 4D       ; LD      C,L
f098 D1       ; POP     DE
f099 E1       ; POP     HL
f09a F1       ; POP     AF
f09b FDE5     ; PUSH    IY
f09d F5       ; PUSH    AF
f09e CD9EF6   ; CALL    #F69E
f0a1 03       ; INC     BC
f0a2 73       ; LD      (HL),E
f0a3 23       ; INC     HL
f0a4 72       ; LD      (HL),D
f0a5 F1       ; POP     AF
f0a6 F5       ; PUSH    AF
f0a7 FE13     ; CP      #13
f0a9 3E60     ; LD      A,#60
f0ab 2801     ; JR      Z,#F0AE
f0ad 3C       ; INC     A
f0ae CD2AF6   ; CALL    #F62A
f0b1 3EDA     ; LD      A,#DA
f0b3 CD51F6   ; CALL    #F651
f0b6 FDE5     ; PUSH    IY
f0b8 CD4CF6   ; CALL    #F64C
f0bb CD9EF6   ; CALL    #F69E
f0be 02       ; LD      (BC),A
f0bf C5       ; PUSH    BC
f0c0 E5       ; PUSH    HL
f0c1 CDDBED   ; CALL    #EDDB
f0c4 CD9EF6   ; CALL    #F69E
f0c7 05       ; DEC     B
f0c8 E1       ; POP     HL
f0c9 C1       ; POP     BC
f0ca 56       ; LD      D,(HL)
f0cb 2B       ; DEC     HL
f0cc 5E       ; LD      E,(HL)
f0cd D1       ; POP     DE
f0ce F1       ; POP     AF
f0cf E1       ; POP     HL
f0d0 CD51F6   ; CALL    #F651
f0d3 3EC3     ; LD      A,#C3
f0d5 CD49F6   ; CALL    #F649
f0d8 EB       ; EX      DE,HL
f0d9 C301F7   ; JP      #F701
f0dc 0620     ; LD      B,#20
f0de CDCAF9   ; CALL    #F9CA
f0e1 CD4FFD   ; CALL    #FD4F
f0e4 49       ; LD      C,C
f0e5 2B       ; DEC     HL
f0e6 34       ; INC     (HL)
f0e7 4E       ; LD      C,(HL)
f0e8 0600     ; LD      B,#00
f0ea 37       ; SCF     
f0eb ED42     ; SBC     HL,BC
f0ed ED42     ; SBC     HL,BC
f0ef E5       ; PUSH    HL
f0f0 54       ; LD      D,H
f0f1 5D       ; LD      E,L
f0f2 1B       ; DEC     DE
f0f3 1B       ; DEC     DE
f0f4 CD21F3   ; CALL    #F321
f0f7 CD95F6   ; CALL    #F695
f0fa FDE5     ; PUSH    IY
f0fc D1       ; POP     DE
f0fd CD4CF6   ; CALL    #F64C
f100 E1       ; POP     HL
f101 72       ; LD      (HL),D
f102 2B       ; DEC     HL
f103 73       ; LD      (HL),E
f104 2B       ; DEC     HL
f105 56       ; LD      D,(HL)
f106 2B       ; DEC     HL
f107 5E       ; LD      E,(HL)
f108 13       ; INC     DE
f109 13       ; INC     DE
f10a 73       ; LD      (HL),E
f10b 23       ; INC     HL
f10c 72       ; LD      (HL),D
f10d C9       ; RET     
              ;
f10e CD9DFB   ; CALL    #FB9D
f111 DDE5     ; PUSH    IX
f113 CDEAFB   ; CALL    #FBEA
f116 DD7E00   ; LD      A,(IX+#00)
f119 DDE1     ; POP     IX
f11b 3834     ; JR      C,#F151
f11d CB49     ; BIT     1,C
f11f 2830     ; JR      Z,#F151
f121 FE3A     ; CP      #3A
f123 282C     ; JR      Z,#F151
f125 CDEAFB   ; CALL    #FBEA
f128 04       ; INC     B
f129 48       ; LD      C,B
f12a 0D       ; DEC     C
f12b 2809     ; JR      Z,#F136
f12d 7E       ; LD      A,(HL)
f12e 2B       ; DEC     HL
f12f FE27     ; CP      #27
f131 20F7     ; JR      NZ,#F12A
f133 2B       ; DEC     HL
f134 18F4     ; JR      #F12A
f136 3EEF     ; LD      A,#EF
f138 CD51F6   ; CALL    #F651
f13b 05       ; DEC     B
f13c 280D     ; JR      Z,#F14B
f13e 23       ; INC     HL
f13f 7E       ; LD      A,(HL)
f140 CD51F6   ; CALL    #F651
f143 7E       ; LD      A,(HL)
f144 FE27     ; CP      #27
f146 20F3     ; JR      NZ,#F13B
f148 23       ; INC     HL
f149 18F0     ; JR      #F13B
f14b AF       ; XOR     A
f14c CD51F6   ; CALL    #F651
f14f 1844     ; JR      #F195
f151 CD21F5   ; CALL    #F521
f154 CB49     ; BIT     1,C
f156 CCD6F5   ; CALL    Z,#F5D6
f159 CD4BFB   ; CALL    #FB4B
f15c 2018     ; JR      NZ,#F176
f15e C5       ; PUSH    BC
f15f CD94FA   ; CALL    #FA94
f162 C1       ; POP     BC
f163 0C       ; INC     C
f164 0D       ; DEC     C
f165 2028     ; JR      NZ,#F18F
f167 CD4BFB   ; CALL    #FB4B
f16a 201A     ; JR      NZ,#F186
f16c C5       ; PUSH    BC
f16d CDD0F5   ; CALL    #F5D0
f170 CD94FA   ; CALL    #FA94
f173 C1       ; POP     BC
f174 1819     ; JR      #F18F
f176 210000   ; LD      HL,#0000
f179 0C       ; INC     C
f17a 0D       ; DEC     C
f17b 2002     ; JR      NZ,#F17F
f17d 2E12     ; LD      L,#12
f17f CD47F6   ; CALL    #F647
f182 0C       ; INC     C
f183 0D       ; DEC     C
f184 2009     ; JR      NZ,#F18F
f186 CDD0F5   ; CALL    #F5D0
f189 21FFFF   ; LD      HL,#FFFF
f18c CD47F6   ; CALL    #F647
f18f 79       ; LD      A,C
f190 0657     ; LD      B,#57
f192 CD07FA   ; CALL    #FA07
f195 CD85FB   ; CALL    #FB85
f198 CA11F1   ; JP      Z,#F111
f19b C3A5FB   ; JP      #FBA5
f19e CD79FB   ; CALL    #FB79
f1a1 CC11F1   ; CALL    Z,#F111
f1a4 CD9EF6   ; CALL    #F69E
f1a7 02       ; LD      (BC),A
f1a8 DF6A     ; RST     #18; db #6A	SCAL CRLF
f1aa C9       ; RET     
              ;
f1ab 1EFF     ; LD      E,#FF
f1ad 1802     ; JR      #F1B1
f1af 1E00     ; LD      E,#00
f1b1 CD9DFB   ; CALL    #FB9D
f1b4 D5       ; PUSH    DE
f1b5 CD7BFA   ; CALL    #FA7B
f1b8 4F       ; LD      C,A
f1b9 CB49     ; BIT     1,C
f1bb 280C     ; JR      Z,#F1C9
f1bd CD99F6   ; CALL    #F699
f1c0 5C       ; LD      E,H
f1c1 3AAC0C   ; LD      A,(#0CAC)
f1c4 CD51F6   ; CALL    #F651
f1c7 1806     ; JR      #F1CF
f1c9 79       ; LD      A,C
f1ca 065A     ; LD      B,#5A
f1cc CD07FA   ; CALL    #FA07
f1cf D1       ; POP     DE
f1d0 1C       ; INC     E
f1d1 1D       ; DEC     E
f1d2 2806     ; JR      Z,#F1DA
f1d4 CD9EF6   ; CALL    #F69E
f1d7 02       ; LD      (BC),A
f1d8 DF6A     ; RST     #18; db #6A	SCAL CRLF
f1da CD85FB   ; CALL    #FB85
f1dd 28D5     ; JR      Z,#F1B4
f1df C3A5FB   ; JP      #FBA5
f1e2 CD9DFB   ; CALL    #FB9D
f1e5 0662     ; LD      B,#62
f1e7 1808     ; JR      #F1F1
f1e9 CD9DFB   ; CALL    #FB9D
f1ec CD9EFA   ; CALL    #FA9E
f1ef 065D     ; LD      B,#5D
f1f1 C5       ; PUSH    BC
f1f2 180C     ; JR      #F200
f1f4 065E     ; LD      B,#5E
f1f6 C5       ; PUSH    BC
f1f7 CD9DFB   ; CALL    #FB9D
f1fa CD9EFA   ; CALL    #FA9E
f1fd CD9EFA   ; CALL    #FA9E
f200 CD94FA   ; CALL    #FA94
f203 CDA5FB   ; CALL    #FBA5
f206 C1       ; POP     BC
f207 C377FA   ; JP      #FA77
f20a CD1BEF   ; CALL    #EF1B
f20d 200D     ; JR      NZ,#F21C
f20f CD9EF6   ; CALL    #F69E
f212 01EB21   ; LD      BC,#21EB
f215 010322   ; LD      BC,#2203
f218 AC       ; XOR     H
f219 0C       ; INC     C
f21a 1803     ; JR      #F21F
f21c CDF5F9   ; CALL    #F9F5
f21f 21E9FF   ; LD      HL,#FFE9
f222 CDC7FA   ; CALL    #FAC7
f225 CD56FD   ; CALL    #FD56
f228 50       ; LD      D,B
f229 FDE5     ; PUSH    IY
f22b E1       ; POP     HL
f22c 110B00   ; LD      DE,#000B
f22f 19       ; ADD     HL,DE
f230 CD47F6   ; CALL    #F647
f233 3E01     ; LD      A,#01
f235 CD51F6   ; CALL    #F651
f238 FDE5     ; PUSH    IY
f23a CD4CF6   ; CALL    #F64C
f23d CD9EF6   ; CALL    #F69E
f240 02       ; LD      (BC),A
f241 EDB0     ; LDIR    
f243 CD95F6   ; CALL    #F695
f246 FDE5     ; PUSH    IY
f248 CD4CF6   ; CALL    #F64C
f24b 210000   ; LD      HL,#0000
f24e 22A20C   ; LD      (#0CA2),HL
f251 3AAD0C   ; LD      A,(#0CAD)
f254 E603     ; AND     #03
f256 CB4F     ; BIT     1,A
f258 202F     ; JR      NZ,#F289
f25a 3D       ; DEC     A
f25b 2824     ; JR      Z,#F281
f25d CDE5FC   ; CALL    #FCE5
f260 CB49     ; BIT     1,C
f262 CD56FD   ; CALL    #FD56
f265 320C0D   ; LD      (#0D0C),A
f268 2804     ; JR      Z,#F26E
f26a CD26D6   ; CALL    #D626
f26d D9       ; EXX     
f26e D9       ; EXX     
f26f E5       ; PUSH    HL
f270 D5       ; PUSH    DE
f271 C5       ; PUSH    BC
f272 0603     ; LD      B,#03
f274 D1       ; POP     DE
f275 7A       ; LD      A,D
f276 CD51F6   ; CALL    #F651
f279 7B       ; LD      A,E
f27a CD51F6   ; CALL    #F651
f27d 10F5     ; DJNZ    #F274
f27f 182E     ; JR      #F2AF
f281 CD0BFD   ; CALL    #FD0B
f284 CD4CF6   ; CALL    #F64C
f287 1826     ; JR      #F2AF
f289 CB47     ; BIT     0,A
f28b 201C     ; JR      NZ,#F2A9
f28d CD26FD   ; CALL    #FD26
f290 3AAC0C   ; LD      A,(#0CAC)
f293 3D       ; DEC     A
f294 90       ; SUB     B
f295 F5       ; PUSH    AF
f296 CD4FFD   ; CALL    #FD4F
f299 66       ; LD      H,(HL)
f29a CDA6F7   ; CALL    #F7A6
f29d F1       ; POP     AF
f29e 280F     ; JR      Z,#F2AF
f2a0 47       ; LD      B,A
f2a1 AF       ; XOR     A
f2a2 CD51F6   ; CALL    #F651
f2a5 10FA     ; DJNZ    #F2A1
f2a7 1806     ; JR      #F2AF
f2a9 CD15FD   ; CALL    #FD15
f2ac CD51F6   ; CALL    #F651
f2af 2AA20C   ; LD      HL,(#0CA2)
f2b2 3AAC0C   ; LD      A,(#0CAC)
f2b5 5F       ; LD      E,A
f2b6 1D       ; DEC     E
f2b7 1600     ; LD      D,#00
f2b9 13       ; INC     DE
f2ba 19       ; ADD     HL,DE
f2bb 22A20C   ; LD      (#0CA2),HL
f2be 3D       ; DEC     A
f2bf 2809     ; JR      Z,#F2CA
f2c1 ED5BAA0C ; LD      DE,(#0CAA)
f2c5 CD32FD   ; CALL    #FD32
f2c8 3005     ; JR      NC,#F2CF
f2ca CD85FB   ; CALL    #FB85
f2cd 2882     ; JR      Z,#F251
f2cf E1       ; POP     HL
f2d0 CD01F7   ; CALL    #F701
f2d3 E1       ; POP     HL
f2d4 ED5BA20C ; LD      DE,(#0CA2)
f2d8 CD04F7   ; CALL    #F704
f2db C9       ; RET     
              ;
f2dc CD9DFB   ; CALL    #FB9D
f2df CDF5F9   ; CALL    #F9F5
f2e2 CD99F6   ; CALL    #F699
f2e5 66       ; LD      H,(HL)
f2e6 CD12F3   ; CALL    #F312
f2e9 1818     ; JR      #F303
f2eb CD9DFB   ; CALL    #FB9D
f2ee CDF5F9   ; CALL    #F9F5
f2f1 CD9EF6   ; CALL    #F69E
f2f4 01D5CD   ; LD      BC,#CDD5
f2f7 12       ; LD      (DE),A
f2f8 F3       ; DI      
f2f9 CDB5FB   ; CALL    #FBB5
f2fc CD8BFA   ; CALL    #FA8B
f2ff CD99F6   ; CALL    #F699
f302 67       ; LD      H,A
f303 F1       ; POP     AF
f304 CD51F6   ; CALL    #F651
f307 F1       ; POP     AF
f308 CD51F6   ; CALL    #F651
f30b E1       ; POP     HL
f30c CD4CF6   ; CALL    #F64C
f30f C3A5FB   ; JP      #FBA5
f312 2AAA0C   ; LD      HL,(#0CAA)
f315 E3       ; EX      (SP),HL
f316 3AAC0C   ; LD      A,(#0CAC)
f319 F5       ; PUSH    AF
f31a 3AAD0C   ; LD      A,(#0CAD)
f31d E603     ; AND     #03
f31f F5       ; PUSH    AF
f320 E9       ; JP      (HL)
f321 E5       ; PUSH    HL
f322 ED4B980C ; LD      BC,(#0C98)
f326 B7       ; OR      A
f327 ED42     ; SBC     HL,BC
f329 44       ; LD      B,H
f32a 4D       ; LD      C,L
f32b E1       ; POP     HL
f32c 78       ; LD      A,B
f32d B1       ; OR      C
f32e 2815     ; JR      Z,#F345
f330 ED52     ; SBC     HL,DE
f332 19       ; ADD     HL,DE
f333 380E     ; JR      C,#F343
f335 EB       ; EX      DE,HL
f336 ED42     ; SBC     HL,BC
f338 EB       ; EX      DE,HL
f339 ED42     ; SBC     HL,BC
f33b 23       ; INC     HL
f33c CD45F3   ; CALL    #F345
f33f 13       ; INC     DE
f340 EDB0     ; LDIR    
f342 C9       ; RET     
              ;
f343 EDB8     ; LDDR    
f345 ED53980C ; LD      (#0C98),DE
f349 C9       ; RET     
              ;
f34a CDDDF9   ; CALL    #F9DD
f34d CD91F9   ; CALL    #F991
f350 D8       ; RET     C
              ;
f351 CB7E     ; BIT     7,(HL)
f353 2B       ; DEC     HL
f354 28FB     ; JR      Z,#F351
f356 7E       ; LD      A,(HL)
f357 FE20     ; CP      #20
f359 20F2     ; JR      NZ,#F34D
f35b 2B       ; DEC     HL
f35c 56       ; LD      D,(HL)
f35d 2B       ; DEC     HL
f35e 46       ; LD      B,(HL)
f35f 2B       ; DEC     HL
f360 4E       ; LD      C,(HL)
f361 2B       ; DEC     HL
f362 14       ; INC     D
f363 15       ; DEC     D
f364 28E7     ; JR      Z,#F34D
f366 78       ; LD      A,B
f367 B1       ; OR      C
f368 2004     ; JR      NZ,#F36E
f36a CD5DFD   ; CALL    #FD5D
f36d 80       ; ADD     A,B
f36e D5       ; PUSH    DE
f36f 56       ; LD      D,(HL)
f370 2B       ; DEC     HL
f371 5E       ; LD      E,(HL)
f372 2B       ; DEC     HL
f373 E5       ; PUSH    HL
f374 EB       ; EX      DE,HL
f375 50       ; LD      D,B
f376 59       ; LD      E,C
f377 CD04F7   ; CALL    #F704
f37a E1       ; POP     HL
f37b D1       ; POP     DE
f37c 15       ; DEC     D
f37d 20EF     ; JR      NZ,#F36E
f37f 18CC     ; JR      #F34D
f381 2A980C   ; LD      HL,(#0C98)
f384 E5       ; PUSH    HL
f385 CDABF3   ; CALL    #F3AB
f388 C5       ; PUSH    BC
f389 CDCEF3   ; CALL    #F3CE
f38c C1       ; POP     BC
f38d D1       ; POP     DE
f38e C5       ; PUSH    BC
f38f CDAFF4   ; CALL    #F4AF
f392 1B       ; DEC     DE
f393 1B       ; DEC     DE
f394 C1       ; POP     BC
f395 0D       ; DEC     C
f396 20F6     ; JR      NZ,#F38E
f398 C9       ; RET     
              ;
f399 ED5B980C ; LD      DE,(#0C98)
f39d CDD9F4   ; CALL    #F4D9
f3a0 060A     ; LD      B,#0A
f3a2 CD02F5   ; CALL    #F502
f3a5 10FB     ; DJNZ    #F3A2
f3a7 EB       ; EX      DE,HL
f3a8 C317F5   ; JP      #F517
f3ab 0E00     ; LD      C,#00
f3ad C5       ; PUSH    BC
f3ae CD99F3   ; CALL    #F399
f3b1 3AB30C   ; LD      A,(#0CB3)
f3b4 3C       ; INC     A
f3b5 32B30C   ; LD      (#0CB3),A
f3b8 C1       ; POP     BC
f3b9 0C       ; INC     C
f3ba CD85FB   ; CALL    #FB85
f3bd 28EE     ; JR      Z,#F3AD
f3bf C9       ; RET     
              ;
f3c0 CDBDFB   ; CALL    #FBBD
f3c3 210100   ; LD      HL,#0001
f3c6 22AA0C   ; LD      (#0CAA),HL
f3c9 3E00     ; LD      A,#00
f3cb 47       ; LD      B,A
f3cc 1866     ; JR      #F434
f3ce CDBDFB   ; CALL    #FBBD
f3d1 210100   ; LD      HL,#0001
f3d4 22AA0C   ; LD      (#0CAA),HL
f3d7 210CFF   ; LD      HL,#FF0C
f3da CDC7FA   ; CALL    #FAC7
f3dd 3E00     ; LD      A,#00
f3df 47       ; LD      B,A
f3e0 2052     ; JR      NZ,#F434
f3e2 CD8DFB   ; CALL    #FB8D
f3e5 FD22A70C ; LD      (#0CA7),IY
f3e9 CD4CF6   ; CALL    #F64C
f3ec C5       ; PUSH    BC
f3ed CD0BFD   ; CALL    #FD0B
f3f0 CD4CF6   ; CALL    #F64C
f3f3 E5       ; PUSH    HL
f3f4 2111FF   ; LD      HL,#FF11
f3f7 CDC7FA   ; CALL    #FAC7
f3fa CD56FD   ; CALL    #FD56
f3fd 10CD     ; DJNZ    #F3CC
f3ff 0B       ; DEC     BC
f400 FDD1     ; POP     DE
f402 CD77D9   ; CALL    #D977
f405 CD4FFD   ; CALL    #FD4F
f408 20B7     ; JR      NZ,#F3C1
f40a ED52     ; SBC     HL,DE
f40c 23       ; INC     HL
f40d CD4CF6   ; CALL    #F64C
f410 ED5BAA0C ; LD      DE,(#0CAA)
f414 CD37FD   ; CALL    #FD37
f417 CD4FFD   ; CALL    #FD4F
f41a 2122AA   ; LD      HL,#AA22
f41d 0C       ; INC     C
f41e C1       ; POP     BC
f41f 04       ; INC     B
f420 CD85FB   ; CALL    #FB85
f423 28C7     ; JR      Z,#F3EC
f425 CD95FB   ; CALL    #FB95
f428 2113FF   ; LD      HL,#FF13
f42b CDC7FA   ; CALL    #FAC7
f42e CD56FD   ; CALL    #FD56
f431 223E01   ; LD      (#013E),HL
f434 32B00C   ; LD      (#0CB0),A
f437 78       ; LD      A,B
f438 32A90C   ; LD      (#0CA9),A
f43b 2115FF   ; LD      HL,#FF15
f43e 0602     ; LD      B,#02
f440 CDB1FA   ; CALL    #FAB1
f443 CD56FD   ; CALL    #FD56
f446 25       ; DEC     H
f447 4E       ; LD      C,(HL)
f448 23       ; INC     HL
f449 5E       ; LD      E,(HL)
f44a 79       ; LD      A,C
f44b FE02     ; CP      #02
f44d 2013     ; JR      NZ,#F462
f44f CD8DFB   ; CALL    #FB8D
f452 CD15FD   ; CALL    #FD15
f455 B7       ; OR      A
f456 2004     ; JR      NZ,#F45C
f458 CD5DFD   ; CALL    #FD5D
f45b 24       ; INC     H
f45c 5D       ; LD      E,L
f45d CD95FB   ; CALL    #FB95
f460 0E02     ; LD      C,#02
f462 1600     ; LD      D,#00
f464 13       ; INC     DE
f465 7B       ; LD      A,E
f466 32AC0C   ; LD      (#0CAC),A
f469 3AB10C   ; LD      A,(#0CB1)
f46c B7       ; OR      A
f46d 2802     ; JR      Z,#F471
f46f CBD1     ; SET     2,C
f471 3AB00C   ; LD      A,(#0CB0)
f474 B7       ; OR      A
f475 280F     ; JR      Z,#F486
f477 CBD9     ; SET     3,C
f479 2AA70C   ; LD      HL,(#0CA7)
f47c D5       ; PUSH    DE
f47d 53       ; LD      D,E
f47e 3AA90C   ; LD      A,(#0CA9)
f481 5F       ; LD      E,A
f482 CD04F7   ; CALL    #F704
f485 D1       ; POP     DE
f486 C5       ; PUSH    BC
f487 2AAA0C   ; LD      HL,(#0CAA)
f48a CD37FD   ; CALL    #FD37
f48d CD4FFD   ; CALL    #FD4F
f490 21C122   ; LD      HL,#22C1
f493 AA       ; XOR     D
f494 0C       ; INC     C
f495 79       ; LD      A,C
f496 32AD0C   ; LD      (#0CAD),A
f499 3A9E0C   ; LD      A,(#0C9E)
f49c 32A60C   ; LD      (#0CA6),A
f49f C9       ; RET     
              ;
f4a0 1A       ; LD      A,(DE)
f4a1 1B       ; DEC     DE
f4a2 17       ; RLA     
f4a3 30FB     ; JR      NC,#F4A0
f4a5 C9       ; RET     
              ;
f4a6 21AD0C   ; LD      HL,#0CAD
f4a9 010A00   ; LD      BC,#000A
f4ac EDB8     ; LDDR    
f4ae C9       ; RET     
              ;
f4af CDA0F4   ; CALL    #F4A0
f4b2 2A940C   ; LD      HL,(#0C94) ; PMTP High RAM addr the executing program can read
f4b5 E5       ; PUSH    HL
f4b6 22A40C   ; LD      (#0CA4),HL
f4b9 CDA6F4   ; CALL    #F4A6
f4bc C1       ; POP     BC
f4bd 2AAA0C   ; LD      HL,(#0CAA)
f4c0 3AAD0C   ; LD      A,(#0CAD)
f4c3 CB57     ; BIT     2,A
f4c5 2803     ; JR      Z,#F4CA
f4c7 210200   ; LD      HL,#0002
f4ca 09       ; ADD     HL,BC
f4cb 22940C   ; LD      (#0C94),HL ; PMTP High RAM addr the executing program can read
f4ce C9       ; RET     
              ;
f4cf 2A980C   ; LD      HL,(#0C98)
f4d2 E5       ; PUSH    HL
f4d3 CDD9F4   ; CALL    #F4D9
f4d6 E1       ; POP     HL
f4d7 183A     ; JR      #F513
f4d9 DD7E00   ; LD      A,(IX+#00)
f4dc CDC5FB   ; CALL    #FBC5
f4df 3804     ; JR      C,#F4E5
f4e1 CD5DFD   ; CALL    #FD5D
f4e4 23       ; INC     HL
f4e5 CD02F5   ; CALL    #F502
f4e8 CDF7FD   ; CALL    #FDF7
f4eb DD7E00   ; LD      A,(IX+#00)
f4ee CDDBFB   ; CALL    #FBDB
f4f1 38F2     ; JR      C,#F4E5
f4f3 23       ; INC     HL
f4f4 CBFE     ; SET     7,(HL)
f4f6 2B       ; DEC     HL
f4f7 C301FB   ; JP      #FB01
f4fa FDE5     ; PUSH    IY
f4fc D1       ; POP     DE
f4fd 7A       ; LD      A,D
f4fe CD02F5   ; CALL    #F502
f501 7B       ; LD      A,E
f502 2A980C   ; LD      HL,(#0C98)
f505 77       ; LD      (HL),A
f506 D5       ; PUSH    DE
f507 ED5B820C ; LD      DE,(#0C82)	; 0c82-0c83	EOFP	end address sourcetext
f50b 37       ; SCF     
f50c ED52     ; SBC     HL,DE
f50e 19       ; ADD     HL,DE
f50f D1       ; POP     DE
f510 DAEEFD   ; JP      C,#FDEE
f513 22980C   ; LD      (#0C98),HL
f516 C9       ; RET     
              ;
f517 ED5B980C ; LD      DE,(#0C98)
f51b B7       ; OR      A
f51c ED52     ; SBC     HL,DE
f51e EB       ; EX      DE,HL
f51f 18DC     ; JR      #F4FD
f521 CD63F5   ; CALL    #F563
f524 210FFE   ; LD      HL,#FE0F
f527 0601     ; LD      B,#01
f529 CDB1FA   ; CALL    #FAB1
f52c C0       ; RET     NZ
              ;
f52d 7E       ; LD      A,(HL)
f52e F5       ; PUSH    AF
f52f C5       ; PUSH    BC
f530 CB49     ; BIT     1,C
f532 CCC3F5   ; CALL    Z,#F5C3
f535 CD63F5   ; CALL    #F563
f538 D1       ; POP     DE
f539 CB4B     ; BIT     1,E
f53b 2813     ; JR      Z,#F550
f53d CB49     ; BIT     1,C
f53f 2004     ; JR      NZ,#F545
f541 CD5DFD   ; CALL    #FD5D
f544 63       ; LD      H,E
f545 CD99F6   ; CALL    #F699
f548 53       ; LD      D,E
f549 F1       ; POP     AF
f54a CD51F6   ; CALL    #F651
f54d 0E01     ; LD      C,#01
f54f C9       ; RET     
              ;
f550 CDE2F5   ; CALL    #F5E2
f553 CB41     ; BIT     0,C
f555 2006     ; JR      NZ,#F55D
f557 CD99F6   ; CALL    #F699
f55a 3A18EC   ; LD      A,(#EC18)
f55d CD99F6   ; CALL    #F699
f560 4C       ; LD      C,H
f561 18E6     ; JR      #F549
f563 CDA2F5   ; CALL    #F5A2
f566 211FFE   ; LD      HL,#FE1F
f569 0603     ; LD      B,#03
f56b CDB1FA   ; CALL    #FAB1
f56e C0       ; RET     NZ
              ;
f56f 56       ; LD      D,(HL)
f570 23       ; INC     HL
f571 E5       ; PUSH    HL
f572 CDC3F5   ; CALL    #F5C3
f575 59       ; LD      E,C
f576 D5       ; PUSH    DE
f577 CDA2F5   ; CALL    #F5A2
f57a D1       ; POP     DE
f57b CDE2F5   ; CALL    #F5E2
f57e E1       ; POP     HL
f57f CB41     ; BIT     0,C
f581 281A     ; JR      Z,#F59D
f583 7E       ; LD      A,(HL)
f584 FEC8     ; CP      #C8
f586 2007     ; JR      NZ,#F58F
f588 CD9EF6   ; CALL    #F69E
f58b 011918   ; LD      BC,#1819
f58e D7       ; RST     #10		RCAL
f58f FEC9     ; CP      #C9
f591 200A     ; JR      NZ,#F59D
f593 CD9EF6   ; CALL    #F69E
f596 04       ; INC     B
f597 EB       ; EX      DE,HL
f598 B7       ; OR      A
f599 ED52     ; SBC     HL,DE
f59b 18C9     ; JR      #F566
f59d CD23F6   ; CALL    #F623
f5a0 18C4     ; JR      #F566
f5a2 CD3DF7   ; CALL    #F73D
f5a5 2134FE   ; LD      HL,#FE34
f5a8 0603     ; LD      B,#03
f5aa CDB1FA   ; CALL    #FAB1
f5ad C0       ; RET     NZ
              ;
f5ae 56       ; LD      D,(HL)
f5af 23       ; INC     HL
f5b0 E5       ; PUSH    HL
f5b1 CDC3F5   ; CALL    #F5C3
f5b4 59       ; LD      E,C
f5b5 D5       ; PUSH    DE
f5b6 CD3DF7   ; CALL    #F73D
f5b9 D1       ; POP     DE
f5ba CDE2F5   ; CALL    #F5E2
f5bd E1       ; POP     HL
f5be CD23F6   ; CALL    #F623
f5c1 18E2     ; JR      #F5A5
f5c3 CD2FF7   ; CALL    #F72F
f5c6 14       ; INC     D
f5c7 15       ; DEC     D
f5c8 200C     ; JR      NZ,#F5D6
f5ca 79       ; LD      A,C
f5cb 3D       ; DEC     A
f5cc CD56FD   ; CALL    #FD56
f5cf 61       ; LD      H,C
f5d0 CD9EF6   ; CALL    #F69E
f5d3 01E5C9   ; LD      BC,#C9E5
f5d6 CB41     ; BIT     0,C
f5d8 20F6     ; JR      NZ,#F5D0
f5da CD9EF6   ; CALL    #F69E
f5dd 03       ; INC     BC
f5de C5       ; PUSH    BC
f5df D5       ; PUSH    DE
f5e0 E5       ; PUSH    HL
f5e1 C9       ; RET     
              ;
f5e2 CD2FF7   ; CALL    #F72F
f5e5 CB4A     ; BIT     1,D
f5e7 2004     ; JR      NZ,#F5ED
f5e9 CB43     ; BIT     0,E
f5eb 2024     ; JR      NZ,#F611
f5ed CB41     ; BIT     0,C
f5ef 2804     ; JR      Z,#F5F5
f5f1 CD99F6   ; CALL    #F699
f5f4 3C       ; INC     A
f5f5 CB43     ; BIT     0,E
f5f7 280D     ; JR      Z,#F606
f5f9 CD9EF6   ; CALL    #F69E
f5fc 02       ; LD      (BC),A
f5fd D9       ; EXX     
f5fe E1       ; POP     HL
f5ff CD99F6   ; CALL    #F699
f602 3C       ; INC     A
f603 0E00     ; LD      C,#00
f605 C9       ; RET     
              ;
f606 CD9EF6   ; CALL    #F69E
f609 04       ; INC     B
f60a D9       ; EXX     
f60b E1       ; POP     HL
f60c D1       ; POP     DE
f60d C1       ; POP     BC
f60e 0E00     ; LD      C,#00
f610 C9       ; RET     
              ;
f611 CB41     ; BIT     0,C
f613 2008     ; JR      NZ,#F61D
f615 14       ; INC     D
f616 15       ; DEC     D
f617 20E0     ; JR      NZ,#F5F9
f619 CD5DFD   ; CALL    #FD5D
f61c 61       ; LD      H,C
f61d CD9EF6   ; CALL    #F69E
f620 01D1C9   ; LD      BC,#C9D1
f623 CB41     ; BIT     0,C
f625 2001     ; JR      NZ,#F628
f627 23       ; INC     HL
f628 7E       ; LD      A,(HL)
f629 23       ; INC     HL
f62a F5       ; PUSH    AF
f62b 3ECD     ; LD      A,#CD
f62d CD51F6   ; CALL    #F651
f630 F1       ; POP     AF
f631 E5       ; PUSH    HL
f632 D5       ; PUSH    DE
f633 5F       ; LD      E,A
f634 1600     ; LD      D,#00
f636 2180E9   ; LD      HL,#E980	; Function Addr Table
f639 19       ; ADD     HL,DE
f63a 19       ; ADD     HL,DE
f63b 7E       ; LD      A,(HL)
f63c CD51F6   ; CALL    #F651
f63f 23       ; INC     HL
f640 7E       ; LD      A,(HL)
f641 CD51F6   ; CALL    #F651
f644 D1       ; POP     DE
f645 E1       ; POP     HL
f646 C9       ; RET     
              ;
f647 3E21     ; LD      A,#21
f649 CD51F6   ; CALL    #F651
f64c 7D       ; LD      A,L
f64d CD51F6   ; CALL    #F651
f650 7C       ; LD      A,H
f651 08       ; EX      AF,AF'
f652 3A900C   ; LD      A,(#0C90)	; R=Run, C=Compile, T=Tape
f655 FE43     ; CP      #43		"C"
f657 2809     ; JR      Z,#F662
f659 FE46     ; CP      #46		"F"
f65b 2809     ; JR      Z,#F666
f65d CDACF6   ; CALL    #F6AC
f660 1804     ; JR      #F666
f662 08       ; EX      AF,AF'
f663 FD7700   ; LD      (IY+#00),A
f666 FD23     ; INC     IY
f668 3A900C   ; LD      A,(#0C90)	; R=Run, C=Compile, T=Tape
f66b FE43     ; CP      #43		"C"
f66d 200F     ; JR      NZ,#F67E
f66f D9       ; EXX     
f670 2A980C   ; LD      HL,(#0C98)
f673 FDE5     ; PUSH    IY
f675 D1       ; POP     DE
f676 37       ; SCF     
f677 ED52     ; SBC     HL,DE
f679 D9       ; EXX     
f67a D0       ; RET     NC
              ;
f67b C3EEFD   ; JP      #FDEE
f67e FE46     ; CP      #46		
f680 2011     ; JR      NZ,#F693
f682 D9       ; EXX     
f683 2ABE0C   ; LD      HL,(#0CBE)
f686 FDE5     ; PUSH    IY
f688 D1       ; POP     DE
f689 B7       ; OR      A
f68a ED52     ; SBC     HL,DE
f68c D9       ; EXX     
f68d 2004     ; JR      NZ,#F693
f68f CD5DFD   ; CALL    #FD5D
f692 00       ; NOP     
f693 B7       ; OR      A
f694 C9       ; RET     
              ;
f695 3EC3     ; LD      A,#C3
f697 18B8     ; JR      #F651

f699 E1       ; POP     HL	
f69a CD28F6   ; CALL    #F628
f69d E9       ; JP      (HL)
f69e E1       ; POP     HL
f69f C5       ; PUSH    BC
f6a0 46       ; LD      B,(HL)
f6a1 23       ; INC     HL
f6a2 7E       ; LD      A,(HL)
f6a3 23       ; INC     HL
f6a4 CD51F6   ; CALL    #F651
f6a7 10F9     ; DJNZ    #F6A2
f6a9 C1       ; POP     BC
f6aa E9       ; JP      (HL)
f6ab 08       ; EX      AF,AF'
f6ac E5       ; PUSH    HL
f6ad 3A910C   ; LD      A,(#0C91)
f6b0 FE40     ; CP      #40
f6b2 CCC2F6   ; CALL    Z,#F6C2	; graba bloque de codigo generado en cinta 
f6b5 21C00C   ; LD      HL,#0CC0
f6b8 85       ; ADD     A,L
f6b9 6F       ; LD      L,A
f6ba 08       ; EX      AF,AF'
f6bb 77       ; LD      (HL),A
f6bc 21910C   ; LD      HL,#0C91
f6bf 34       ; INC     (HL)
f6c0 E1       ; POP     HL
f6c1 C9       ; RET     
              ;
; graba bloque de codigo generado en cinta 

f6c2 3A910C   ; LD      A,(#0C91)	; A=bytes de codigo a grabar 
f6c5 B7       ; OR      A
f6c6 C8       ; RET     Z           	; no hay cod que generar -> salir
f6c7 D9       ; EXX     
f6c8 57       ; LD      D,A
f6c9 AF       ; XOR     A
f6ca 0605     ; LD      B,#05		; genera header de bloque de codigo generado con comando TAPE
f6cc DF6F     ; RST     #18; db#6F	SCAL SRLX      Output to serial output port.
f6ce 3EFF     ; LD      A,#FF		escribe en cinta 00 FF FF FF FF 
f6d0 10FA     ; DJNZ    #F6CC
f6d2 48       ; LD      C,B		; B=C=0
f6d3 42       ; LD      B,D		; B=D=numero de bytes a escribir en cinta
f6d4 2A920C   ; LD      HL,(#0C92) ; (#0c92) = addr del cod generado
f6d7 7D       ; LD      A,L
f6d8 DF6F     ; RST     #18; db#6F	SCAL SRLX      Output to serial output port.
f6da 7C       ; LD      A,H
f6db DF6F     ; RST     #18; db#6F	SCAL SRLX      Output to serial output port.
					escribe en cinta (#0c92) = addr del cod generado
f6dd 7A       ; LD      A,D
f6de DF6F     ; RST     #18; db#6F	SCAL SRLX      Output to serial output port.
					escribe en cinta = len del bloque (00=256 bytes)
f6e0 5F       ; LD      E,A
f6e1 DF6F     ; RST     #18; db#6F	SCAL SRLX      Output to serial output port.
					repite el dato de len como numero de bloque (para que no sea 00 que es el fin de la carga de cinta)
f6e3 DF6c     ; RST     #18; db#6c	SCAL TX1       Output HL in ASCII, then a space, then DE
					muestra en pantalla HL=addr del cod generado DD=len cog generado
f6e5 79       ; LD      A,C
f6e6 DF6F     ; RST     #18; db#6F	SCAL SRLX      Output to serial output port.
					escribrr en cinta el chechsum generado por TX1
f6e8 21C00C   ; LD      HL,#0CC0
f6eb DF6D     ; RST     #18 ; db #6D ;  SCAL SOUT        
					Send a B bytes from (HL directly to the serial output port
f6ed 79       ; LD      A,C
f6ee 060B     ; LD      B,#0B
f6f0 DF6F     ; RST     #18; db#6F	SCAL SRLX      Output to serial output port.
					escribe checksum de datos y luego 10 bytes 00
f6f2 AF       ; XOR     A
f6f3 10FB     ; DJNZ    #F6F0

f6f5 32910C   ; LD      (#0C91),A	A=0
f6f8 FD22920C ; LD      (#0C92),IY
f6fc DF6A     ; RST     #18 ; db #6A  ;    SCAL  CRLF       Output a Carriage return/line feed
f6fe D9       ; EXX     
f6ff AF       ; XOR     A
f700 C9       ; RET     
              ;
f701 FDE5     ; PUSH    IY
f703 D1       ; POP     DE
f704 3A900C   ; LD      A,(#0C90)	; R=Run, C=Compile, T=Tape
f707 FE54     ; CP      #54		"T"
f709 2807     ; JR      Z,#F712
f70b FE43     ; CP      #43		"C"
f70d C0       ; RET     NZ
              ;
f70e 73       ; LD      (HL),E
f70f 23       ; INC     HL
f710 72       ; LD      (HL),D
f711 C9       ; RET     
              ;
f712 CDC2F6   ; CALL    #F6C2	; graba bloque de codigo generado en cinta 
f715 22920C   ; LD      (#0C92),HL
f718 7B       ; LD      A,E
f719 CDABF6   ; CALL    #F6AB
f71c 7A       ; LD      A,D
f71d CDABF6   ; CALL    #F6AB
f720 18A0     ; JR      #F6C2	; graba bloque de codigo generado en cinta 
f722 11FDFF   ; LD      DE,#FFFD
f725 FD19     ; ADD     IY,DE
f727 3A900C   ; LD      A,(#0C90)	; R=Run, C=Compile, T=Tape
f72a FE54     ; CP      #54		"T"
f72c C0       ; RET     NZ
              ;
f72d 1893     ; JR      #F6C2	; graba bloque de codigo generado en cinta 
f72f CB49     ; BIT     1,C
f731 C8       ; RET     Z
              ;
f732 CD5DFD   ; CALL    #FD5D
f735 60       ; LD      H,B
f736 CB49     ; BIT     1,C
f738 C0       ; RET     NZ
              ;
f739 CD5DFD   ; CALL    #FD5D
f73c 62       ; LD      H,D
f73d 2157FE   ; LD      HL,#FE57
f740 CDC7FA   ; CALL    #FAC7
f743 200B     ; JR      NZ,#F750
f745 CD50F7   ; CALL    #F750
f748 CD97FA   ; CALL    #FA97
f74b CD99F6   ; CALL    #F699
f74e 43       ; LD      B,E
f74f C9       ; RET     
              ;
f750 3A9F0C   ; LD      A,(#0C9F)
f753 F5       ; PUSH    AF
f754 CDD7FC   ; CALL    #FCD7
f757 329F0C   ; LD      (#0C9F),A
f75a CD71F7   ; CALL    #F771
f75d 3A9F0C   ; LD      A,(#0C9F)
f760 B7       ; OR      A
f761 2009     ; JR      NZ,#F76C
f763 CD2FF7   ; CALL    #F72F
f766 215AFE   ; LD      HL,#FE5A
f769 CD23F6   ; CALL    #F623
f76c F1       ; POP     AF
f76d 329F0C   ; LD      (#0C9F),A
f770 C9       ; RET     
              ;
f771 CDEAFB   ; CALL    #FBEA
f774 3840     ; JR      C,#F7B6
f776 3A9F0C   ; LD      A,(#0C9F)
f779 B7       ; OR      A
f77a 2008     ; JR      NZ,#F784
f77c CDF2FC   ; CALL    #FCF2
f77f AF       ; XOR     A
f780 3D       ; DEC     A
f781 329F0C   ; LD      (#0C9F),A
f784 79       ; LD      A,C
f785 B7       ; OR      A
f786 2014     ; JR      NZ,#F79C
f788 D9       ; EXX     
f789 E5       ; PUSH    HL
f78a D5       ; PUSH    DE
f78b C5       ; PUSH    BC
f78c 01F103   ; LD      BC,#03F1
f78f 79       ; LD      A,C
f790 C610     ; ADD     A,#10
f792 4F       ; LD      C,A
f793 E1       ; POP     HL
f794 CD49F6   ; CALL    #F649
f797 10F6     ; DJNZ    #F78F
f799 0E00     ; LD      C,#00
f79b C9       ; RET     
              ;
f79c 3D       ; DEC     A
f79d CA47F6   ; JP      Z,#F647
f7a0 E5       ; PUSH    HL
f7a1 CD99F6   ; CALL    #F699
f7a4 54       ; LD      D,H
f7a5 E1       ; POP     HL
f7a6 78       ; LD      A,B
f7a7 04       ; INC     B
f7a8 CD51F6   ; CALL    #F651
f7ab 05       ; DEC     B
f7ac C8       ; RET     Z
              ;
f7ad 7E       ; LD      A,(HL)
f7ae 2B       ; DEC     HL
f7af FE27     ; CP      #27
f7b1 20F5     ; JR      NZ,#F7A8
f7b3 2B       ; DEC     HL
f7b4 18F2     ; JR      #F7A8
f7b6 0618     ; LD      B,#18
f7b8 CDCAF9   ; CALL    #F9CA
f7bb 3824     ; JR      C,#F7E1
f7bd C5       ; PUSH    BC
f7be E5       ; PUSH    HL
f7bf CD99F6   ; CALL    #F699
f7c2 2C       ; INC     L
f7c3 E1       ; POP     HL
f7c4 2B       ; DEC     HL
f7c5 5E       ; LD      E,(HL)
f7c6 1D       ; DEC     E
f7c7 1600     ; LD      D,#00
f7c9 13       ; INC     DE
f7ca EB       ; EX      DE,HL
f7cb CD4CF6   ; CALL    #F64C
f7ce EB       ; EX      DE,HL
f7cf CD51EE   ; CALL    #EE51
f7d2 3EEB     ; LD      A,#EB
f7d4 CD51F6   ; CALL    #F651
f7d7 C1       ; POP     BC
f7d8 79       ; LD      A,C
f7d9 E603     ; AND     #03
f7db 4F       ; LD      C,A
f7dc C600     ; ADD     A,#00
f7de C32AF6   ; JP      #F62A
f7e1 CDE4F9   ; CALL    #F9E4
f7e4 380C     ; JR      C,#F7F2
f7e6 0606     ; LD      B,#06
f7e8 CD0DFA   ; CALL    #FA0D
f7eb 3AAD0C   ; LD      A,(#0CAD)
f7ee E603     ; AND     #03
f7f0 4F       ; LD      C,A
f7f1 C9       ; RET     
              ;
f7f2 CD1FFA   ; CALL    #FA1F
f7f5 3813     ; JR      C,#F80A
f7f7 0600     ; LD      B,#00
f7f9 CD04FA   ; CALL    #FA04
f7fc 18ED     ; JR      #F7EB
f7fe E5       ; PUSH    HL
f7ff CD9DFB   ; CALL    #FB9D
f802 CD0FF8   ; CALL    #F80F
f805 CD2FF7   ; CALL    #F72F
f808 E1       ; POP     HL
f809 C9       ; RET     
              ;
f80a CD79FB   ; CALL    #FB79
f80d 2006     ; JR      NZ,#F815
f80f CD21F5   ; CALL    #F521
f812 C3A5FB   ; JP      #FBA5
f815 215CFE   ; LD      HL,#FE5C
f818 0601     ; LD      B,#01
f81a CDB1FA   ; CALL    #FAB1
f81d 2011     ; JR      NZ,#F830
f81f CDFEF7   ; CALL    #F7FE
f822 CB41     ; BIT     0,C
f824 2806     ; JR      Z,#F82C
f826 E5       ; PUSH    HL
f827 CD99F6   ; CALL    #F699
f82a 3C       ; INC     A
f82b E1       ; POP     HL
f82c 0E00     ; LD      C,#00
f82e 1832     ; JR      #F862
f830 2181FE   ; LD      HL,#FE81
f833 0602     ; LD      B,#02
f835 CDB1FA   ; CALL    #FAB1
f838 2016     ; JR      NZ,#F850
f83a CDFEF7   ; CALL    #F7FE
f83d CB41     ; BIT     0,C
f83f 200C     ; JR      NZ,#F84D
f841 7E       ; LD      A,(HL)
f842 FE45     ; CP      #45
f844 2007     ; JR      NZ,#F84D
f846 CD9EF6   ; CALL    #F69E
f849 02       ; LD      (BC),A
f84a CBB8     ; RES     7,B
f84c C9       ; RET     
              ;
f84d C323F6   ; JP      #F623
f850 218CFE   ; LD      HL,#FE8C
f853 0601     ; LD      B,#01
f855 CDB1FA   ; CALL    #FAB1
f858 200B     ; JR      NZ,#F865
f85a CDFEF7   ; CALL    #F7FE
f85d CB41     ; BIT     0,C
f85f C0       ; RET     NZ
              ;
f860 0E01     ; LD      C,#01
f862 C328F6   ; JP      #F628
f865 2199FE   ; LD      HL,#FE99
f868 CDC7FA   ; CALL    #FAC7
f86b 200B     ; JR      NZ,#F878
f86d CDFEF7   ; CALL    #F7FE
f870 CD97FA   ; CALL    #FA97
f873 CD99F6   ; CALL    #F699
f876 49       ; LD      C,C
f877 C9       ; RET     
              ;
f878 219CFE   ; LD      HL,#FE9C
f87b 0601     ; LD      B,#01
f87d CDB1FA   ; CALL    #FAB1
f880 200A     ; JR      NZ,#F88C
f882 CDFEF7   ; CALL    #F7FE
f885 CD97FA   ; CALL    #FA97
f888 7E       ; LD      A,(HL)
f889 C351F6   ; JP      #F651
f88c 21A7FE   ; LD      HL,#FEA7
f88f 0601     ; LD      B,#01
f891 CDB1FA   ; CALL    #FAB1
f894 200A     ; JR      NZ,#F8A0
f896 E5       ; PUSH    HL
f897 CD0AF8   ; CALL    #F80A
f89a CD36F7   ; CALL    #F736
f89d E1       ; POP     HL
f89e 18C0     ; JR      #F860
f8a0 21B3FE   ; LD      HL,#FEB3
f8a3 CDC7FA   ; CALL    #FAC7
f8a6 200D     ; JR      NZ,#F8B5
f8a8 CDFEF7   ; CALL    #F7FE
f8ab CD97FA   ; CALL    #FA97
f8ae 0E02     ; LD      C,#02
f8b0 CD99F6   ; CALL    #F699
f8b3 52       ; LD      D,D
f8b4 C9       ; RET     
              ;
f8b5 21B6FE   ; LD      HL,#FEB6
f8b8 CDC7FA   ; CALL    #FAC7
f8bb 201D     ; JR      NZ,#F8DA
f8bd CD9DFB   ; CALL    #FB9D
f8c0 0600     ; LD      B,#00
f8c2 C5       ; PUSH    BC
f8c3 CDA7FA   ; CALL    #FAA7
f8c6 C1       ; POP     BC
f8c7 04       ; INC     B
f8c8 CD85FB   ; CALL    #FB85
f8cb 28F5     ; JR      Z,#F8C2
f8cd CD99F6   ; CALL    #F699
f8d0 4E       ; LD      C,(HL)
f8d1 78       ; LD      A,B
f8d2 CD51F6   ; CALL    #F651
f8d5 0E02     ; LD      C,#02
f8d7 C3A5FB   ; JP      #FBA5
f8da 21BCFE   ; LD      HL,#FEBC
f8dd CDC7FA   ; CALL    #FAC7
f8e0 2026     ; JR      NZ,#F908
f8e2 CD9DFB   ; CALL    #FB9D
f8e5 CDA7FA   ; CALL    #FAA7
f8e8 CDB5FB   ; CALL    #FBB5
f8eb CD94FA   ; CALL    #FA94
f8ee CDD0F5   ; CALL    #F5D0
f8f1 CD85FB   ; CALL    #FB85
f8f4 2005     ; JR      NZ,#F8FB
f8f6 CD94FA   ; CALL    #FA94
f8f9 1807     ; JR      #F902
f8fb CD9EF6   ; CALL    #F69E
f8fe 03       ; INC     BC
f8ff 21FF00   ; LD      HL,#00FF
f902 CD99F6   ; CALL    #F699
f905 4F       ; LD      C,A
f906 18CD     ; JR      #F8D5
f908 21BFFE   ; LD      HL,#FEBF
f90b 0601     ; LD      B,#01
f90d CDB1FA   ; CALL    #FAB1
f910 2013     ; JR      NZ,#F925
f912 E5       ; PUSH    HL
f913 CD9DFB   ; CALL    #FB9D
f916 CDA7FA   ; CALL    #FAA7
f919 CDB5FB   ; CALL    #FBB5
f91c CD94FA   ; CALL    #FA94
f91f E1       ; POP     HL
f920 CD28F6   ; CALL    #F628
f923 18B0     ; JR      #F8D5
f925 21CBFE   ; LD      HL,#FECB
f928 CDC7FA   ; CALL    #FAC7
f92b 2010     ; JR      NZ,#F93D
f92d CD9DFB   ; CALL    #FB9D
f930 CD7BFA   ; CALL    #FA7B
f933 CD9EF6   ; CALL    #F69E
f936 01EB0E   ; LD      BC,#0EEB
f939 01C3A5   ; LD      BC,#A5C3
f93c FB       ; EI      
f93d 21CFFE   ; LD      HL,#FECF
f940 CDC7FA   ; CALL    #FAC7
f943 2017     ; JR      NZ,#F95C
f945 CD79FB   ; CALL    #FB79
f948 2808     ; JR      Z,#F952
f94a 3E64     ; LD      A,#64
f94c CD2AF6   ; CALL    #F62A
f94f 0E00     ; LD      C,#00
f951 C9       ; RET     
              ;
f952 CD94FA   ; CALL    #FA94
f955 3E63     ; LD      A,#63
f957 CD2AF6   ; CALL    #F62A
f95a 18DC     ; JR      #F938
f95c 21D5FE   ; LD      HL,#FED5
f95f CDC7FA   ; CALL    #FAC7
f962 200F     ; JR      NZ,#F973
f964 CD9DFB   ; CALL    #FB9D
f967 CD9EFA   ; CALL    #FA9E
f96a CD94FA   ; CALL    #FA94
f96d CD99F6   ; CALL    #F699
f970 5F       ; LD      E,A
f971 18C5     ; JR      #F938
f973 21DAFE   ; LD      HL,#FEDA
f976 CDC7FA   ; CALL    #FAC7
f979 2007     ; JR      NZ,#F982
f97b CD99F6   ; CALL    #F699
f97e 68       ; LD      L,B
f97f 0E01     ; LD      C,#01
f981 C9       ; RET     
              ;
f982 CD1BEF   ; CALL    #EF1B
f985 CD56FD   ; CALL    #FD56
f988 64       ; LD      H,H
f989 CD9EF6   ; CALL    #F69E
f98c 03       ; INC     BC
f98d 6E       ; LD      L,(HL)
f98e 2600     ; LD      H,#00
f990 C9       ; RET     
              ;
f991 2A9A0C   ; LD      HL,(#0C9A)
f994 ED5B960C ; LD      DE,(#0C96)
f998 B7       ; OR      A
f999 ED52     ; SBC     HL,DE
f99b 19       ; ADD     HL,DE
f99c 37       ; SCF     
f99d C8       ; RET     Z
              ;
f99e 23       ; INC     HL
f99f 5E       ; LD      E,(HL)
f9a0 23       ; INC     HL
f9a1 56       ; LD      D,(HL)
f9a2 19       ; ADD     HL,DE
f9a3 229A0C   ; LD      (#0C9A),HL
f9a6 C9       ; RET     
              ;
f9a7 CD91F9   ; CALL    #F991
f9aa D8       ; RET     C
              ;
f9ab DDE5     ; PUSH    IX
f9ad D1       ; POP     DE
f9ae C5       ; PUSH    BC
f9af 1A       ; LD      A,(DE)
f9b0 47       ; LD      B,A
f9b1 7E       ; LD      A,(HL)
f9b2 CBBF     ; RES     7,A
f9b4 B8       ; CP      B
f9b5 C1       ; POP     BC
f9b6 37       ; SCF     
f9b7 3F       ; CCF     
f9b8 C0       ; RET     NZ
              ;
f9b9 CB7E     ; BIT     7,(HL)
f9bb 2B       ; DEC     HL
f9bc 13       ; INC     DE
f9bd 28EF     ; JR      Z,#F9AE
f9bf 1A       ; LD      A,(DE)
f9c0 CDDFFB   ; CALL    #FBDF
f9c3 3802     ; JR      C,#F9C7
f9c5 AF       ; XOR     A
f9c6 C9       ; RET     
              ;
f9c7 AF       ; XOR     A
f9c8 3D       ; DEC     A
f9c9 C9       ; RET     
              ;
f9ca CDDDF9   ; CALL    #F9DD
f9cd CDA7F9   ; CALL    #F9A7
f9d0 D8       ; RET     C
              ;
f9d1 20FA     ; JR      NZ,#F9CD
f9d3 4E       ; LD      C,(HL)
f9d4 79       ; LD      A,C
f9d5 E638     ; AND     #38
f9d7 B8       ; CP      B
f9d8 20F3     ; JR      NZ,#F9CD
f9da C3FBFA   ; JP      #FAFB
f9dd 2A980C   ; LD      HL,(#0C98)
f9e0 229A0C   ; LD      (#0C9A),HL
f9e3 C9       ; RET     
              ;
f9e4 0600     ; LD      B,#00
f9e6 CDCAF9   ; CALL    #F9CA
f9e9 D8       ; RET     C
              ;
f9ea E5       ; PUSH    HL
f9eb 11AD0C   ; LD      DE,#0CAD
f9ee 010A00   ; LD      BC,#000A
f9f1 EDB8     ; LDDR    
f9f3 E1       ; POP     HL
f9f4 C9       ; RET     
              ;
f9f5 CD00FA   ; CALL    #FA00
f9f8 CD4FFD   ; CALL    #FD4F
f9fb 72       ; LD      (HL),D
f9fc 061E     ; LD      B,#1E
f9fe 1854     ; JR      #FA54
fa00 0608     ; LD      B,#08
fa02 18E2     ; JR      #F9E6
fa04 3AAD0C   ; LD      A,(#0CAD)
fa07 E603     ; AND     #03
fa09 80       ; ADD     A,B
fa0a C32AF6   ; JP      #F62A
fa0d 3AAD0C   ; LD      A,(#0CAD)
fa10 E603     ; AND     #03
fa12 17       ; RLA     
fa13 17       ; RLA     
fa14 80       ; ADD     A,B
fa15 47       ; LD      B,A
fa16 183C     ; JR      #FA54
fa18 CDE4F9   ; CALL    #F9E4
fa1b 061E     ; LD      B,#1E
fa1d 3035     ; JR      NC,#FA54
fa1f 0622     ; LD      B,#22
fa21 C5       ; PUSH    BC
fa22 CD00FA   ; CALL    #FA00
fa25 C1       ; POP     BC
fa26 D8       ; RET     C
              ;
fa27 C5       ; PUSH    BC
fa28 E5       ; PUSH    HL
fa29 CD8DFB   ; CALL    #FB8D
fa2c 3AA90C   ; LD      A,(#0CA9)
fa2f 57       ; LD      D,A
fa30 D5       ; PUSH    DE
fa31 CD94FA   ; CALL    #FA94
fa34 CDD0F5   ; CALL    #F5D0
fa37 D1       ; POP     DE
fa38 15       ; DEC     D
fa39 2805     ; JR      Z,#FA40
fa3b CDB5FB   ; CALL    #FBB5
fa3e 18F0     ; JR      #FA30
fa40 CD95FB   ; CALL    #FB95
fa43 E1       ; POP     HL
fa44 CDEAF9   ; CALL    #F9EA
fa47 C1       ; POP     BC
fa48 E5       ; PUSH    HL
fa49 CD54FA   ; CALL    #FA54
fa4c 2AA70C   ; LD      HL,(#0CA7)
fa4f CD4CF6   ; CALL    #F64C
fa52 E1       ; POP     HL
fa53 C9       ; RET     
              ;
fa54 2AA40C   ; LD      HL,(#0CA4)
fa57 3E11     ; LD      A,#11
fa59 CD49F6   ; CALL    #F649
fa5c 3AAD0C   ; LD      A,(#0CAD)
fa5f CB57     ; BIT     2,A
fa61 2802     ; JR      Z,#FA65
fa63 04       ; INC     B
fa64 04       ; INC     B
fa65 3AA60C   ; LD      A,(#0CA6)
fa68 4F       ; LD      C,A
fa69 3A9E0C   ; LD      A,(#0C9E)
fa6c B9       ; CP      C
fa6d 2808     ; JR      Z,#FA77
fa6f 04       ; INC     B
fa70 CD77FA   ; CALL    #FA77
fa73 79       ; LD      A,C
fa74 C351F6   ; JP      #F651
fa77 78       ; LD      A,B
fa78 C32AF6   ; JP      #F62A
fa7b CD18FA   ; CALL    #FA18
fa7e CD4FFD   ; CALL    #FD4F
fa81 71       ; LD      (HL),C
fa82 3AAD0C   ; LD      A,(#0CAD)
fa85 E603     ; AND     #03
fa87 32AD0C   ; LD      (#0CAD),A
fa8a C9       ; RET     
              ;
fa8b CD7BFA   ; CALL    #FA7B
fa8e 3D       ; DEC     A
fa8f CD56FD   ; CALL    #FD56
fa92 46       ; LD      B,(HL)
fa93 C9       ; RET     
              ;
fa94 CD21F5   ; CALL    #F521
fa97 CB41     ; BIT     0,C
fa99 C0       ; RET     NZ
              ;
fa9a CD5DFD   ; CALL    #FD5D
fa9d 61       ; LD      H,C
fa9e CD94FA   ; CALL    #FA94
faa1 CDB5FB   ; CALL    #FBB5
faa4 C3D0F5   ; JP      #F5D0
faa7 CD21F5   ; CALL    #F521
faaa CB49     ; BIT     1,C
faac C0       ; RET     NZ
              ;
faad CD5DFD   ; CALL    #FD5D
fab0 52       ; LD      D,D
fab1 CDC7FA   ; CALL    #FAC7
fab4 C8       ; RET     Z
              ;
fab5 2B       ; DEC     HL
fab6 CB7E     ; BIT     7,(HL)
fab8 23       ; INC     HL
fab9 28FB     ; JR      Z,#FAB6
fabb C5       ; PUSH    BC
fabc 48       ; LD      C,B
fabd 0600     ; LD      B,#00
fabf 09       ; ADD     HL,BC
fac0 C1       ; POP     BC
fac1 7E       ; LD      A,(HL)
fac2 3C       ; INC     A
fac3 20EC     ; JR      NZ,#FAB1
fac5 3D       ; DEC     A
fac6 C9       ; RET     
              ;
fac7 DDE5     ; PUSH    IX
fac9 D1       ; POP     DE
faca 7E       ; LD      A,(HL)
facb CDC5FB   ; CALL    #FBC5
face 3009     ; JR      NC,#FAD9
fad0 CDDFFA   ; CALL    #FADF
fad3 C0       ; RET     NZ
              ;
fad4 CDBFF9   ; CALL    #F9BF
fad7 1803     ; JR      #FADC
fad9 CDDFFA   ; CALL    #FADF
fadc C0       ; RET     NZ
              ;
fadd 181C     ; JR      #FAFB
fadf C5       ; PUSH    BC
fae0 1A       ; LD      A,(DE)
fae1 47       ; LD      B,A
fae2 7E       ; LD      A,(HL)
fae3 CBBF     ; RES     7,A
fae5 B8       ; CP      B
fae6 2807     ; JR      Z,#FAEF
fae8 FE41     ; CP      #41
faea 3803     ; JR      C,#FAEF
faec C620     ; ADD     A,#20
faee B8       ; CP      B
faef C1       ; POP     BC
faf0 23       ; INC     HL
faf1 13       ; INC     DE
faf2 C0       ; RET     NZ
              ;
faf3 2B       ; DEC     HL
faf4 CB7E     ; BIT     7,(HL)
faf6 23       ; INC     HL
faf7 28E6     ; JR      Z,#FADF
faf9 AF       ; XOR     A
fafa C9       ; RET     
              ;
fafb D5       ; PUSH    DE
fafc DDE1     ; POP     IX
fafe CDF9FD   ; CALL    #FDF9
fb01 DD7E00   ; LD      A,(IX+#00)
fb04 B7       ; OR      A
fb05 2819     ; JR      Z,#FB20
fb07 FE20     ; CP      #20
fb09 2815     ; JR      Z,#FB20
fb0b FE0D     ; CP      #0D
fb0d 2811     ; JR      Z,#FB20
fb0f FE7B     ; CP      #7B		{
fb11 2814     ; JR      Z,#FB27
fb13 FE28     ; CP      #28		(
fb15 2007     ; JR      NZ,#FB1E
fb17 DD7E01   ; LD      A,(IX+#01)
fb1a FE2A     ; CP      #2A		*
fb1c 2807     ; JR      Z,#FB25
fb1e AF       ; XOR     A
fb1f C9       ; RET     
              ;
fb20 CDF7FD   ; CALL    #FDF7
fb23 18DC     ; JR      #FB01
fb25 DD23     ; INC     IX
fb27 CDF7FD   ; CALL    #FDF7
fb2a DD7E00   ; LD      A,(IX+#00)
fb2d FE7D     ; CP      #7D
fb2f 28EF     ; JR      Z,#FB20
fb31 FE2A     ; CP      #2A
fb33 20F2     ; JR      NZ,#FB27
fb35 DD23     ; INC     IX
fb37 DD7E00   ; LD      A,(IX+#00)
fb3a FE29     ; CP      #29
fb3c 28E2     ; JR      Z,#FB20
fb3e 18EA     ; JR      #FB2A
fb40 21D4FF   ; LD      HL,#FFD4
fb43 CDC7FA   ; CALL    #FAC7
fb46 C8       ; RET     Z
              ;
fb47 CD5DFD   ; CALL    #FD5D
fb4a 113E3A   ; LD      DE,#3A3E
fb4d 1838     ; JR      #FB87
fb4f 3E5B     ; LD      A,#5B
fb51 CD87FB   ; CALL    #FB87
fb54 C8       ; RET     Z
              ;
fb55 3E28     ; LD      A,#28
fb57 DDBE00   ; CP      (IX+#00)
fb5a C0       ; RET     NZ
              ;
fb5b DD7E01   ; LD      A,(IX+#01)
fb5e FE2E     ; CP      #2E
fb60 C0       ; RET     NZ
              ;
fb61 DD23     ; INC     IX
fb63 18BB     ; JR      #FB20
fb65 3E5D     ; LD      A,#5D
fb67 CD87FB   ; CALL    #FB87
fb6a C8       ; RET     Z
              ;
fb6b 3E2E     ; LD      A,#2E
fb6d DDBE00   ; CP      (IX+#00)
fb70 C0       ; RET     NZ
              ;
fb71 DD7E01   ; LD      A,(IX+#01)
fb74 FE29     ; CP      #29
fb76 C0       ; RET     NZ
              ;
fb77 18E8     ; JR      #FB61
fb79 3E28     ; LD      A,#28
fb7b 180A     ; JR      #FB87
fb7d 3E29     ; LD      A,#29
fb7f 1806     ; JR      #FB87
fb81 3E3B     ; LD      A,#3B
fb83 1802     ; JR      #FB87
fb85 3E2C     ; LD      A,#2C
fb87 DDBE00   ; CP      (IX+#00)
fb8a C0       ; RET     NZ
              ;
fb8b 1893     ; JR      #FB20
fb8d CD4FFB   ; CALL    #FB4F
fb90 CD56FD   ; CALL    #FD56
fb93 04       ; INC     B
fb94 C9       ; RET     
              ;
fb95 CD65FB   ; CALL    #FB65
fb98 CD56FD   ; CALL    #FD56
fb9b 05       ; DEC     B
fb9c C9       ; RET     
              ;
fb9d CD79FB   ; CALL    #FB79
fba0 CD56FD   ; CALL    #FD56
fba3 06C9     ; LD      B,#C9
fba5 CD7DFB   ; CALL    #FB7D
fba8 CD56FD   ; CALL    #FD56
fbab 07       ; RLCA    
fbac C9       ; RET     
              ;
fbad CD81FB   ; CALL    #FB81
fbb0 CD56FD   ; CALL    #FD56
fbb3 01C9CD   ; LD      BC,#CDC9
fbb6 85       ; ADD     A,L
fbb7 FB       ; EI      
fbb8 CD56FD   ; CALL    #FD56
fbbb 08       ; EX      AF,AF'
fbbc C9       ; RET     
              ;
fbbd CD4BFB   ; CALL    #FB4B
fbc0 CD56FD   ; CALL    #FD56
fbc3 03       ; INC     BC
fbc4 C9       ; RET     
              ;
fbc5 FE41     ; CP      #41
fbc7 3F       ; CCF     
fbc8 D0       ; RET     NC
              ;
fbc9 FE5B     ; CP      #5B
fbcb D8       ; RET     C
              ;
fbcc FE5F     ; CP      #5F
fbce 37       ; SCF     
fbcf C8       ; RET     Z
              ;
fbd0 FE5C     ; CP      #5C
fbd2 37       ; SCF     
fbd3 C8       ; RET     Z
              ;
fbd4 FE61     ; CP      #61
fbd6 3F       ; CCF     
fbd7 D0       ; RET     NC
              ;
fbd8 FE7B     ; CP      #7B
fbda C9       ; RET     
              ;
fbdb FE2E     ; CP      #2E
fbdd 37       ; SCF     
fbde C8       ; RET     Z
              ;
fbdf CDC5FB   ; CALL    #FBC5
fbe2 D8       ; RET     C
              ;
fbe3 FE30     ; CP      #30
fbe5 3F       ; CCF     
fbe6 D0       ; RET     NC
              ;
fbe7 FE3A     ; CP      #3A
fbe9 C9       ; RET     
              ;
fbea 0638     ; LD      B,#38
fbec CDCAF9   ; CALL    #F9CA
fbef 3823     ; JR      C,#FC14
fbf1 2B       ; DEC     HL
fbf2 79       ; LD      A,C
fbf3 E603     ; AND     #03
fbf5 4F       ; LD      C,A
fbf6 B7       ; OR      A
fbf7 2010     ; JR      NZ,#FC09
fbf9 C5       ; PUSH    BC
fbfa 46       ; LD      B,(HL)
fbfb 2B       ; DEC     HL
fbfc 4E       ; LD      C,(HL)
fbfd 2B       ; DEC     HL
fbfe 56       ; LD      D,(HL)
fbff 2B       ; DEC     HL
fc00 5E       ; LD      E,(HL)
fc01 2B       ; DEC     HL
fc02 7E       ; LD      A,(HL)
fc03 2B       ; DEC     HL
fc04 6E       ; LD      L,(HL)
fc05 67       ; LD      H,A
fc06 D9       ; EXX     
fc07 C1       ; POP     BC
fc08 C9       ; RET     
              ;
fc09 3D       ; DEC     A
fc0a 2005     ; JR      NZ,#FC11
fc0c 56       ; LD      D,(HL)
fc0d 2B       ; DEC     HL
fc0e 5E       ; LD      E,(HL)
fc0f EB       ; EX      DE,HL
fc10 C9       ; RET     
              ;
fc11 46       ; LD      B,(HL)
fc12 2B       ; DEC     HL
fc13 C9       ; RET     
              ;
fc14 21E5FE   ; LD      HL,#FEE5
fc17 CDC7FA   ; CALL    #FAC7
fc1a 200D     ; JR      NZ,#FC29
fc1c 010F49   ; LD      BC,#490F
fc1f 11A2DA   ; LD      DE,#DAA2
fc22 218221   ; LD      HL,#2182
fc25 D9       ; EXX     
fc26 AF       ; XOR     A
fc27 4F       ; LD      C,A
fc28 C9       ; RET     
              ;
fc29 0602     ; LD      B,#02
fc2b 21E7FE   ; LD      HL,#FEE7
fc2e CDB1FA   ; CALL    #FAB1
fc31 2007     ; JR      NZ,#FC3A
fc33 5E       ; LD      E,(HL)
fc34 23       ; INC     HL
fc35 56       ; LD      D,(HL)
fc36 EB       ; EX      DE,HL
fc37 0E01     ; LD      C,#01
fc39 C9       ; RET     
              ;
fc3a 21FDFE   ; LD      HL,#FEFD
fc3d CDC7FA   ; CALL    #FAC7
fc40 010200   ; LD      BC,#0002
fc43 C8       ; RET     Z
              ;
fc44 DD7E00   ; LD      A,(IX+#00)
fc47 FE27     ; CP      #27
fc49 2029     ; JR      NZ,#FC74
fc4b DDE5     ; PUSH    IX
fc4d E1       ; POP     HL
fc4e CDF7FD   ; CALL    #FDF7
fc51 DD7E00   ; LD      A,(IX+#00)
fc54 FE0D     ; CP      #0D
fc56 2818     ; JR      Z,#FC70
fc58 CDF7FD   ; CALL    #FDF7
fc5b FE27     ; CP      #27
fc5d C26CFC   ; JP      NZ,#FC6C
fc60 DD7E00   ; LD      A,(IX+#00)
fc63 FE27     ; CP      #27
fc65 C201FB   ; JP      NZ,#FB01
fc68 CDF7FD   ; CALL    #FDF7
fc6b 23       ; INC     HL
fc6c 23       ; INC     HL
fc6d 04       ; INC     B
fc6e 18E1     ; JR      #FC51
fc70 CD5DFD   ; CALL    #FD5D
fc73 65       ; LD      H,L
fc74 3E24     ; LD      A,#24
fc76 CD87FB   ; CALL    #FB87
fc79 2837     ; JR      Z,#FCB2
fc7b DD7E00   ; LD      A,(IX+#00)
fc7e CDE3FB   ; CALL    #FBE3
fc81 3F       ; CCF     
fc82 D8       ; RET     C
              ;
fc83 DDE5     ; PUSH    IX
fc85 D1       ; POP     DE
fc86 13       ; INC     DE
fc87 1A       ; LD      A,(DE)
fc88 CDE3FB   ; CALL    #FBE3
fc8b 38F9     ; JR      C,#FC86
fc8d FE45     ; CP      #45
fc8f 280E     ; JR      Z,#FC9F
fc91 FE2E     ; CP      #2E
fc93 2016     ; JR      NZ,#FCAB
fc95 13       ; INC     DE
fc96 1A       ; LD      A,(DE)
fc97 FE2E     ; CP      #2E
fc99 2810     ; JR      Z,#FCAB
fc9b FE29     ; CP      #29
fc9d 280C     ; JR      Z,#FCAB
fc9f CD77D8   ; CALL    #D877
fca2 D9       ; EXX     
fca3 0E00     ; LD      C,#00
fca5 DA70FC   ; JP      C,#FC70
fca8 C301FB   ; JP      #FB01
fcab CDE9D9   ; CALL    #D9E9
fcae 0E01     ; LD      C,#01
fcb0 18F3     ; JR      #FCA5
fcb2 0E01     ; LD      C,#01
fcb4 210000   ; LD      HL,#0000
fcb7 DD7E00   ; LD      A,(IX+#00)
fcba D630     ; SUB     #30
fcbc 38EA     ; JR      C,#FCA8
fcbe FE0A     ; CP      #0A
fcc0 380A     ; JR      C,#FCCC
fcc2 D607     ; SUB     #07
fcc4 FE0A     ; CP      #0A
fcc6 38E0     ; JR      C,#FCA8
fcc8 FE10     ; CP      #10
fcca 30DC     ; JR      NC,#FCA8
fccc 29       ; ADD     HL,HL
fccd 29       ; ADD     HL,HL
fcce 29       ; ADD     HL,HL
fccf 29       ; ADD     HL,HL
fcd0 B5       ; OR      L
fcd1 6F       ; LD      L,A
fcd2 CDF7FD   ; CALL    #FDF7
fcd5 18E0     ; JR      #FCB7
fcd7 3E2D     ; LD      A,#2D
fcd9 CD87FB   ; CALL    #FB87
fcdc C8       ; RET     Z
              ;
fcdd 3E2B     ; LD      A,#2B
fcdf CD87FB   ; CALL    #FB87
fce2 AF       ; XOR     A
fce3 3D       ; DEC     A
fce4 C9       ; RET     
              ;
fce5 CDD7FC   ; CALL    #FCD7
fce8 F5       ; PUSH    AF
fce9 CDEAFB   ; CALL    #FBEA
fcec CD4FFD   ; CALL    #FD4F
fcef 23       ; INC     HL
fcf0 F1       ; POP     AF
fcf1 C0       ; RET     NZ
              ;
fcf2 CB49     ; BIT     1,C
fcf4 CD56FD   ; CALL    #FD56
fcf7 50       ; LD      D,B
fcf8 CB41     ; BIT     0,C
fcfa 2007     ; JR      NZ,#FD03
fcfc D9       ; EXX     
fcfd 78       ; LD      A,B
fcfe EE80     ; XOR     #80
fd00 47       ; LD      B,A
fd01 D9       ; EXX     
fd02 C9       ; RET     
              ;
fd03 7C       ; LD      A,H
fd04 2F       ; CPL     
fd05 67       ; LD      H,A
fd06 7D       ; LD      A,L
fd07 2F       ; CPL     
fd08 6F       ; LD      L,A
fd09 23       ; INC     HL
fd0a C9       ; RET     
              ;
fd0b CDE5FC   ; CALL    #FCE5
fd0e 79       ; LD      A,C
fd0f 3D       ; DEC     A
fd10 C8       ; RET     Z
              ;
fd11 CD5DFD   ; CALL    #FD5D
fd14 30CD     ; JR      NC,#FCE3
fd16 EAFB38   ; JP      PE,#38FB
fd19 F7       ; RST     #30     ; ROUT    Output the character in the A register.
fd1a 79       ; LD      A,C
fd1b 3D       ; DEC     A
fd1c 20F3     ; JR      NZ,#FD11
fd1e 7C       ; LD      A,H
fd1f B7       ; OR      A
fd20 7D       ; LD      A,L
fd21 C8       ; RET     Z
              ;
fd22 CD5DFD   ; CALL    #FD5D
fd25 33       ; INC     SP
fd26 CDEAFB   ; CALL    #FBEA
fd29 3803     ; JR      C,#FD2E
fd2b CB49     ; BIT     1,C
fd2d C0       ; RET     NZ
              ;
fd2e CD5DFD   ; CALL    #FD5D
fd31 31B7ED   ; LD      SP,#EDB7
fd34 52       ; LD      D,D
fd35 19       ; ADD     HL,DE
fd36 C9       ; RET     
              ;
fd37 42       ; LD      B,D
fd38 4B       ; LD      C,E
fd39 EB       ; EX      DE,HL
fd3a 210000   ; LD      HL,#0000
fd3d 3E10     ; LD      A,#10
fd3f CB38     ; SRL     B
fd41 CB19     ; RR      C
fd43 3002     ; JR      NC,#FD47
fd45 19       ; ADD     HL,DE
fd46 D8       ; RET     C
              ;
fd47 EB       ; EX      DE,HL
fd48 29       ; ADD     HL,HL
fd49 EB       ; EX      DE,HL
fd4a 3D       ; DEC     A
fd4b 20F2     ; JR      NZ,#FD3F
fd4d B7       ; OR      A
fd4e C9       ; RET     
              ;
fd4f E3       ; EX      (SP),HL
fd50 7E       ; LD      A,(HL)
fd51 23       ; INC     HL
fd52 E3       ; EX      (SP),HL
fd53 D0       ; RET     NC
              ;
fd54 1809     ; JR      #FD5F
fd56 E3       ; EX      (SP),HL
fd57 7E       ; LD      A,(HL)
fd58 23       ; INC     HL
fd59 E3       ; EX      (SP),HL
fd5a C8       ; RET     Z
              ;
fd5b 1802     ; JR      #FD5F
fd5d E1       ; POP     HL
fd5e 7E       ; LD      A,(HL)
fd5f 310010   ; LD      SP,#1000
fd62 F5       ; PUSH    AF
fd63 AF       ; XOR     A
fd64 32000C   ; LD      (#0C00),A ; 0C00 PORT0     Copy of current state of output part 0.
fd67 DDE5     ; PUSH    IX
fd69 E1       ; POP     HL
fd6a E5       ; PUSH    HL
fd6b 110010   ; LD      DE,#1000
fd6e CD1BE8   ; CALL    #E81B
fd71 E5       ; PUSH    HL
fd72 CD24E2   ; CALL    #E224
fd75 D1       ; POP     DE
fd76 E1       ; POP     HL
fd77 AF       ; XOR     A
fd78 ED52     ; SBC     HL,DE
fd7a 112F00   ; LD      DE,#002F
fd7d ED52     ; SBC     HL,DE
fd7f 3003     ; JR      NC,#FD84
fd81 19       ; ADD     HL,DE
fd82 1802     ; JR      #FD86
fd84 7D       ; LD      A,L
fd85 EB       ; EX      DE,HL
fd86 328C0C   ; LD      (#0C8C),A
fd89 110A08   ; LD      DE,#080A
fd8c 19       ; ADD     HL,DE
fd8d 228A0C   ; LD      (#0C8A),HL
fd90 CD5CE8   ; CALL    #E85C
fd93 21D0FD   ; LD      HL,#FDD0	; Message "Compilation Error"
fd96 11CA0B   ; LD      DE,#0BCA	; Line 16 (top line on screen) 
fd99 011100   ; LD      BC,#0011	; move 17 chars
fd9c EDB0     ; LDIR    
fd9e F1       ; POP     AF
fd9f F5       ; PUSH    AF
fda0 1F       ; RRA     
fda1 1F       ; RRA     
fda2 1F       ; RRA     
fda3 1F       ; RRA     
fda4 21DC0B   ; LD      HL,#0BDC
fda7 D7       ; RST     #10		RCAL
fda8 21F123   ; LD      HL,#23F1
fdab D7       ; RST     #10		RCAL
fdac 1D       ; DEC     E
fdad 21E1FD   ; LD      HL,#FDE1	; Message "Press <SPACE>"
fdb0 11ED0B   ; LD      DE,#0BED	; Line 16 (top line on screen) 
fdb3 010D00   ; LD      BC,#000D	; move 13 chars
fdb6 EDB0     ; LDIR    
fdb8 DF7B     ; RST     #18; db #7B ;   SCAL #7B = SCAL BLINK Obtain an input character in A. Blink cursor while waiting. 
fdba FE20     ; CP      #20
fdbc 20FA     ; JR      NZ,#FDB8
fdbe 21CA0B   ; LD      HL,#0BCA
fdc1 0630     ; LD      B,#30
fdc3 77       ; LD      (HL),A
fdc4 23       ; INC     HL
fdc5 10FC     ; DJNZ    #FDC3
fdc7 C33AE4   ; JP      #E43A
fdca E60F     ; AND     #0F
fdcc C630     ; ADD     A,#30
fdce 77       ; LD      (HL),A
fdcf C9       ; RET     
              ;
fdd0 43       ; defb "Compilation Error
fdd1 6F       
fdd2 6D       
fdd3 70       
fdd4 69       
fdd5 6C       
fdd6 61       
fdd7 74       
fdd8 69       
fdd9 6F       
fdda 6E       
fddb 2065     
fddd 72       
fdde 72       
fddf 6F       
fde0 72       

fde1 50       ; defb "Press <SPACE>"
fde2 72       
fde3 65       
fde4 73       
fde5 73       
fde6 203C     
fde8 53       
fde9 50       
fdea 41       
fdeb 43       
fdec 45       
fded 3E

fdee 210010   ; LD      HL,#1000   
fdf0 CD 
fdf2 24 
fdf3 E2C393   
fdf6 E7       
fdf7 DD23     
fdf9 E5       ; PUSH    HL
fdfa D5       ; PUSH    DE
fdfb 2A820C   ; LD      HL,(#0C82)	; 0c82-0c83	EOFP	end address sourcetext
fdfe DDE5     ; PUSH    IX
fe00 D1       ; POP     DE
fe01 37       ; SCF     
fe02 ED52     ; SBC     HL,DE
fe04 D1       ; POP     DE
fe05 E1       ; POP     HL
fe06 D0       ; RET     NC
              ;
fe07 DD2A820C ; LD      IX,(#0C82)	; 0c82-0c83	EOFP	end address sourcetext
fe0b CD5DFD   ; CALL    #FD5D
fe0e 99       ; SBC     A,C
fe0f 3C       ; INC     A
fe10 BE       ; CP      (HL)
fe11 40       ; LD      B,B
fe12 3EBD     ; LD      A,#BD
fe14 013CBD   ; LD      BC,#BD3C
fe17 C1       ; POP     BC
fe18 BD       ; CP      L
fe19 C0       ; RET     NZ
              ;
fe1a BE       ; CP      (HL)
fe1b 41       ; LD      B,C
fe1c BC       ; CP      H
fe1d 81       ; ADD     A,C
fe1e FF       ; RST     #38
fe1f AB       ; XOR     E
fe20 01C82D   ; LD      BC,#2DC8
fe23 AD       ; XOR     L
fe24 01C92E   ; LD      BC,#2EC9
fe27 4F       ; LD      C,A
fe28 D20041   ; JP      NC,#4100
fe2b 00       ; NOP     
fe2c 45       ; LD      B,L
fe2d 58       ; LD      E,B
fe2e 4F       ; LD      C,A
fe2f D20042   ; JP      NC,#4200
fe32 00       ; NOP     
fe33 FF       ; RST     #38
fe34 AA       ; XOR     D
fe35 013D2F   ; LD      BC,#2F3D
fe38 AF       ; XOR     A
fe39 02       ; LD      (BC),A
fe3a 00       ; NOP     
fe3b 3044     ; JR      NC,#FE81
fe3d 49       ; LD      C,C
fe3e D600     ; SUB     #00
fe40 3E00     ; LD      A,#00
fe42 4D       ; LD      C,L
fe43 4F       ; LD      C,A
fe44 C4003F   ; CALL    NZ,#3F00
fe47 00       ; NOP     
fe48 41       ; LD      B,C
fe49 4E       ; LD      C,(HL)
fe4a C40040   ; CALL    NZ,#4000
fe4d 00       ; NOP    
 
fe4e 53       ; SHIFT        
fe4f 48       ; NOT          
fe50 49       ; SQRT         
fe51 46       ; SIN          
fe52 D40044   ; COS          
fe55 00       ; ARCTAN       
fe56 FF       ; LN           
fe57 4E       ; EXP          
fe58 4F       ; INT          
fe59 D44D3B   ; FRAC         
fe5c 53       ; ABSE         
fe5d 51       ; SQR          
fe5e 52       ; TRUNC        
fe5f D43253   ; ROUND        
fe62 49       ; ODD          
fe63 CE33     ; SUCC         
fe65 43       ; PRED         
fe66 4F       ; ORD          
fe67 D334     ; LENGTH       
fe69 41       ; CHR          
fe6a 52       ; CONCAT       
fe6b 43       ; MID          
fe6c 54       ; LEFT         
fe6d 41       ; RIGHT        
fe6e CE35     ; ADDR         
fe70 4C       ; RANDOM       
fe71 CE36     ; POINT        
fe73 45       ; KEYBOARD     
fe74 58       ; MEM          
fe75 D0       ; PI           
              ; TRUE         
fe76 37       ; FALSE        
fe77 49       ; MAXINT       
fe78 4E       ; EMPTY        
fe79 D43846   ; LABEL        
fe7c 52       ; CONST        
fe7d 41       ; ARRAY        
fe7e C339FF   ; ..           
fe81 41       ; OF           
fe82 42       ; REAL         
fe83 D345     ; INTEGER      
fe85 00       ; BOOLEAN      
fe86 53       ; STRING       
fe87 51       ;    
fe88 D24631   ;    
fe8b FF       ;    
fe8c 54       ;    
fe8d 52       ;    
fe8e 55       ;    
fe8f 4E       ;   
fe90 C34752   ;    
fe93 4F       ;    
fe94 55       ;    
fe95 4E       ;    
fe96 C448FF   ;    
fe99 4F       ;    
fe9a 44       ;    
fe9b C45355   ;    
fe9e 43       ;    
fe9f C32350   ;    
fea2 52       ;    
fea3 45       ;    
fea4 C42BFF   ;    
fea7 4F       ;    
fea8 52       ;    
fea9 C44A4C   ;    
feac 45       ;    
fead 4E       ;    
feae 47       ;    
feaf 54       ;    
feb0 C8       ;    
              ;    
feb1 4B       ;    
feb2 FF       ;    
feb3 43       ;              
feb4 48       ; 
feb5 D2434F   ; 
feb8 4E       ; 
feb9 43       ; 
feba 41       ; 
febb D44D49   ; 
febe C44C45   ; 
fec1 46       ; 
fec2 D45052   ; 
fec5 49       ; 
fec6 47       ; 
fec7 48       ; 
fec8 D451FF   ; 
fecb 41       ; 
fecc 44       ; 
fecd 44       ; 
fece D25241   ; 
fed1 4E       ; 
fed2 44       ; 
fed3 4F       ; 
fed4 CD504F   ; 
fed7 49       ; 
fed8 4E       ; 
fed9 D44B45   ; 
fedc 59       ; 
fedd 42       ; 
fede 4F       ; 
fedf 41       ; 
fee0 52       ; 
fee1 C44D45   ; 
fee4 CD50C9   ; 
fee7 54       ; 
fee8 52       ; 
fee9 55       ; 
feea C5       ; 
feeb FF       ; 
feec FF       ; 
feed 46       ; 
feee 41       ; 
feef 4C       ; 
fef0 53       ; 
fef1 C5       ; 
fef2 00       ; 
fef3 00       ; 
fef4 4D       ; 
fef5 41       ; 
fef6 58       ; 
fef7 49       ; 
fef8 4E       ; 
fef9 D4FF7F   ; 
fefc FF       ; 
fefd 45       ; 
fefe 4D       ; 
feff 50       ; 
ff00 54       ; 
ff01 D9       ; 
ff02 4C       ; 
ff03 41       ; 
ff04 42       ; 
ff05 45       ; 
ff06 CC434F   ; 
ff09 4E       ; 
ff0a 53       ; 
ff0b D44152   ; 
ff0e 52       ; 
ff0f 41       ; 
ff10 D9       ; 
ff11 2EAE     ; 
ff13 4F       ; 
ff14 C652     ; 
ff16 45       ; 
ff17 41       ; 
ff18 CC0005   ; 
ff1b 49       ; 
ff1c 4E       ; 
ff1d 54       ; 
ff1e 45       ; 
ff1f 47       ; 
ff20 45       ; 
ff21 D20101   ; 
ff24 42       ; 
ff25 4F       ; 
ff26 4F       ; 
ff27 4C       ; 
ff28 45       ; 
ff29 41       ; 
ff2a CE01     ; 
ff2c 015354   ; 
ff2f 52       ; 
ff30 49       ; 
ff31 4E       ; 
ff32 C7       ; 
ff33 02       ; 
ff34 00       ; 
ff35 FF       ; 

; Start of reserved word table

ff36 50       ; PROGRAM   
ff37 52       ; VAR       
ff38 4F       ; BEGIN     
ff39 47       ; PROCEDURE 
ff3a 52       ; FUNCTION  
ff3b 41       ; EXTERNAL  
ff3c CD5641   ; BEGIN     
ff3f D20042   ; IF        
ff42 45       ; CASE      
ff43 47       ; WHILE     
ff44 49       ; REPEAT    
ff45 CE00     ; FOR       
ff47 50       ; GOTO      
ff48 52       ; INIT      
ff49 4F       ; WRITE     
ff4a 43       ; WRITELN   
ff4b 45       ; READ      
ff4c 44       ; READLN    
ff4d 55       ; SCREEN    
ff4e 52       ; PLOT      
ff4f C5       ; SAVE      
ff50 00       ; LOAD      
ff51 46       ; CALL      
ff52 55       ; :=        
ff53 4E       ; THEN      
ff54 43       ; ELSE      
ff55 54       ; DO        
ff56 49       ; UNTIL     
ff57 4F       ; DOWNTO    
ff58 CEFF     ; OTHERS    
ff5a FF       ; END       
ff5b 45       ; 
ff5c 58       ; 
ff5d 54       ; 
ff5e 45       ; 
ff5f 52       ; 
ff60 4E       ; 
ff61 41       ; 
ff62 CC4245   ; 
ff65 47       ; 
ff66 49       ; 
ff67 CECC     ; 
ff69 ED49     ; 
ff6b C62B     ; 
ff6d EF       ; 
ff6e 43       ; 
ff6f 41       ; 
ff70 53       ; 
ff71 C5       ; 
ff72 62       ; 
ff73 EF       ; 
ff74 57       ; 
ff75 48       ; 
ff76 49       ; 
ff77 4C       ; 
ff78 C5       ; 
ff79 13       ; 
ff7a F0       ; 
              ;
ff7b 52       ; 
ff7c 45       ; 
ff7d 50       ; 
ff7e 45       ; 
ff7f 41       ; 
ff80 D43DF0   ; 
ff83 46       ; 
ff84 4F       ; 
ff85 D25DF0   ; 
ff88 47       ; 
ff89 4F       ; 
ff8a 54       ; 
ff8b CF       ; 
ff8c DCF049   ; 
ff8f 4E       ; 
ff90 49       ; 
ff91 D40AF2   ; 
ff94 FF       ; 
ff95 57       ; 
ff96 52       ; 
ff97 49       ; 
ff98 54       ; 
ff99 C5       ; 
ff9a 0EF1     ; 
ff9c 57       ; 
ff9d 52       ; 
ff9e 49       ; 
ff9f 54       ; 
ffa0 45       ; 
ffa1 4C       ; 
ffa2 CE9E     ; 
ffa4 F1       ; 
ffa5 52       ; 
ffa6 45       ; 
ffa7 41       ; 
ffa8 C4AFF1   ; 
ffab 52       ; 
ffac 45       ; 
ffad 41       ; 
ffae 44       ; 
ffaf 4C       ; 
ffb0 CEAB     ; 
ffb2 F1       ; 
ffb3 53         defb "SCREEN" + $80
	43        
	52        
	45        
	45        
	CE
ffb9 E9F1       defw $F1E9
ffbb 50         defb "PLOT" + $80
	4C       
	4F       
	D4
ffbf F4F1   	defw $F1F4
ffc1 53       ; 
ffc2 41       ; 
ffc3 56       ; 
ffc4 C5       ; 
ffc5 DCF24C   ; 
ffc8 4F       ; 
ffc9 41       ; 
ffca C4EBF2   ; 
ffcd 43       ; 
ffce 41       ; 
ffcf 4C       ; 
ffd0 CCE2F1   ; 
ffd3 FF       ; 
ffd4 3ABD54   ; 
ffd7 48       ; 
ffd8 45       ; 
ffd9 CE45     ; 
ffdb 4C       ; 
ffdc 53       ; 
ffdd C5       ; 
ffde 44       ; 
ffdf CF       ; 
ffe0 55       ; 
ffe1 4E       ; 
ffe2 54       ; 
ffe3 49       ; 
ffe4 CC444F   ; 
ffe7 57       ; 
ffe8 4E       ; 
ffe9 54       ; 
ffea CF       ; 
ffeb 4F       ; 
ffec 54       ; 
ffed 48       ; 
ffee 45       ; 
ffef 52       ; 
fff0 D345     ; 
fff2 4E       ; 
fff3 C40000   ; 
fff6 00       ; 
fff7 00       ; 
fff8 00       ; 
fff9 00       ; 
fffa C380E1   ; JP      #E180	; Cold Start
fffd C382E1   ; JP      #E182	; Warm Start (executed with Z command from NAS-SYS)
