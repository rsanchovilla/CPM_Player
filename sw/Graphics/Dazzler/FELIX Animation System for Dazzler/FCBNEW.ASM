	ORG	5520H
* THIS ROUTINE COPIES THE FCB POINTED TO BY HL TO THE ONE POINTED TO
* BY DE
FCBMOV:	PUSH	B ! PUSH D ! PUSH H
	MVI	B,33	;33 BYTES/FCB
FMLOOP:	MOV	A,M	;GET BYTE
	STAX	D	;COPY IT
	INX	H ! INX D
	DCR	B
	JNZ	FMLOOP	;JUMP IF MORE BYTES TO COPY
	POP	H ! POP D ! POP B
	RET
;11 JULY 79 / MOSHELL
; ROUTINES TO TURN ON AND OFF THE DISPLAY.
;
ONBUF	EQU	5090H
	ORG	5600H
DISPOFF:SUB	A
	OUT	0EH	;TURN OFF DAZZLER.
	RET
DISPON:	LDA	ONBUF+1	;GET HIGH PART OF BUFFER ADDRESS.
	STC
	RAR		;BUILD DAZZ COMMAND WORD:HI-BIT
	OUT	0EH	;SET TURNS ON DAZZLER.
	MVI	A,30H	; SELECT 64X64 COLOR.
	OUT	0FH
	RET
